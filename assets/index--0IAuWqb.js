var nR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var uU=nR((nn,rn)=>{function ow(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Yn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aw={exports:{}},$c={},lw={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cl=Symbol.for("react.element"),rR=Symbol.for("react.portal"),iR=Symbol.for("react.fragment"),sR=Symbol.for("react.strict_mode"),oR=Symbol.for("react.profiler"),aR=Symbol.for("react.provider"),lR=Symbol.for("react.context"),uR=Symbol.for("react.forward_ref"),cR=Symbol.for("react.suspense"),dR=Symbol.for("react.memo"),hR=Symbol.for("react.lazy"),Dy=Symbol.iterator;function fR(t){return t===null||typeof t!="object"?null:(t=Dy&&t[Dy]||t["@@iterator"],typeof t=="function"?t:null)}var uw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cw=Object.assign,dw={};function uo(t,e,n){this.props=t,this.context=e,this.refs=dw,this.updater=n||uw}uo.prototype.isReactComponent={};uo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};uo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hw(){}hw.prototype=uo.prototype;function em(t,e,n){this.props=t,this.context=e,this.refs=dw,this.updater=n||uw}var tm=em.prototype=new hw;tm.constructor=em;cw(tm,uo.prototype);tm.isPureReactComponent=!0;var by=Array.isArray,fw=Object.prototype.hasOwnProperty,nm={current:null},pw={key:!0,ref:!0,__self:!0,__source:!0};function mw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fw.call(e,r)&&!pw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:cl,type:t,key:s,ref:o,props:i,_owner:nm.current}}function pR(t,e){return{$$typeof:cl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rm(t){return typeof t=="object"&&t!==null&&t.$$typeof===cl}function mR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Oy=/\/+/g;function yh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mR(""+t.key):e.toString(36)}function Iu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cl:case rR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+yh(o,0):r,by(i)?(n="",t!=null&&(n=t.replace(Oy,"$&/")+"/"),Iu(i,e,n,"",function(u){return u})):i!=null&&(rm(i)&&(i=pR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Oy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",by(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+yh(s,a);o+=Iu(s,e,n,l,i)}else if(l=fR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+yh(s,a++),o+=Iu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ql(t,e,n){if(t==null)return t;var r=[],i=0;return Iu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function gR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},Su={transition:null},yR={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:Su,ReactCurrentOwner:nm};ue.Children={map:Ql,forEach:function(t,e,n){Ql(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ql(t,function(){e++}),e},toArray:function(t){return Ql(t,function(e){return e})||[]},only:function(t){if(!rm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=uo;ue.Fragment=iR;ue.Profiler=oR;ue.PureComponent=em;ue.StrictMode=sR;ue.Suspense=cR;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yR;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)fw.call(e,l)&&!pw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:cl,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:lR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aR,_context:t},t.Consumer=t};ue.createElement=mw;ue.createFactory=function(t){var e=mw.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:uR,render:t}};ue.isValidElement=rm;ue.lazy=function(t){return{$$typeof:hR,_payload:{_status:-1,_result:t},_init:gR}};ue.memo=function(t,e){return{$$typeof:dR,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Su.transition;Su.transition={};try{t()}finally{Su.transition=e}};ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ue.useCallback=function(t,e){return $t.current.useCallback(t,e)};ue.useContext=function(t){return $t.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};ue.useEffect=function(t,e){return $t.current.useEffect(t,e)};ue.useId=function(){return $t.current.useId()};ue.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return $t.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};ue.useRef=function(t){return $t.current.useRef(t)};ue.useState=function(t){return $t.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return $t.current.useTransition()};ue.version="18.2.0";lw.exports=ue;var I=lw.exports;const gw=Fc(I),vR=ow({__proto__:null,default:gw},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R=I,wR=Symbol.for("react.element"),ER=Symbol.for("react.fragment"),TR=Object.prototype.hasOwnProperty,IR=_R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SR={key:!0,ref:!0,__self:!0,__source:!0};function yw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)TR.call(e,r)&&!SR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wR,type:t,key:s,ref:o,props:i,_owner:IR.current}}$c.Fragment=ER;$c.jsx=yw;$c.jsxs=yw;aw.exports=$c;var m=aw.exports,yf={},vw={exports:{}},ln={},_w={exports:{}},ww={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,G){var Y=V.length;V.push(G);e:for(;0<Y;){var oe=Y-1>>>1,ye=V[oe];if(0<i(ye,G))V[oe]=G,V[Y]=ye,Y=oe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var G=V[0],Y=V.pop();if(Y!==G){V[0]=Y;e:for(var oe=0,ye=V.length,Yt=ye>>>1;oe<Yt;){var He=2*(oe+1)-1,it=V[He],st=He+1,dn=V[st];if(0>i(it,Y))st<ye&&0>i(dn,it)?(V[oe]=dn,V[st]=Y,oe=st):(V[oe]=it,V[He]=Y,oe=He);else if(st<ye&&0>i(dn,Y))V[oe]=dn,V[st]=Y,oe=st;else break e}}return G}function i(V,G){var Y=V.sortIndex-G.sortIndex;return Y!==0?Y:V.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,g=!1,w=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(V){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=V)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function A(V){if(_=!1,v(V),!w)if(n(l)!==null)w=!0,Ln(D);else{var G=n(u);G!==null&&Se(A,G.startTime-V)}}function D(V,G){w=!1,_&&(_=!1,f(b),b=-1),g=!0;var Y=h;try{for(v(G),d=n(l);d!==null&&(!(d.expirationTime>G)||V&&!ce());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,h=d.priorityLevel;var ye=oe(d.expirationTime<=G);G=t.unstable_now(),typeof ye=="function"?d.callback=ye:d===n(l)&&r(l),v(G)}else r(l);d=n(l)}if(d!==null)var Yt=!0;else{var He=n(u);He!==null&&Se(A,He.startTime-G),Yt=!1}return Yt}finally{d=null,h=Y,g=!1}}var y=!1,R=null,b=-1,$=5,W=-1;function ce(){return!(t.unstable_now()-W<$)}function We(){if(R!==null){var V=t.unstable_now();W=V;var G=!0;try{G=R(!0,V)}finally{G?ge():(y=!1,R=null)}}else y=!1}var ge;if(typeof p=="function")ge=function(){p(We)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,er=rt.port2;rt.port1.onmessage=We,ge=function(){er.postMessage(null)}}else ge=function(){E(We,0)};function Ln(V){R=V,y||(y=!0,ge())}function Se(V,G){b=E(function(){V(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,Ln(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var Y=h;h=G;try{return V()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,G){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=h;h=V;try{return G()}finally{h=Y}},t.unstable_scheduleCallback=function(V,G,Y){var oe=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?oe+Y:oe):Y=oe,V){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Y+ye,V={id:c++,callback:G,priorityLevel:V,startTime:Y,expirationTime:ye,sortIndex:-1},Y>oe?(V.sortIndex=Y,e(u,V),n(l)===null&&V===n(u)&&(_?(f(b),b=-1):_=!0,Se(A,Y-oe))):(V.sortIndex=ye,e(l,V),w||g||(w=!0,Ln(D))),V},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(V){var G=h;return function(){var Y=h;h=G;try{return V.apply(this,arguments)}finally{h=Y}}}})(ww);_w.exports=ww;var xR=_w.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew=I,on=xR;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tw=new Set,Ea={};function Ki(t,e){zs(t,e),zs(t+"Capture",e)}function zs(t,e){for(Ea[t]=e,t=0;t<e.length;t++)Tw.add(e[t])}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vf=Object.prototype.hasOwnProperty,RR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ly={},My={};function AR(t){return vf.call(My,t)?!0:vf.call(Ly,t)?!1:RR.test(t)?My[t]=!0:(Ly[t]=!0,!1)}function CR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PR(t,e,n,r){if(e===null||typeof e>"u"||CR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var im=/[\-:]([a-z])/g;function sm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(im,sm);Rt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(im,sm);Rt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(im,sm);Rt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function om(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PR(e,n,i,r)&&(n=null),r||i===null?AR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yr=Ew.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yl=Symbol.for("react.element"),gs=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),am=Symbol.for("react.strict_mode"),_f=Symbol.for("react.profiler"),Iw=Symbol.for("react.provider"),Sw=Symbol.for("react.context"),lm=Symbol.for("react.forward_ref"),wf=Symbol.for("react.suspense"),Ef=Symbol.for("react.suspense_list"),um=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),xw=Symbol.for("react.offscreen"),Vy=Symbol.iterator;function Po(t){return t===null||typeof t!="object"?null:(t=Vy&&t[Vy]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,vh;function qo(t){if(vh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vh=e&&e[1]||""}return`
`+vh+t}var _h=!1;function wh(t,e){if(!t||_h)return"";_h=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_h=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qo(t):""}function kR(t){switch(t.tag){case 5:return qo(t.type);case 16:return qo("Lazy");case 13:return qo("Suspense");case 19:return qo("SuspenseList");case 0:case 2:case 15:return t=wh(t.type,!1),t;case 11:return t=wh(t.type.render,!1),t;case 1:return t=wh(t.type,!0),t;default:return""}}function Tf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ys:return"Fragment";case gs:return"Portal";case _f:return"Profiler";case am:return"StrictMode";case wf:return"Suspense";case Ef:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sw:return(t.displayName||"Context")+".Consumer";case Iw:return(t._context.displayName||"Context")+".Provider";case lm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case um:return e=t.displayName||null,e!==null?e:Tf(t.type)||"Memo";case xr:e=t._payload,t=t._init;try{return Tf(t(e))}catch{}}return null}function NR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tf(e);case 8:return e===am?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DR(t){var e=Rw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xl(t){t._valueTracker||(t._valueTracker=DR(t))}function Aw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Rw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function If(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cw(t,e){e=e.checked,e!=null&&om(t,"checked",e,!1)}function Sf(t,e){Cw(t,e);var n=Qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xf(t,e.type,n):e.hasOwnProperty("defaultValue")&&xf(t,e.type,Qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xf(t,e,n){(e!=="number"||Wu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ko=Array.isArray;function Ds(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Rf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $y(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(Ko(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qr(n)}}function Pw(t,e){var n=Qr(e.value),r=Qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Uy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Af(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jl,Nw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jl=Jl||document.createElement("div"),Jl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ta(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bR=["Webkit","ms","Moz","O"];Object.keys(ra).forEach(function(t){bR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ra[e]=ra[t]})});function Dw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ra.hasOwnProperty(t)&&ra[t]?(""+e).trim():e+"px"}function bw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Dw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var OR=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cf(t,e){if(e){if(OR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Pf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kf=null;function cm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nf=null,bs=null,Os=null;function By(t){if(t=fl(t)){if(typeof Nf!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Hc(e),Nf(t.stateNode,t.type,e))}}function Ow(t){bs?Os?Os.push(t):Os=[t]:bs=t}function Lw(){if(bs){var t=bs,e=Os;if(Os=bs=null,By(t),e)for(t=0;t<e.length;t++)By(e[t])}}function Mw(t,e){return t(e)}function Vw(){}var Eh=!1;function jw(t,e,n){if(Eh)return t(e,n);Eh=!0;try{return Mw(t,e,n)}finally{Eh=!1,(bs!==null||Os!==null)&&(Vw(),Lw())}}function Ia(t,e){var n=t.stateNode;if(n===null)return null;var r=Hc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Df=!1;if(cr)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){Df=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{Df=!1}function LR(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ia=!1,Hu=null,qu=!1,bf=null,MR={onError:function(t){ia=!0,Hu=t}};function VR(t,e,n,r,i,s,o,a,l){ia=!1,Hu=null,LR.apply(MR,arguments)}function jR(t,e,n,r,i,s,o,a,l){if(VR.apply(this,arguments),ia){if(ia){var u=Hu;ia=!1,Hu=null}else throw Error(N(198));qu||(qu=!0,bf=u)}}function Gi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Fw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zy(t){if(Gi(t)!==t)throw Error(N(188))}function FR(t){var e=t.alternate;if(!e){if(e=Gi(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return zy(i),t;if(s===r)return zy(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function $w(t){return t=FR(t),t!==null?Uw(t):null}function Uw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Uw(t);if(e!==null)return e;t=t.sibling}return null}var Bw=on.unstable_scheduleCallback,Wy=on.unstable_cancelCallback,$R=on.unstable_shouldYield,UR=on.unstable_requestPaint,Ke=on.unstable_now,BR=on.unstable_getCurrentPriorityLevel,dm=on.unstable_ImmediatePriority,zw=on.unstable_UserBlockingPriority,Ku=on.unstable_NormalPriority,zR=on.unstable_LowPriority,Ww=on.unstable_IdlePriority,Uc=null,Bn=null;function WR(t){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(Uc,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:KR,HR=Math.log,qR=Math.LN2;function KR(t){return t>>>=0,t===0?32:31-(HR(t)/qR|0)|0}var Zl=64,eu=4194304;function Go(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Go(a):(s&=o,s!==0&&(r=Go(s)))}else o=n&~i,o!==0?r=Go(o):s!==0&&(r=Go(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),i=1<<n,r|=t[n],e&=~i;return r}function GR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-An(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=GR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Of(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hw(){var t=Zl;return Zl<<=1,!(Zl&4194240)&&(Zl=64),t}function Th(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function YR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-An(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function hm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function qw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Kw,fm,Gw,Qw,Yw,Lf=!1,tu=[],Mr=null,Vr=null,jr=null,Sa=new Map,xa=new Map,Ar=[],XR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hy(t,e){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Sa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(e.pointerId)}}function No(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fl(e),e!==null&&fm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function JR(t,e,n,r,i){switch(e){case"focusin":return Mr=No(Mr,t,e,n,r,i),!0;case"dragenter":return Vr=No(Vr,t,e,n,r,i),!0;case"mouseover":return jr=No(jr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sa.set(s,No(Sa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xa.set(s,No(xa.get(s)||null,t,e,n,r,i)),!0}return!1}function Xw(t){var e=Ei(t.target);if(e!==null){var n=Gi(e);if(n!==null){if(e=n.tag,e===13){if(e=Fw(n),e!==null){t.blockedOn=e,Yw(t.priority,function(){Gw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kf=r,n.target.dispatchEvent(r),kf=null}else return e=fl(n),e!==null&&fm(e),t.blockedOn=n,!1;e.shift()}return!0}function qy(t,e,n){xu(t)&&n.delete(e)}function ZR(){Lf=!1,Mr!==null&&xu(Mr)&&(Mr=null),Vr!==null&&xu(Vr)&&(Vr=null),jr!==null&&xu(jr)&&(jr=null),Sa.forEach(qy),xa.forEach(qy)}function Do(t,e){t.blockedOn===e&&(t.blockedOn=null,Lf||(Lf=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,ZR)))}function Ra(t){function e(i){return Do(i,t)}if(0<tu.length){Do(tu[0],t);for(var n=1;n<tu.length;n++){var r=tu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mr!==null&&Do(Mr,t),Vr!==null&&Do(Vr,t),jr!==null&&Do(jr,t),Sa.forEach(e),xa.forEach(e),n=0;n<Ar.length;n++)r=Ar[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ar.length&&(n=Ar[0],n.blockedOn===null);)Xw(n),n.blockedOn===null&&Ar.shift()}var Ls=yr.ReactCurrentBatchConfig,Qu=!0;function eA(t,e,n,r){var i=we,s=Ls.transition;Ls.transition=null;try{we=1,pm(t,e,n,r)}finally{we=i,Ls.transition=s}}function tA(t,e,n,r){var i=we,s=Ls.transition;Ls.transition=null;try{we=4,pm(t,e,n,r)}finally{we=i,Ls.transition=s}}function pm(t,e,n,r){if(Qu){var i=Mf(t,e,n,r);if(i===null)Dh(t,e,r,Yu,n),Hy(t,r);else if(JR(i,t,e,n,r))r.stopPropagation();else if(Hy(t,r),e&4&&-1<XR.indexOf(t)){for(;i!==null;){var s=fl(i);if(s!==null&&Kw(s),s=Mf(t,e,n,r),s===null&&Dh(t,e,r,Yu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Dh(t,e,r,null,n)}}var Yu=null;function Mf(t,e,n,r){if(Yu=null,t=cm(r),t=Ei(t),t!==null)if(e=Gi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Fw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yu=t,null}function Jw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BR()){case dm:return 1;case zw:return 4;case Ku:case zR:return 16;case Ww:return 536870912;default:return 16}default:return 16}}var br=null,mm=null,Ru=null;function Zw(){if(Ru)return Ru;var t,e=mm,n=e.length,r,i="value"in br?br.value:br.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ru=i.slice(t,1<r?1-r:void 0)}function Au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nu(){return!0}function Ky(){return!1}function un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nu:Ky,this.isPropagationStopped=Ky,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nu)},persist:function(){},isPersistent:nu}),e}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gm=un(co),hl=Ve({},co,{view:0,detail:0}),nA=un(hl),Ih,Sh,bo,Bc=Ve({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ym,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bo&&(bo&&t.type==="mousemove"?(Ih=t.screenX-bo.screenX,Sh=t.screenY-bo.screenY):Sh=Ih=0,bo=t),Ih)},movementY:function(t){return"movementY"in t?t.movementY:Sh}}),Gy=un(Bc),rA=Ve({},Bc,{dataTransfer:0}),iA=un(rA),sA=Ve({},hl,{relatedTarget:0}),xh=un(sA),oA=Ve({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),aA=un(oA),lA=Ve({},co,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uA=un(lA),cA=Ve({},co,{data:0}),Qy=un(cA),dA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fA[t])?!!e[t]:!1}function ym(){return pA}var mA=Ve({},hl,{key:function(t){if(t.key){var e=dA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ym,charCode:function(t){return t.type==="keypress"?Au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gA=un(mA),yA=Ve({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yy=un(yA),vA=Ve({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ym}),_A=un(vA),wA=Ve({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),EA=un(wA),TA=Ve({},Bc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IA=un(TA),SA=[9,13,27,32],vm=cr&&"CompositionEvent"in window,sa=null;cr&&"documentMode"in document&&(sa=document.documentMode);var xA=cr&&"TextEvent"in window&&!sa,eE=cr&&(!vm||sa&&8<sa&&11>=sa),Xy=" ",Jy=!1;function tE(t,e){switch(t){case"keyup":return SA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function RA(t,e){switch(t){case"compositionend":return nE(e);case"keypress":return e.which!==32?null:(Jy=!0,Xy);case"textInput":return t=e.data,t===Xy&&Jy?null:t;default:return null}}function AA(t,e){if(vs)return t==="compositionend"||!vm&&tE(t,e)?(t=Zw(),Ru=mm=br=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eE&&e.locale!=="ko"?null:e.data;default:return null}}var CA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CA[t.type]:e==="textarea"}function rE(t,e,n,r){Ow(r),e=Xu(e,"onChange"),0<e.length&&(n=new gm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var oa=null,Aa=null;function PA(t){pE(t,0)}function zc(t){var e=Es(t);if(Aw(e))return t}function kA(t,e){if(t==="change")return e}var iE=!1;if(cr){var Rh;if(cr){var Ah="oninput"in document;if(!Ah){var ev=document.createElement("div");ev.setAttribute("oninput","return;"),Ah=typeof ev.oninput=="function"}Rh=Ah}else Rh=!1;iE=Rh&&(!document.documentMode||9<document.documentMode)}function tv(){oa&&(oa.detachEvent("onpropertychange",sE),Aa=oa=null)}function sE(t){if(t.propertyName==="value"&&zc(Aa)){var e=[];rE(e,Aa,t,cm(t)),jw(PA,e)}}function NA(t,e,n){t==="focusin"?(tv(),oa=e,Aa=n,oa.attachEvent("onpropertychange",sE)):t==="focusout"&&tv()}function DA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zc(Aa)}function bA(t,e){if(t==="click")return zc(e)}function OA(t,e){if(t==="input"||t==="change")return zc(e)}function LA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:LA;function Ca(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vf.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function nv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rv(t,e){var n=nv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nv(n)}}function oE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aE(){for(var t=window,e=Wu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wu(t.document)}return e}function _m(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MA(t){var e=aE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oE(n.ownerDocument.documentElement,n)){if(r!==null&&_m(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=rv(n,s);var o=rv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VA=cr&&"documentMode"in document&&11>=document.documentMode,_s=null,Vf=null,aa=null,jf=!1;function iv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jf||_s==null||_s!==Wu(r)||(r=_s,"selectionStart"in r&&_m(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),aa&&Ca(aa,r)||(aa=r,r=Xu(Vf,"onSelect"),0<r.length&&(e=new gm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_s)))}function ru(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ws={animationend:ru("Animation","AnimationEnd"),animationiteration:ru("Animation","AnimationIteration"),animationstart:ru("Animation","AnimationStart"),transitionend:ru("Transition","TransitionEnd")},Ch={},lE={};cr&&(lE=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Wc(t){if(Ch[t])return Ch[t];if(!ws[t])return t;var e=ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lE)return Ch[t]=e[n];return t}var uE=Wc("animationend"),cE=Wc("animationiteration"),dE=Wc("animationstart"),hE=Wc("transitionend"),fE=new Map,sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(t,e){fE.set(t,e),Ki(e,[t])}for(var Ph=0;Ph<sv.length;Ph++){var kh=sv[Ph],jA=kh.toLowerCase(),FA=kh[0].toUpperCase()+kh.slice(1);ni(jA,"on"+FA)}ni(uE,"onAnimationEnd");ni(cE,"onAnimationIteration");ni(dE,"onAnimationStart");ni("dblclick","onDoubleClick");ni("focusin","onFocus");ni("focusout","onBlur");ni(hE,"onTransitionEnd");zs("onMouseEnter",["mouseout","mouseover"]);zs("onMouseLeave",["mouseout","mouseover"]);zs("onPointerEnter",["pointerout","pointerover"]);zs("onPointerLeave",["pointerout","pointerover"]);Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$A=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function ov(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jR(r,e,void 0,t),t.currentTarget=null}function pE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ov(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ov(i,a,u),s=l}}}if(qu)throw t=bf,qu=!1,bf=null,t}function Pe(t,e){var n=e[zf];n===void 0&&(n=e[zf]=new Set);var r=t+"__bubble";n.has(r)||(mE(e,t,2,!1),n.add(r))}function Nh(t,e,n){var r=0;e&&(r|=4),mE(n,t,r,e)}var iu="_reactListening"+Math.random().toString(36).slice(2);function Pa(t){if(!t[iu]){t[iu]=!0,Tw.forEach(function(n){n!=="selectionchange"&&($A.has(n)||Nh(n,!1,t),Nh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[iu]||(e[iu]=!0,Nh("selectionchange",!1,e))}}function mE(t,e,n,r){switch(Jw(e)){case 1:var i=eA;break;case 4:i=tA;break;default:i=pm}n=i.bind(null,e,n,t),i=void 0,!Df||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ei(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}jw(function(){var u=s,c=cm(n),d=[];e:{var h=fE.get(t);if(h!==void 0){var g=gm,w=t;switch(t){case"keypress":if(Au(n)===0)break e;case"keydown":case"keyup":g=gA;break;case"focusin":w="focus",g=xh;break;case"focusout":w="blur",g=xh;break;case"beforeblur":case"afterblur":g=xh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=iA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_A;break;case uE:case cE:case dE:g=aA;break;case hE:g=EA;break;case"scroll":g=nA;break;case"wheel":g=IA;break;case"copy":case"cut":case"paste":g=uA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Yy}var _=(e&4)!==0,E=!_&&t==="scroll",f=_?h!==null?h+"Capture":null:h;_=[];for(var p=u,v;p!==null;){v=p;var A=v.stateNode;if(v.tag===5&&A!==null&&(v=A,f!==null&&(A=Ia(p,f),A!=null&&_.push(ka(p,A,v)))),E)break;p=p.return}0<_.length&&(h=new g(h,w,null,n,c),d.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==kf&&(w=n.relatedTarget||n.fromElement)&&(Ei(w)||w[dr]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?Ei(w):null,w!==null&&(E=Gi(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(_=Gy,A="onMouseLeave",f="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=Yy,A="onPointerLeave",f="onPointerEnter",p="pointer"),E=g==null?h:Es(g),v=w==null?h:Es(w),h=new _(A,p+"leave",g,n,c),h.target=E,h.relatedTarget=v,A=null,Ei(c)===u&&(_=new _(f,p+"enter",w,n,c),_.target=v,_.relatedTarget=E,A=_),E=A,g&&w)t:{for(_=g,f=w,p=0,v=_;v;v=ds(v))p++;for(v=0,A=f;A;A=ds(A))v++;for(;0<p-v;)_=ds(_),p--;for(;0<v-p;)f=ds(f),v--;for(;p--;){if(_===f||f!==null&&_===f.alternate)break t;_=ds(_),f=ds(f)}_=null}else _=null;g!==null&&av(d,h,g,_,!1),w!==null&&E!==null&&av(d,E,w,_,!0)}}e:{if(h=u?Es(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var D=kA;else if(Zy(h))if(iE)D=OA;else{D=DA;var y=NA}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=bA);if(D&&(D=D(t,u))){rE(d,D,n,c);break e}y&&y(t,h,u),t==="focusout"&&(y=h._wrapperState)&&y.controlled&&h.type==="number"&&xf(h,"number",h.value)}switch(y=u?Es(u):window,t){case"focusin":(Zy(y)||y.contentEditable==="true")&&(_s=y,Vf=u,aa=null);break;case"focusout":aa=Vf=_s=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,iv(d,n,c);break;case"selectionchange":if(VA)break;case"keydown":case"keyup":iv(d,n,c)}var R;if(vm)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else vs?tE(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(eE&&n.locale!=="ko"&&(vs||b!=="onCompositionStart"?b==="onCompositionEnd"&&vs&&(R=Zw()):(br=c,mm="value"in br?br.value:br.textContent,vs=!0)),y=Xu(u,b),0<y.length&&(b=new Qy(b,t,null,n,c),d.push({event:b,listeners:y}),R?b.data=R:(R=nE(n),R!==null&&(b.data=R)))),(R=xA?RA(t,n):AA(t,n))&&(u=Xu(u,"onBeforeInput"),0<u.length&&(c=new Qy("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=R))}pE(d,e)})}function ka(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ia(t,n),s!=null&&r.unshift(ka(t,s,i)),s=Ia(t,e),s!=null&&r.push(ka(t,s,i))),t=t.return}return r}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function av(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ia(n,s),l!=null&&o.unshift(ka(n,l,a))):i||(l=Ia(n,s),l!=null&&o.push(ka(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var UA=/\r\n?/g,BA=/\u0000|\uFFFD/g;function lv(t){return(typeof t=="string"?t:""+t).replace(UA,`
`).replace(BA,"")}function su(t,e,n){if(e=lv(e),lv(t)!==e&&n)throw Error(N(425))}function Ju(){}var Ff=null,$f=null;function Uf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bf=typeof setTimeout=="function"?setTimeout:void 0,zA=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,WA=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(t){return uv.resolve(null).then(t).catch(HA)}:Bf;function HA(t){setTimeout(function(){throw t})}function bh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ra(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ra(e)}function Fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ho=Math.random().toString(36).slice(2),jn="__reactFiber$"+ho,Na="__reactProps$"+ho,dr="__reactContainer$"+ho,zf="__reactEvents$"+ho,qA="__reactListeners$"+ho,KA="__reactHandles$"+ho;function Ei(t){var e=t[jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dr]||n[jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cv(t);t!==null;){if(n=t[jn])return n;t=cv(t)}return e}t=n,n=t.parentNode}return null}function fl(t){return t=t[jn]||t[dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Hc(t){return t[Na]||null}var Wf=[],Ts=-1;function ri(t){return{current:t}}function be(t){0>Ts||(t.current=Wf[Ts],Wf[Ts]=null,Ts--)}function Ae(t,e){Ts++,Wf[Ts]=t.current,t.current=e}var Yr={},Lt=ri(Yr),qt=ri(!1),Li=Yr;function Ws(t,e){var n=t.type.contextTypes;if(!n)return Yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(t){return t=t.childContextTypes,t!=null}function Zu(){be(qt),be(Lt)}function dv(t,e,n){if(Lt.current!==Yr)throw Error(N(168));Ae(Lt,e),Ae(qt,n)}function gE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,NR(t)||"Unknown",i));return Ve({},n,r)}function ec(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yr,Li=Lt.current,Ae(Lt,t),Ae(qt,qt.current),!0}function hv(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=gE(t,e,Li),r.__reactInternalMemoizedMergedChildContext=t,be(qt),be(Lt),Ae(Lt,t)):be(qt),Ae(qt,n)}var rr=null,qc=!1,Oh=!1;function yE(t){rr===null?rr=[t]:rr.push(t)}function GA(t){qc=!0,yE(t)}function ii(){if(!Oh&&rr!==null){Oh=!0;var t=0,e=we;try{var n=rr;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}rr=null,qc=!1}catch(i){throw rr!==null&&(rr=rr.slice(t+1)),Bw(dm,ii),i}finally{we=e,Oh=!1}}return null}var Is=[],Ss=0,tc=null,nc=0,pn=[],mn=0,Mi=null,ir=1,sr="";function pi(t,e){Is[Ss++]=nc,Is[Ss++]=tc,tc=t,nc=e}function vE(t,e,n){pn[mn++]=ir,pn[mn++]=sr,pn[mn++]=Mi,Mi=t;var r=ir;t=sr;var i=32-An(r)-1;r&=~(1<<i),n+=1;var s=32-An(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ir=1<<32-An(e)+i|n<<i|r,sr=s+t}else ir=1<<s|n<<i|r,sr=t}function wm(t){t.return!==null&&(pi(t,1),vE(t,1,0))}function Em(t){for(;t===tc;)tc=Is[--Ss],Is[Ss]=null,nc=Is[--Ss],Is[Ss]=null;for(;t===Mi;)Mi=pn[--mn],pn[mn]=null,sr=pn[--mn],pn[mn]=null,ir=pn[--mn],pn[mn]=null}var sn=null,en=null,Oe=!1,Rn=null;function _E(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,en=Fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mi!==null?{id:ir,overflow:sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,en=null,!0):!1;default:return!1}}function Hf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qf(t){if(Oe){var e=en;if(e){var n=e;if(!fv(t,e)){if(Hf(t))throw Error(N(418));e=Fr(n.nextSibling);var r=sn;e&&fv(t,e)?_E(r,n):(t.flags=t.flags&-4097|2,Oe=!1,sn=t)}}else{if(Hf(t))throw Error(N(418));t.flags=t.flags&-4097|2,Oe=!1,sn=t}}}function pv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function ou(t){if(t!==sn)return!1;if(!Oe)return pv(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uf(t.type,t.memoizedProps)),e&&(e=en)){if(Hf(t))throw wE(),Error(N(418));for(;e;)_E(t,e),e=Fr(e.nextSibling)}if(pv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=Fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=sn?Fr(t.stateNode.nextSibling):null;return!0}function wE(){for(var t=en;t;)t=Fr(t.nextSibling)}function Hs(){en=sn=null,Oe=!1}function Tm(t){Rn===null?Rn=[t]:Rn.push(t)}var QA=yr.ReactCurrentBatchConfig;function In(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var rc=ri(null),ic=null,xs=null,Im=null;function Sm(){Im=xs=ic=null}function xm(t){var e=rc.current;be(rc),t._currentValue=e}function Kf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ms(t,e){ic=t,Im=xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(Im!==t)if(t={context:t,memoizedValue:e,next:null},xs===null){if(ic===null)throw Error(N(308));xs=t,ic.dependencies={lanes:0,firstContext:t}}else xs=xs.next=t;return e}var Ti=null;function Rm(t){Ti===null?Ti=[t]:Ti.push(t)}function EE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Rm(e)):(n.next=i.next,i.next=n),e.interleaved=n,hr(t,r)}function hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rr=!1;function Am(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hr(t,n)}return i=r.interleaved,i===null?(e.next=e,Rm(r)):(e.next=i.next,i.next=e),r.interleaved=e,hr(t,n)}function Cu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hm(t,n)}}function mv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sc(t,e,n,r){var i=t.updateQueue;Rr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,_=a;switch(h=e,g=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){d=w.call(g,d,h);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,h=typeof w=="function"?w.call(g,d,h):w,h==null)break e;d=Ve({},d,h);break e;case 2:Rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ji|=o,t.lanes=o,t.memoizedState=d}}function gv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var IE=new Ew.Component().refs;function Gf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kc={isMounted:function(t){return(t=t._reactInternals)?Gi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=Br(t),s=ur(r,i);s.payload=e,n!=null&&(s.callback=n),e=$r(t,s,i),e!==null&&(Cn(e,t,i,r),Cu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=Br(t),s=ur(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$r(t,s,i),e!==null&&(Cn(e,t,i,r),Cu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ft(),r=Br(t),i=ur(n,r);i.tag=2,e!=null&&(i.callback=e),e=$r(t,i,r),e!==null&&(Cn(e,t,r,n),Cu(e,t,r))}};function yv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ca(n,r)||!Ca(i,s):!0}function SE(t,e,n){var r=!1,i=Yr,s=e.contextType;return typeof s=="object"&&s!==null?s=_n(s):(i=Kt(e)?Li:Lt.current,r=e.contextTypes,s=(r=r!=null)?Ws(t,i):Yr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kc.enqueueReplaceState(e,e.state,null)}function Qf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=IE,Am(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_n(s):(s=Kt(e)?Li:Lt.current,i.context=Ws(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Gf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kc.enqueueReplaceState(i,i.state,null),sc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Oo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===IE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function au(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _v(t){var e=t._init;return e(t._payload)}function xE(t){function e(f,p){if(t){var v=f.deletions;v===null?(f.deletions=[p],f.flags|=16):v.push(p)}}function n(f,p){if(!t)return null;for(;p!==null;)e(f,p),p=p.sibling;return null}function r(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function i(f,p){return f=zr(f,p),f.index=0,f.sibling=null,f}function s(f,p,v){return f.index=v,t?(v=f.alternate,v!==null?(v=v.index,v<p?(f.flags|=2,p):v):(f.flags|=2,p)):(f.flags|=1048576,p)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,p,v,A){return p===null||p.tag!==6?(p=Uh(v,f.mode,A),p.return=f,p):(p=i(p,v),p.return=f,p)}function l(f,p,v,A){var D=v.type;return D===ys?c(f,p,v.props.children,A,v.key):p!==null&&(p.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===xr&&_v(D)===p.type)?(A=i(p,v.props),A.ref=Oo(f,p,v),A.return=f,A):(A=Ou(v.type,v.key,v.props,null,f.mode,A),A.ref=Oo(f,p,v),A.return=f,A)}function u(f,p,v,A){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Bh(v,f.mode,A),p.return=f,p):(p=i(p,v.children||[]),p.return=f,p)}function c(f,p,v,A,D){return p===null||p.tag!==7?(p=Ni(v,f.mode,A,D),p.return=f,p):(p=i(p,v),p.return=f,p)}function d(f,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Uh(""+p,f.mode,v),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Yl:return v=Ou(p.type,p.key,p.props,null,f.mode,v),v.ref=Oo(f,null,p),v.return=f,v;case gs:return p=Bh(p,f.mode,v),p.return=f,p;case xr:var A=p._init;return d(f,A(p._payload),v)}if(Ko(p)||Po(p))return p=Ni(p,f.mode,v,null),p.return=f,p;au(f,p)}return null}function h(f,p,v,A){var D=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return D!==null?null:a(f,p,""+v,A);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yl:return v.key===D?l(f,p,v,A):null;case gs:return v.key===D?u(f,p,v,A):null;case xr:return D=v._init,h(f,p,D(v._payload),A)}if(Ko(v)||Po(v))return D!==null?null:c(f,p,v,A,null);au(f,v)}return null}function g(f,p,v,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return f=f.get(v)||null,a(p,f,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Yl:return f=f.get(A.key===null?v:A.key)||null,l(p,f,A,D);case gs:return f=f.get(A.key===null?v:A.key)||null,u(p,f,A,D);case xr:var y=A._init;return g(f,p,v,y(A._payload),D)}if(Ko(A)||Po(A))return f=f.get(v)||null,c(p,f,A,D,null);au(p,A)}return null}function w(f,p,v,A){for(var D=null,y=null,R=p,b=p=0,$=null;R!==null&&b<v.length;b++){R.index>b?($=R,R=null):$=R.sibling;var W=h(f,R,v[b],A);if(W===null){R===null&&(R=$);break}t&&R&&W.alternate===null&&e(f,R),p=s(W,p,b),y===null?D=W:y.sibling=W,y=W,R=$}if(b===v.length)return n(f,R),Oe&&pi(f,b),D;if(R===null){for(;b<v.length;b++)R=d(f,v[b],A),R!==null&&(p=s(R,p,b),y===null?D=R:y.sibling=R,y=R);return Oe&&pi(f,b),D}for(R=r(f,R);b<v.length;b++)$=g(R,f,b,v[b],A),$!==null&&(t&&$.alternate!==null&&R.delete($.key===null?b:$.key),p=s($,p,b),y===null?D=$:y.sibling=$,y=$);return t&&R.forEach(function(ce){return e(f,ce)}),Oe&&pi(f,b),D}function _(f,p,v,A){var D=Po(v);if(typeof D!="function")throw Error(N(150));if(v=D.call(v),v==null)throw Error(N(151));for(var y=D=null,R=p,b=p=0,$=null,W=v.next();R!==null&&!W.done;b++,W=v.next()){R.index>b?($=R,R=null):$=R.sibling;var ce=h(f,R,W.value,A);if(ce===null){R===null&&(R=$);break}t&&R&&ce.alternate===null&&e(f,R),p=s(ce,p,b),y===null?D=ce:y.sibling=ce,y=ce,R=$}if(W.done)return n(f,R),Oe&&pi(f,b),D;if(R===null){for(;!W.done;b++,W=v.next())W=d(f,W.value,A),W!==null&&(p=s(W,p,b),y===null?D=W:y.sibling=W,y=W);return Oe&&pi(f,b),D}for(R=r(f,R);!W.done;b++,W=v.next())W=g(R,f,b,W.value,A),W!==null&&(t&&W.alternate!==null&&R.delete(W.key===null?b:W.key),p=s(W,p,b),y===null?D=W:y.sibling=W,y=W);return t&&R.forEach(function(We){return e(f,We)}),Oe&&pi(f,b),D}function E(f,p,v,A){if(typeof v=="object"&&v!==null&&v.type===ys&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Yl:e:{for(var D=v.key,y=p;y!==null;){if(y.key===D){if(D=v.type,D===ys){if(y.tag===7){n(f,y.sibling),p=i(y,v.props.children),p.return=f,f=p;break e}}else if(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===xr&&_v(D)===y.type){n(f,y.sibling),p=i(y,v.props),p.ref=Oo(f,y,v),p.return=f,f=p;break e}n(f,y);break}else e(f,y);y=y.sibling}v.type===ys?(p=Ni(v.props.children,f.mode,A,v.key),p.return=f,f=p):(A=Ou(v.type,v.key,v.props,null,f.mode,A),A.ref=Oo(f,p,v),A.return=f,f=A)}return o(f);case gs:e:{for(y=v.key;p!==null;){if(p.key===y)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(f,p.sibling),p=i(p,v.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else e(f,p);p=p.sibling}p=Bh(v,f.mode,A),p.return=f,f=p}return o(f);case xr:return y=v._init,E(f,p,y(v._payload),A)}if(Ko(v))return w(f,p,v,A);if(Po(v))return _(f,p,v,A);au(f,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(f,p.sibling),p=i(p,v),p.return=f,f=p):(n(f,p),p=Uh(v,f.mode,A),p.return=f,f=p),o(f)):n(f,p)}return E}var qs=xE(!0),RE=xE(!1),pl={},zn=ri(pl),Da=ri(pl),ba=ri(pl);function Ii(t){if(t===pl)throw Error(N(174));return t}function Cm(t,e){switch(Ae(ba,e),Ae(Da,t),Ae(zn,pl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Af(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Af(e,t)}be(zn),Ae(zn,e)}function Ks(){be(zn),be(Da),be(ba)}function AE(t){Ii(ba.current);var e=Ii(zn.current),n=Af(e,t.type);e!==n&&(Ae(Da,t),Ae(zn,n))}function Pm(t){Da.current===t&&(be(zn),be(Da))}var Le=ri(0);function oc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lh=[];function km(){for(var t=0;t<Lh.length;t++)Lh[t]._workInProgressVersionPrimary=null;Lh.length=0}var Pu=yr.ReactCurrentDispatcher,Mh=yr.ReactCurrentBatchConfig,Vi=0,Me=null,et=null,dt=null,ac=!1,la=!1,Oa=0,YA=0;function At(){throw Error(N(321))}function Nm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function Dm(t,e,n,r,i,s){if(Vi=s,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pu.current=t===null||t.memoizedState===null?eC:tC,t=n(r,i),la){s=0;do{if(la=!1,Oa=0,25<=s)throw Error(N(301));s+=1,dt=et=null,e.updateQueue=null,Pu.current=nC,t=n(r,i)}while(la)}if(Pu.current=lc,e=et!==null&&et.next!==null,Vi=0,dt=et=Me=null,ac=!1,e)throw Error(N(300));return t}function bm(){var t=Oa!==0;return Oa=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Me.memoizedState=dt=t:dt=dt.next=t,dt}function wn(){if(et===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=dt===null?Me.memoizedState:dt.next;if(e!==null)dt=e,et=t;else{if(t===null)throw Error(N(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},dt===null?Me.memoizedState=dt=t:dt=dt.next=t}return dt}function La(t,e){return typeof e=="function"?e(t):e}function Vh(t){var e=wn(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Vi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Me.lanes|=c,ji|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Pn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Me.lanes|=s,ji|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jh(t){var e=wn(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pn(s,e.memoizedState)||(Ht=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function CE(){}function PE(t,e){var n=Me,r=wn(),i=e(),s=!Pn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ht=!0),r=r.queue,Om(DE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Ma(9,NE.bind(null,n,r,i,e),void 0,null),ht===null)throw Error(N(349));Vi&30||kE(n,e,i)}return i}function kE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NE(t,e,n,r){e.value=n,e.getSnapshot=r,bE(e)&&OE(t)}function DE(t,e,n){return n(function(){bE(e)&&OE(t)})}function bE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function OE(t){var e=hr(t,1);e!==null&&Cn(e,t,1,-1)}function wv(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:t},e.queue=t,t=t.dispatch=ZA.bind(null,Me,t),[e.memoizedState,t]}function Ma(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function LE(){return wn().memoizedState}function ku(t,e,n,r){var i=Vn();Me.flags|=t,i.memoizedState=Ma(1|e,n,void 0,r===void 0?null:r)}function Gc(t,e,n,r){var i=wn();r=r===void 0?null:r;var s=void 0;if(et!==null){var o=et.memoizedState;if(s=o.destroy,r!==null&&Nm(r,o.deps)){i.memoizedState=Ma(e,n,s,r);return}}Me.flags|=t,i.memoizedState=Ma(1|e,n,s,r)}function Ev(t,e){return ku(8390656,8,t,e)}function Om(t,e){return Gc(2048,8,t,e)}function ME(t,e){return Gc(4,2,t,e)}function VE(t,e){return Gc(4,4,t,e)}function jE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FE(t,e,n){return n=n!=null?n.concat([t]):null,Gc(4,4,jE.bind(null,e,t),n)}function Lm(){}function $E(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UE(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BE(t,e,n){return Vi&21?(Pn(n,e)||(n=Hw(),Me.lanes|=n,ji|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function XA(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=Mh.transition;Mh.transition={};try{t(!1),e()}finally{we=n,Mh.transition=r}}function zE(){return wn().memoizedState}function JA(t,e,n){var r=Br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WE(t))HE(e,n);else if(n=EE(t,e,n,r),n!==null){var i=Ft();Cn(n,t,r,i),qE(n,e,r)}}function ZA(t,e,n){var r=Br(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WE(t))HE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Pn(a,o)){var l=e.interleaved;l===null?(i.next=i,Rm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=EE(t,e,i,r),n!==null&&(i=Ft(),Cn(n,t,r,i),qE(n,e,r))}}function WE(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function HE(t,e){la=ac=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hm(t,n)}}var lc={readContext:_n,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},eC={readContext:_n,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:Ev,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ku(4194308,4,jE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ku(4194308,4,t,e)},useInsertionEffect:function(t,e){return ku(4,2,t,e)},useMemo:function(t,e){var n=Vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JA.bind(null,Me,t),[r.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:wv,useDebugValue:Lm,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=wv(!1),e=t[0];return t=XA.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Me,i=Vn();if(Oe){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),ht===null)throw Error(N(349));Vi&30||kE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ev(DE.bind(null,r,s,t),[t]),r.flags|=2048,Ma(9,NE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Vn(),e=ht.identifierPrefix;if(Oe){var n=sr,r=ir;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Oa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=YA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tC={readContext:_n,useCallback:$E,useContext:_n,useEffect:Om,useImperativeHandle:FE,useInsertionEffect:ME,useLayoutEffect:VE,useMemo:UE,useReducer:Vh,useRef:LE,useState:function(){return Vh(La)},useDebugValue:Lm,useDeferredValue:function(t){var e=wn();return BE(e,et.memoizedState,t)},useTransition:function(){var t=Vh(La)[0],e=wn().memoizedState;return[t,e]},useMutableSource:CE,useSyncExternalStore:PE,useId:zE,unstable_isNewReconciler:!1},nC={readContext:_n,useCallback:$E,useContext:_n,useEffect:Om,useImperativeHandle:FE,useInsertionEffect:ME,useLayoutEffect:VE,useMemo:UE,useReducer:jh,useRef:LE,useState:function(){return jh(La)},useDebugValue:Lm,useDeferredValue:function(t){var e=wn();return et===null?e.memoizedState=t:BE(e,et.memoizedState,t)},useTransition:function(){var t=jh(La)[0],e=wn().memoizedState;return[t,e]},useMutableSource:CE,useSyncExternalStore:PE,useId:zE,unstable_isNewReconciler:!1};function Gs(t,e){try{var n="",r=e;do n+=kR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Fh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rC=typeof WeakMap=="function"?WeakMap:Map;function KE(t,e,n){n=ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cc||(cc=!0,op=r),Yf(t,e)},n}function GE(t,e,n){n=ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Yf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Yf(t,e),typeof r!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Tv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yC.bind(null,t,e,n),e.then(t,t))}function Iv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ur(-1,1),e.tag=2,$r(n,e,1))),n.lanes|=1),t)}var iC=yr.ReactCurrentOwner,Ht=!1;function Vt(t,e,n,r){e.child=t===null?RE(e,null,n,r):qs(e,t.child,n,r)}function xv(t,e,n,r,i){n=n.render;var s=e.ref;return Ms(e,i),r=Dm(t,e,n,r,s,i),n=bm(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fr(t,e,i)):(Oe&&n&&wm(e),e.flags|=1,Vt(t,e,r,i),e.child)}function Rv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!zm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,QE(t,e,s,r,i)):(t=Ou(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ca,n(o,r)&&t.ref===e.ref)return fr(t,e,i)}return e.flags|=1,t=zr(s,r),t.ref=e.ref,t.return=e,e.child=t}function QE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ca(s,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,fr(t,e,i)}return Xf(t,e,n,r,i)}function YE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(As,Zt),Zt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(As,Zt),Zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ae(As,Zt),Zt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ae(As,Zt),Zt|=r;return Vt(t,e,i,n),e.child}function XE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xf(t,e,n,r,i){var s=Kt(n)?Li:Lt.current;return s=Ws(e,s),Ms(e,i),n=Dm(t,e,n,r,s,i),r=bm(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fr(t,e,i)):(Oe&&r&&wm(e),e.flags|=1,Vt(t,e,n,i),e.child)}function Av(t,e,n,r,i){if(Kt(n)){var s=!0;ec(e)}else s=!1;if(Ms(e,i),e.stateNode===null)Nu(t,e),SE(e,n,r),Qf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=_n(u):(u=Kt(n)?Li:Lt.current,u=Ws(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&vv(e,o,r,u),Rr=!1;var h=e.memoizedState;o.state=h,sc(e,r,o,i),l=e.memoizedState,a!==r||h!==l||qt.current||Rr?(typeof c=="function"&&(Gf(e,n,c,r),l=e.memoizedState),(a=Rr||yv(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,TE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:In(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=_n(l):(l=Kt(n)?Li:Lt.current,l=Ws(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&vv(e,o,r,l),Rr=!1,h=e.memoizedState,o.state=h,sc(e,r,o,i);var w=e.memoizedState;a!==d||h!==w||qt.current||Rr?(typeof g=="function"&&(Gf(e,n,g,r),w=e.memoizedState),(u=Rr||yv(e,n,u,r,h,w,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Jf(t,e,n,r,s,i)}function Jf(t,e,n,r,i,s){XE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&hv(e,n,!1),fr(t,e,s);r=e.stateNode,iC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qs(e,t.child,null,s),e.child=qs(e,null,a,s)):Vt(t,e,a,s),e.memoizedState=r.state,i&&hv(e,n,!0),e.child}function JE(t){var e=t.stateNode;e.pendingContext?dv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dv(t,e.context,!1),Cm(t,e.containerInfo)}function Cv(t,e,n,r,i){return Hs(),Tm(i),e.flags|=256,Vt(t,e,n,r),e.child}var Zf={dehydrated:null,treeContext:null,retryLane:0};function ep(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZE(t,e,n){var r=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ae(Le,i&1),t===null)return qf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xc(o,r,0,null),t=Ni(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ep(n),e.memoizedState=Zf,t):Mm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sC(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zr(a,s):(s=Ni(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ep(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Zf,r}return s=t.child,t=s.sibling,r=zr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mm(t,e){return e=Xc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lu(t,e,n,r){return r!==null&&Tm(r),qs(e,t.child,null,n),t=Mm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Fh(Error(N(422))),lu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xc({mode:"visible",children:r.children},i,0,null),s=Ni(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&qs(e,t.child,null,o),e.child.memoizedState=ep(o),e.memoizedState=Zf,s);if(!(e.mode&1))return lu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=Fh(s,r,void 0),lu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ht||a){if(r=ht,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hr(t,i),Cn(r,t,i,-1))}return Bm(),r=Fh(Error(N(421))),lu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,en=Fr(i.nextSibling),sn=e,Oe=!0,Rn=null,t!==null&&(pn[mn++]=ir,pn[mn++]=sr,pn[mn++]=Mi,ir=t.id,sr=t.overflow,Mi=e),e=Mm(e,r.children),e.flags|=4096,e)}function Pv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kf(t.return,e,n)}function $h(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function eT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pv(t,n,e);else if(t.tag===19)Pv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&oc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$h(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&oc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$h(e,!0,n,null,s);break;case"together":$h(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ji|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=zr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oC(t,e,n){switch(e.tag){case 3:JE(e),Hs();break;case 5:AE(e);break;case 1:Kt(e.type)&&ec(e);break;case 4:Cm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ae(rc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?ZE(t,e,n):(Ae(Le,Le.current&1),t=fr(t,e,n),t!==null?t.sibling:null);Ae(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,YE(t,e,n)}return fr(t,e,n)}var tT,tp,nT,rT;tT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tp=function(){};nT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ii(zn.current);var s=null;switch(n){case"input":i=If(t,i),r=If(t,r),s=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),s=[];break;case"textarea":i=Rf(t,i),r=Rf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ju)}Cf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ea.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ea.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Pe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};rT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Lo(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aC(t,e,n){var r=e.pendingProps;switch(Em(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(e),null;case 1:return Kt(e.type)&&Zu(),Ct(e),null;case 3:return r=e.stateNode,Ks(),be(qt),be(Lt),km(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ou(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(up(Rn),Rn=null))),tp(t,e),Ct(e),null;case 5:Pm(e);var i=Ii(ba.current);if(n=e.type,t!==null&&e.stateNode!=null)nT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return Ct(e),null}if(t=Ii(zn.current),ou(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[jn]=e,r[Na]=s,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(i=0;i<Qo.length;i++)Pe(Qo[i],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":jy(r,s),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pe("invalid",r);break;case"textarea":$y(r,s),Pe("invalid",r)}Cf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&su(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&su(r.textContent,a,t),i=["children",""+a]):Ea.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":Xl(r),Fy(r,s,!0);break;case"textarea":Xl(r),Uy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ju)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[jn]=e,t[Na]=r,tT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pf(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),i=r;break;case"iframe":case"object":case"embed":Pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qo.length;i++)Pe(Qo[i],t);i=r;break;case"source":Pe("error",t),i=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),i=r;break;case"details":Pe("toggle",t),i=r;break;case"input":jy(t,r),i=If(t,r),Pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":$y(t,r),i=Rf(t,r),Pe("invalid",t);break;default:i=r}Cf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?bw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Nw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ta(t,l):typeof l=="number"&&Ta(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ea.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pe("scroll",t):l!=null&&om(t,s,l,o))}switch(n){case"input":Xl(t),Fy(t,r,!1);break;case"textarea":Xl(t),Uy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ds(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ds(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ju)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ct(e),null;case 6:if(t&&e.stateNode!=null)rT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Ii(ba.current),Ii(zn.current),ou(e)){if(r=e.stateNode,n=e.memoizedProps,r[jn]=e,(s=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:su(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&su(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=e,e.stateNode=r}return Ct(e),null;case 13:if(be(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&en!==null&&e.mode&1&&!(e.flags&128))wE(),Hs(),e.flags|=98560,s=!1;else if(s=ou(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[jn]=e}else Hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ct(e),s=!1}else Rn!==null&&(up(Rn),Rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?tt===0&&(tt=3):Bm())),e.updateQueue!==null&&(e.flags|=4),Ct(e),null);case 4:return Ks(),tp(t,e),t===null&&Pa(e.stateNode.containerInfo),Ct(e),null;case 10:return xm(e.type._context),Ct(e),null;case 17:return Kt(e.type)&&Zu(),Ct(e),null;case 19:if(be(Le),s=e.memoizedState,s===null)return Ct(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Lo(s,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oc(t),o!==null){for(e.flags|=128,Lo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ke()>Qs&&(e.flags|=128,r=!0,Lo(s,!1),e.lanes=4194304)}else{if(!r)if(t=oc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Lo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Oe)return Ct(e),null}else 2*Ke()-s.renderingStartTime>Qs&&n!==1073741824&&(e.flags|=128,r=!0,Lo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ke(),e.sibling=null,n=Le.current,Ae(Le,r?n&1|2:n&1),e):(Ct(e),null);case 22:case 23:return Um(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zt&1073741824&&(Ct(e),e.subtreeFlags&6&&(e.flags|=8192)):Ct(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function lC(t,e){switch(Em(e),e.tag){case 1:return Kt(e.type)&&Zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ks(),be(qt),be(Lt),km(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pm(e),null;case 13:if(be(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Le),null;case 4:return Ks(),null;case 10:return xm(e.type._context),null;case 22:case 23:return Um(),null;case 24:return null;default:return null}}var uu=!1,Nt=!1,uC=typeof WeakSet=="function"?WeakSet:Set,B=null;function Rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function np(t,e,n){try{n()}catch(r){$e(t,e,r)}}var kv=!1;function cC(t,e){if(Ff=Qu,t=aE(),_m(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($f={focusedElem:t,selectionRange:n},Qu=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,E=w.memoizedState,f=e.stateNode,p=f.getSnapshotBeforeUpdate(e.elementType===e.type?_:In(e.type,_),E);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(A){$e(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return w=kv,kv=!1,w}function ua(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&np(e,n,s)}i=i.next}while(i!==r)}}function Qc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iT(t){var e=t.alternate;e!==null&&(t.alternate=null,iT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[Na],delete e[zf],delete e[qA],delete e[KA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sT(t){return t.tag===5||t.tag===3||t.tag===4}function Nv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ip(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ju));else if(r!==4&&(t=t.child,t!==null))for(ip(t,e,n),t=t.sibling;t!==null;)ip(t,e,n),t=t.sibling}function sp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sp(t,e,n),t=t.sibling;t!==null;)sp(t,e,n),t=t.sibling}var _t=null,Sn=!1;function Tr(t,e,n){for(n=n.child;n!==null;)oT(t,e,n),n=n.sibling}function oT(t,e,n){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(Uc,n)}catch{}switch(n.tag){case 5:Nt||Rs(n,e);case 6:var r=_t,i=Sn;_t=null,Tr(t,e,n),_t=r,Sn=i,_t!==null&&(Sn?(t=_t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(Sn?(t=_t,n=n.stateNode,t.nodeType===8?bh(t.parentNode,n):t.nodeType===1&&bh(t,n),Ra(t)):bh(_t,n.stateNode));break;case 4:r=_t,i=Sn,_t=n.stateNode.containerInfo,Sn=!0,Tr(t,e,n),_t=r,Sn=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&np(n,e,o),i=i.next}while(i!==r)}Tr(t,e,n);break;case 1:if(!Nt&&(Rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,e,a)}Tr(t,e,n);break;case 21:Tr(t,e,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,Tr(t,e,n),Nt=r):Tr(t,e,n);break;default:Tr(t,e,n)}}function Dv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uC),e.forEach(function(r){var i=_C.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_t=a.stateNode,Sn=!1;break e;case 3:_t=a.stateNode.containerInfo,Sn=!0;break e;case 4:_t=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(_t===null)throw Error(N(160));oT(s,o,i),_t=null,Sn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){$e(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aT(e,t),e=e.sibling}function aT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),Mn(t),r&4){try{ua(3,t,t.return),Qc(3,t)}catch(_){$e(t,t.return,_)}try{ua(5,t,t.return)}catch(_){$e(t,t.return,_)}}break;case 1:En(e,t),Mn(t),r&512&&n!==null&&Rs(n,n.return);break;case 5:if(En(e,t),Mn(t),r&512&&n!==null&&Rs(n,n.return),t.flags&32){var i=t.stateNode;try{Ta(i,"")}catch(_){$e(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Cw(i,s),Pf(a,o);var u=Pf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?bw(i,d):c==="dangerouslySetInnerHTML"?Nw(i,d):c==="children"?Ta(i,d):om(i,c,d,u)}switch(a){case"input":Sf(i,s);break;case"textarea":Pw(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ds(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ds(i,!!s.multiple,s.defaultValue,!0):Ds(i,!!s.multiple,s.multiple?[]:"",!1))}i[Na]=s}catch(_){$e(t,t.return,_)}}break;case 6:if(En(e,t),Mn(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){$e(t,t.return,_)}}break;case 3:if(En(e,t),Mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ra(e.containerInfo)}catch(_){$e(t,t.return,_)}break;case 4:En(e,t),Mn(t);break;case 13:En(e,t),Mn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fm=Ke())),r&4&&Dv(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Nt=(u=Nt)||c,En(e,t),Nt=u):En(e,t),Mn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(B=t,c=t.child;c!==null;){for(d=B=c;B!==null;){switch(h=B,g=h.child,h.tag){case 0:case 11:case 14:case 15:ua(4,h,h.return);break;case 1:Rs(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){$e(r,n,_)}}break;case 5:Rs(h,h.return);break;case 22:if(h.memoizedState!==null){Ov(d);continue}}g!==null?(g.return=h,B=g):Ov(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Dw("display",o))}catch(_){$e(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){$e(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:En(e,t),Mn(t),r&4&&Dv(t);break;case 21:break;default:En(e,t),Mn(t)}}function Mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sT(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ta(i,""),r.flags&=-33);var s=Nv(t);sp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Nv(t);ip(t,a,o);break;default:throw Error(N(161))}}catch(l){$e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dC(t,e,n){B=t,lT(t)}function lT(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||uu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Nt;a=uu;var u=Nt;if(uu=o,(Nt=l)&&!u)for(B=i;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?Lv(i):l!==null?(l.return=o,B=l):Lv(i);for(;s!==null;)B=s,lT(s),s=s.sibling;B=i,uu=a,Nt=u}bv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):bv(t)}}function bv(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||Qc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ra(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Nt||e.flags&512&&rp(e)}catch(h){$e(e,e.return,h)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function Ov(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function Lv(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qc(4,e)}catch(l){$e(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$e(e,i,l)}}var s=e.return;try{rp(e)}catch(l){$e(e,s,l)}break;case 5:var o=e.return;try{rp(e)}catch(l){$e(e,o,l)}}}catch(l){$e(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var hC=Math.ceil,uc=yr.ReactCurrentDispatcher,Vm=yr.ReactCurrentOwner,vn=yr.ReactCurrentBatchConfig,me=0,ht=null,Xe=null,It=0,Zt=0,As=ri(0),tt=0,Va=null,ji=0,Yc=0,jm=0,ca=null,zt=null,Fm=0,Qs=1/0,nr=null,cc=!1,op=null,Ur=null,cu=!1,Or=null,dc=0,da=0,ap=null,Du=-1,bu=0;function Ft(){return me&6?Ke():Du!==-1?Du:Du=Ke()}function Br(t){return t.mode&1?me&2&&It!==0?It&-It:QA.transition!==null?(bu===0&&(bu=Hw()),bu):(t=we,t!==0||(t=window.event,t=t===void 0?16:Jw(t.type)),t):1}function Cn(t,e,n,r){if(50<da)throw da=0,ap=null,Error(N(185));dl(t,n,r),(!(me&2)||t!==ht)&&(t===ht&&(!(me&2)&&(Yc|=n),tt===4&&Cr(t,It)),Gt(t,r),n===1&&me===0&&!(e.mode&1)&&(Qs=Ke()+500,qc&&ii()))}function Gt(t,e){var n=t.callbackNode;QR(t,e);var r=Gu(t,t===ht?It:0);if(r===0)n!==null&&Wy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wy(n),e===1)t.tag===0?GA(Mv.bind(null,t)):yE(Mv.bind(null,t)),WA(function(){!(me&6)&&ii()}),n=null;else{switch(qw(r)){case 1:n=dm;break;case 4:n=zw;break;case 16:n=Ku;break;case 536870912:n=Ww;break;default:n=Ku}n=gT(n,uT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uT(t,e){if(Du=-1,bu=0,me&6)throw Error(N(327));var n=t.callbackNode;if(Vs()&&t.callbackNode!==n)return null;var r=Gu(t,t===ht?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hc(t,r);else{e=r;var i=me;me|=2;var s=dT();(ht!==t||It!==e)&&(nr=null,Qs=Ke()+500,ki(t,e));do try{mC();break}catch(a){cT(t,a)}while(!0);Sm(),uc.current=s,me=i,Xe!==null?e=0:(ht=null,It=0,e=tt)}if(e!==0){if(e===2&&(i=Of(t),i!==0&&(r=i,e=lp(t,i))),e===1)throw n=Va,ki(t,0),Cr(t,r),Gt(t,Ke()),n;if(e===6)Cr(t,r);else{if(i=t.current.alternate,!(r&30)&&!fC(i)&&(e=hc(t,r),e===2&&(s=Of(t),s!==0&&(r=s,e=lp(t,s))),e===1))throw n=Va,ki(t,0),Cr(t,r),Gt(t,Ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:mi(t,zt,nr);break;case 3:if(Cr(t,r),(r&130023424)===r&&(e=Fm+500-Ke(),10<e)){if(Gu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bf(mi.bind(null,t,zt,nr),e);break}mi(t,zt,nr);break;case 4:if(Cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-An(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hC(r/1960))-r,10<r){t.timeoutHandle=Bf(mi.bind(null,t,zt,nr),r);break}mi(t,zt,nr);break;case 5:mi(t,zt,nr);break;default:throw Error(N(329))}}}return Gt(t,Ke()),t.callbackNode===n?uT.bind(null,t):null}function lp(t,e){var n=ca;return t.current.memoizedState.isDehydrated&&(ki(t,e).flags|=256),t=hc(t,e),t!==2&&(e=zt,zt=n,e!==null&&up(e)),t}function up(t){zt===null?zt=t:zt.push.apply(zt,t)}function fC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cr(t,e){for(e&=~jm,e&=~Yc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function Mv(t){if(me&6)throw Error(N(327));Vs();var e=Gu(t,0);if(!(e&1))return Gt(t,Ke()),null;var n=hc(t,e);if(t.tag!==0&&n===2){var r=Of(t);r!==0&&(e=r,n=lp(t,r))}if(n===1)throw n=Va,ki(t,0),Cr(t,e),Gt(t,Ke()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mi(t,zt,nr),Gt(t,Ke()),null}function $m(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(Qs=Ke()+500,qc&&ii())}}function Fi(t){Or!==null&&Or.tag===0&&!(me&6)&&Vs();var e=me;me|=1;var n=vn.transition,r=we;try{if(vn.transition=null,we=1,t)return t()}finally{we=r,vn.transition=n,me=e,!(me&6)&&ii()}}function Um(){Zt=As.current,be(As)}function ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zA(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Em(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zu();break;case 3:Ks(),be(qt),be(Lt),km();break;case 5:Pm(r);break;case 4:Ks();break;case 13:be(Le);break;case 19:be(Le);break;case 10:xm(r.type._context);break;case 22:case 23:Um()}n=n.return}if(ht=t,Xe=t=zr(t.current,null),It=Zt=e,tt=0,Va=null,jm=Yc=ji=0,zt=ca=null,Ti!==null){for(e=0;e<Ti.length;e++)if(n=Ti[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ti=null}return t}function cT(t,e){do{var n=Xe;try{if(Sm(),Pu.current=lc,ac){for(var r=Me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ac=!1}if(Vi=0,dt=et=Me=null,la=!1,Oa=0,Vm.current=null,n===null||n.return===null){tt=1,Va=e,Xe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Iv(o);if(g!==null){g.flags&=-257,Sv(g,o,a,s,e),g.mode&1&&Tv(s,u,e),e=g,l=u;var w=e.updateQueue;if(w===null){var _=new Set;_.add(l),e.updateQueue=_}else w.add(l);break e}else{if(!(e&1)){Tv(s,u,e),Bm();break e}l=Error(N(426))}}else if(Oe&&a.mode&1){var E=Iv(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Sv(E,o,a,s,e),Tm(Gs(l,a));break e}}s=l=Gs(l,a),tt!==4&&(tt=2),ca===null?ca=[s]:ca.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var f=KE(s,l,e);mv(s,f);break e;case 1:a=l;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ur===null||!Ur.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=GE(s,a,e);mv(s,A);break e}}s=s.return}while(s!==null)}fT(n)}catch(D){e=D,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function dT(){var t=uc.current;return uc.current=lc,t===null?lc:t}function Bm(){(tt===0||tt===3||tt===2)&&(tt=4),ht===null||!(ji&268435455)&&!(Yc&268435455)||Cr(ht,It)}function hc(t,e){var n=me;me|=2;var r=dT();(ht!==t||It!==e)&&(nr=null,ki(t,e));do try{pC();break}catch(i){cT(t,i)}while(!0);if(Sm(),me=n,uc.current=r,Xe!==null)throw Error(N(261));return ht=null,It=0,tt}function pC(){for(;Xe!==null;)hT(Xe)}function mC(){for(;Xe!==null&&!$R();)hT(Xe)}function hT(t){var e=mT(t.alternate,t,Zt);t.memoizedProps=t.pendingProps,e===null?fT(t):Xe=e,Vm.current=null}function fT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lC(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Xe=null;return}}else if(n=aC(n,e,Zt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);tt===0&&(tt=5)}function mi(t,e,n){var r=we,i=vn.transition;try{vn.transition=null,we=1,gC(t,e,n,r)}finally{vn.transition=i,we=r}return null}function gC(t,e,n,r){do Vs();while(Or!==null);if(me&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(YR(t,s),t===ht&&(Xe=ht=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cu||(cu=!0,gT(Ku,function(){return Vs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=we;we=1;var a=me;me|=4,Vm.current=null,cC(t,n),aT(n,t),MA($f),Qu=!!Ff,$f=Ff=null,t.current=n,dC(n),UR(),me=a,we=o,vn.transition=s}else t.current=n;if(cu&&(cu=!1,Or=t,dc=i),s=t.pendingLanes,s===0&&(Ur=null),WR(n.stateNode),Gt(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cc)throw cc=!1,t=op,op=null,t;return dc&1&&t.tag!==0&&Vs(),s=t.pendingLanes,s&1?t===ap?da++:(da=0,ap=t):da=0,ii(),null}function Vs(){if(Or!==null){var t=qw(dc),e=vn.transition,n=we;try{if(vn.transition=null,we=16>t?16:t,Or===null)var r=!1;else{if(t=Or,Or=null,dc=0,me&6)throw Error(N(331));var i=me;for(me|=4,B=t.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(B=u;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:ua(8,c,s)}var d=c.child;if(d!==null)d.return=c,B=d;else for(;B!==null;){c=B;var h=c.sibling,g=c.return;if(iT(c),c===u){B=null;break}if(h!==null){h.return=g,B=h;break}B=g}}}var w=s.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ua(9,s,s.return)}var f=s.sibling;if(f!==null){f.return=s.return,B=f;break e}B=s.return}}var p=t.current;for(B=p;B!==null;){o=B;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,B=v;else e:for(o=p;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qc(9,a)}}catch(D){$e(a,a.return,D)}if(a===o){B=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,B=A;break e}B=a.return}}if(me=i,ii(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(Uc,t)}catch{}r=!0}return r}finally{we=n,vn.transition=e}}return!1}function Vv(t,e,n){e=Gs(n,e),e=KE(t,e,1),t=$r(t,e,1),e=Ft(),t!==null&&(dl(t,1,e),Gt(t,e))}function $e(t,e,n){if(t.tag===3)Vv(t,t,n);else for(;e!==null;){if(e.tag===3){Vv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ur===null||!Ur.has(r))){t=Gs(n,t),t=GE(e,t,1),e=$r(e,t,1),t=Ft(),e!==null&&(dl(e,1,t),Gt(e,t));break}}e=e.return}}function yC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(It&n)===n&&(tt===4||tt===3&&(It&130023424)===It&&500>Ke()-Fm?ki(t,0):jm|=n),Gt(t,e)}function pT(t,e){e===0&&(t.mode&1?(e=eu,eu<<=1,!(eu&130023424)&&(eu=4194304)):e=1);var n=Ft();t=hr(t,e),t!==null&&(dl(t,e,n),Gt(t,n))}function vC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pT(t,n)}function _C(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),pT(t,n)}var mT;mT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,oC(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,Oe&&e.flags&1048576&&vE(e,nc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nu(t,e),t=e.pendingProps;var i=Ws(e,Lt.current);Ms(e,n),i=Dm(null,e,r,t,i,n);var s=bm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(r)?(s=!0,ec(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Am(e),i.updater=Kc,e.stateNode=i,i._reactInternals=e,Qf(e,r,t,n),e=Jf(null,e,r,!0,s,n)):(e.tag=0,Oe&&s&&wm(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=EC(r),t=In(r,t),i){case 0:e=Xf(null,e,r,t,n);break e;case 1:e=Av(null,e,r,t,n);break e;case 11:e=xv(null,e,r,t,n);break e;case 14:e=Rv(null,e,r,In(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),Xf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),Av(t,e,r,i,n);case 3:e:{if(JE(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,TE(t,e),sc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Gs(Error(N(423)),e),e=Cv(t,e,r,n,i);break e}else if(r!==i){i=Gs(Error(N(424)),e),e=Cv(t,e,r,n,i);break e}else for(en=Fr(e.stateNode.containerInfo.firstChild),sn=e,Oe=!0,Rn=null,n=RE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hs(),r===i){e=fr(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return AE(e),t===null&&qf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Uf(r,i)?o=null:s!==null&&Uf(r,s)&&(e.flags|=32),XE(t,e),Vt(t,e,o,n),e.child;case 6:return t===null&&qf(e),null;case 13:return ZE(t,e,n);case 4:return Cm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qs(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),xv(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ae(rc,r._currentValue),r._currentValue=o,s!==null)if(Pn(s.value,o)){if(s.children===i.children&&!qt.current){e=fr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ur(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Kf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Kf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ms(e,n),i=_n(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=In(r,e.pendingProps),i=In(r.type,i),Rv(t,e,r,i,n);case 15:return QE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),Nu(t,e),e.tag=1,Kt(r)?(t=!0,ec(e)):t=!1,Ms(e,n),SE(e,r,i),Qf(e,r,i,n),Jf(null,e,r,!0,t,n);case 19:return eT(t,e,n);case 22:return YE(t,e,n)}throw Error(N(156,e.tag))};function gT(t,e){return Bw(t,e)}function wC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new wC(t,e,n,r)}function zm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EC(t){if(typeof t=="function")return zm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lm)return 11;if(t===um)return 14}return 2}function zr(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ou(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")zm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ys:return Ni(n.children,i,s,e);case am:o=8,i|=8;break;case _f:return t=yn(12,n,e,i|2),t.elementType=_f,t.lanes=s,t;case wf:return t=yn(13,n,e,i),t.elementType=wf,t.lanes=s,t;case Ef:return t=yn(19,n,e,i),t.elementType=Ef,t.lanes=s,t;case xw:return Xc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Iw:o=10;break e;case Sw:o=9;break e;case lm:o=11;break e;case um:o=14;break e;case xr:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=yn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ni(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function Xc(t,e,n,r){return t=yn(22,t,r,e),t.elementType=xw,t.lanes=n,t.stateNode={isHidden:!1},t}function Uh(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function Bh(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Th(0),this.expirationTimes=Th(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Th(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wm(t,e,n,r,i,s,o,a,l){return t=new TC(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Am(s),t}function IC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yT(t){if(!t)return Yr;t=t._reactInternals;e:{if(Gi(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Kt(n))return gE(t,n,e)}return e}function vT(t,e,n,r,i,s,o,a,l){return t=Wm(n,r,!0,t,i,s,o,a,l),t.context=yT(null),n=t.current,r=Ft(),i=Br(n),s=ur(r,i),s.callback=e??null,$r(n,s,i),t.current.lanes=i,dl(t,i,r),Gt(t,r),t}function Jc(t,e,n,r){var i=e.current,s=Ft(),o=Br(i);return n=yT(n),e.context===null?e.context=n:e.pendingContext=n,e=ur(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$r(i,e,o),t!==null&&(Cn(t,i,o,s),Cu(t,i,o)),o}function fc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hm(t,e){jv(t,e),(t=t.alternate)&&jv(t,e)}function SC(){return null}var _T=typeof reportError=="function"?reportError:function(t){console.error(t)};function qm(t){this._internalRoot=t}Zc.prototype.render=qm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Jc(t,e,null,null)};Zc.prototype.unmount=qm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fi(function(){Jc(null,t,null,null)}),e[dr]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ar.length&&e!==0&&e<Ar[n].priority;n++);Ar.splice(n,0,t),n===0&&Xw(t)}};function Km(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ed(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fv(){}function xC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=fc(o);s.call(u)}}var o=vT(e,r,t,0,null,!1,!1,"",Fv);return t._reactRootContainer=o,t[dr]=o.current,Pa(t.nodeType===8?t.parentNode:t),Fi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=fc(l);a.call(u)}}var l=Wm(t,0,!1,null,null,!1,!1,"",Fv);return t._reactRootContainer=l,t[dr]=l.current,Pa(t.nodeType===8?t.parentNode:t),Fi(function(){Jc(e,l,n,r)}),l}function td(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=fc(o);a.call(l)}}Jc(e,o,t,i)}else o=xC(n,e,t,i,r);return fc(o)}Kw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Go(e.pendingLanes);n!==0&&(hm(e,n|1),Gt(e,Ke()),!(me&6)&&(Qs=Ke()+500,ii()))}break;case 13:Fi(function(){var r=hr(t,1);if(r!==null){var i=Ft();Cn(r,t,1,i)}}),Hm(t,1)}};fm=function(t){if(t.tag===13){var e=hr(t,134217728);if(e!==null){var n=Ft();Cn(e,t,134217728,n)}Hm(t,134217728)}};Gw=function(t){if(t.tag===13){var e=Br(t),n=hr(t,e);if(n!==null){var r=Ft();Cn(n,t,e,r)}Hm(t,e)}};Qw=function(){return we};Yw=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Nf=function(t,e,n){switch(e){case"input":if(Sf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hc(r);if(!i)throw Error(N(90));Aw(r),Sf(r,i)}}}break;case"textarea":Pw(t,n);break;case"select":e=n.value,e!=null&&Ds(t,!!n.multiple,e,!1)}};Mw=$m;Vw=Fi;var RC={usingClientEntryPoint:!1,Events:[fl,Es,Hc,Ow,Lw,$m]},Mo={findFiberByHostInstance:Ei,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},AC={bundleType:Mo.bundleType,version:Mo.version,rendererPackageName:Mo.rendererPackageName,rendererConfig:Mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$w(t),t===null?null:t.stateNode},findFiberByHostInstance:Mo.findFiberByHostInstance||SC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{Uc=du.inject(AC),Bn=du}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RC;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Km(e))throw Error(N(200));return IC(t,e,null,n)};ln.createRoot=function(t,e){if(!Km(t))throw Error(N(299));var n=!1,r="",i=_T;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wm(t,1,!1,null,null,n,!1,r,i),t[dr]=e.current,Pa(t.nodeType===8?t.parentNode:t),new qm(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=$w(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return Fi(t)};ln.hydrate=function(t,e,n){if(!ed(e))throw Error(N(200));return td(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!Km(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_T;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vT(e,null,t,1,n??null,i,!1,s,o),t[dr]=e.current,Pa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zc(e)};ln.render=function(t,e,n){if(!ed(e))throw Error(N(200));return td(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!ed(t))throw Error(N(40));return t._reactRootContainer?(Fi(function(){td(null,null,t,!1,function(){t._reactRootContainer=null,t[dr]=null})}),!0):!1};ln.unstable_batchedUpdates=$m;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ed(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return td(t,e,n,!1,r)};ln.version="18.2.0-next-9e3b772b8-20220608";function wT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wT)}catch(t){console.error(t)}}wT(),vw.exports=ln;var Gm=vw.exports;const CC=Fc(Gm),PC=ow({__proto__:null,default:CC},[Gm]);var $v=Gm;yf.createRoot=$v.createRoot,yf.hydrateRoot=$v.hydrateRoot;var kC=function(e){return NC(e)&&!DC(e)};function NC(t){return!!t&&typeof t=="object"}function DC(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||LC(t)}var bC=typeof Symbol=="function"&&Symbol.for,OC=bC?Symbol.for("react.element"):60103;function LC(t){return t.$$typeof===OC}function MC(t){return Array.isArray(t)?[]:{}}function pc(t,e){return e.clone!==!1&&e.isMergeableObject(t)?ja(MC(t),t,e):t}function VC(t,e,n){return t.concat(e).map(function(r){return pc(r,n)})}function jC(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=pc(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=pc(e[i],n):r[i]=ja(t[i],e[i],n)}),r}function ja(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||VC,n.isMergeableObject=n.isMergeableObject||kC;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):jC(t,e,n):pc(e,n)}ja.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return ja(r,i,n)},{})};var cp=ja,ET=typeof global=="object"&&global&&global.Object===Object&&global,FC=typeof self=="object"&&self&&self.Object===Object&&self,Zn=ET||FC||Function("return this")(),Xr=Zn.Symbol,TT=Object.prototype,$C=TT.hasOwnProperty,UC=TT.toString,Vo=Xr?Xr.toStringTag:void 0;function BC(t){var e=$C.call(t,Vo),n=t[Vo];try{t[Vo]=void 0;var r=!0}catch{}var i=UC.call(t);return r&&(e?t[Vo]=n:delete t[Vo]),i}var zC=Object.prototype,WC=zC.toString;function HC(t){return WC.call(t)}var qC="[object Null]",KC="[object Undefined]",Uv=Xr?Xr.toStringTag:void 0;function Qi(t){return t==null?t===void 0?KC:qC:Uv&&Uv in Object(t)?BC(t):HC(t)}function IT(t,e){return function(n){return t(e(n))}}var Qm=IT(Object.getPrototypeOf,Object);function Yi(t){return t!=null&&typeof t=="object"}var GC="[object Object]",QC=Function.prototype,YC=Object.prototype,ST=QC.toString,XC=YC.hasOwnProperty,JC=ST.call(Object);function Bv(t){if(!Yi(t)||Qi(t)!=GC)return!1;var e=Qm(t);if(e===null)return!0;var n=XC.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ST.call(n)==JC}var zv=Array.isArray,Wv=Object.keys,ZC=Object.prototype.hasOwnProperty,eP=typeof Element<"u";function dp(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=zv(t),r=zv(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!dp(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var d=Wv(t);if(s=d.length,s!==Wv(e).length)return!1;for(i=s;i--!==0;)if(!ZC.call(e,d[i]))return!1;if(eP&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=d[i],!(o==="_owner"&&t.$$typeof)&&!dp(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var tP=function(e,n){try{return dp(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const gi=Fc(tP);function nP(){this.__data__=[],this.size=0}function xT(t,e){return t===e||t!==t&&e!==e}function nd(t,e){for(var n=t.length;n--;)if(xT(t[n][0],e))return n;return-1}var rP=Array.prototype,iP=rP.splice;function sP(t){var e=this.__data__,n=nd(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():iP.call(e,n,1),--this.size,!0}function oP(t){var e=this.__data__,n=nd(e,t);return n<0?void 0:e[n][1]}function aP(t){return nd(this.__data__,t)>-1}function lP(t,e){var n=this.__data__,r=nd(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function vr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vr.prototype.clear=nP;vr.prototype.delete=sP;vr.prototype.get=oP;vr.prototype.has=aP;vr.prototype.set=lP;function uP(){this.__data__=new vr,this.size=0}function cP(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function dP(t){return this.__data__.get(t)}function hP(t){return this.__data__.has(t)}function ml(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var fP="[object AsyncFunction]",pP="[object Function]",mP="[object GeneratorFunction]",gP="[object Proxy]";function RT(t){if(!ml(t))return!1;var e=Qi(t);return e==pP||e==mP||e==fP||e==gP}var zh=Zn["__core-js_shared__"],Hv=function(){var t=/[^.]+$/.exec(zh&&zh.keys&&zh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yP(t){return!!Hv&&Hv in t}var vP=Function.prototype,_P=vP.toString;function Xi(t){if(t!=null){try{return _P.call(t)}catch{}try{return t+""}catch{}}return""}var wP=/[\\^$.*+?()[\]{}|]/g,EP=/^\[object .+?Constructor\]$/,TP=Function.prototype,IP=Object.prototype,SP=TP.toString,xP=IP.hasOwnProperty,RP=RegExp("^"+SP.call(xP).replace(wP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function AP(t){if(!ml(t)||yP(t))return!1;var e=RT(t)?RP:EP;return e.test(Xi(t))}function CP(t,e){return t==null?void 0:t[e]}function Ji(t,e){var n=CP(t,e);return AP(n)?n:void 0}var Fa=Ji(Zn,"Map"),$a=Ji(Object,"create");function PP(){this.__data__=$a?$a(null):{},this.size=0}function kP(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var NP="__lodash_hash_undefined__",DP=Object.prototype,bP=DP.hasOwnProperty;function OP(t){var e=this.__data__;if($a){var n=e[t];return n===NP?void 0:n}return bP.call(e,t)?e[t]:void 0}var LP=Object.prototype,MP=LP.hasOwnProperty;function VP(t){var e=this.__data__;return $a?e[t]!==void 0:MP.call(e,t)}var jP="__lodash_hash_undefined__";function FP(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$a&&e===void 0?jP:e,this}function $i(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$i.prototype.clear=PP;$i.prototype.delete=kP;$i.prototype.get=OP;$i.prototype.has=VP;$i.prototype.set=FP;function $P(){this.size=0,this.__data__={hash:new $i,map:new(Fa||vr),string:new $i}}function UP(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function rd(t,e){var n=t.__data__;return UP(e)?n[typeof e=="string"?"string":"hash"]:n.map}function BP(t){var e=rd(this,t).delete(t);return this.size-=e?1:0,e}function zP(t){return rd(this,t).get(t)}function WP(t){return rd(this,t).has(t)}function HP(t,e){var n=rd(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function si(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}si.prototype.clear=$P;si.prototype.delete=BP;si.prototype.get=zP;si.prototype.has=WP;si.prototype.set=HP;var qP=200;function KP(t,e){var n=this.__data__;if(n instanceof vr){var r=n.__data__;if(!Fa||r.length<qP-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new si(r)}return n.set(t,e),this.size=n.size,this}function fo(t){var e=this.__data__=new vr(t);this.size=e.size}fo.prototype.clear=uP;fo.prototype.delete=cP;fo.prototype.get=dP;fo.prototype.has=hP;fo.prototype.set=KP;function GP(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var qv=function(){try{var t=Ji(Object,"defineProperty");return t({},"",{}),t}catch{}}();function AT(t,e,n){e=="__proto__"&&qv?qv(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var QP=Object.prototype,YP=QP.hasOwnProperty;function CT(t,e,n){var r=t[e];(!(YP.call(t,e)&&xT(r,n))||n===void 0&&!(e in t))&&AT(t,e,n)}function id(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?AT(n,a,l):CT(n,a,l)}return n}function XP(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var JP="[object Arguments]";function Kv(t){return Yi(t)&&Qi(t)==JP}var PT=Object.prototype,ZP=PT.hasOwnProperty,ek=PT.propertyIsEnumerable,tk=Kv(function(){return arguments}())?Kv:function(t){return Yi(t)&&ZP.call(t,"callee")&&!ek.call(t,"callee")},gl=Array.isArray;function nk(){return!1}var kT=typeof nn=="object"&&nn&&!nn.nodeType&&nn,Gv=kT&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,rk=Gv&&Gv.exports===kT,Qv=rk?Zn.Buffer:void 0,ik=Qv?Qv.isBuffer:void 0,NT=ik||nk,sk=9007199254740991,ok=/^(?:0|[1-9]\d*)$/;function ak(t,e){var n=typeof t;return e=e??sk,!!e&&(n=="number"||n!="symbol"&&ok.test(t))&&t>-1&&t%1==0&&t<e}var lk=9007199254740991;function DT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lk}var uk="[object Arguments]",ck="[object Array]",dk="[object Boolean]",hk="[object Date]",fk="[object Error]",pk="[object Function]",mk="[object Map]",gk="[object Number]",yk="[object Object]",vk="[object RegExp]",_k="[object Set]",wk="[object String]",Ek="[object WeakMap]",Tk="[object ArrayBuffer]",Ik="[object DataView]",Sk="[object Float32Array]",xk="[object Float64Array]",Rk="[object Int8Array]",Ak="[object Int16Array]",Ck="[object Int32Array]",Pk="[object Uint8Array]",kk="[object Uint8ClampedArray]",Nk="[object Uint16Array]",Dk="[object Uint32Array]",ke={};ke[Sk]=ke[xk]=ke[Rk]=ke[Ak]=ke[Ck]=ke[Pk]=ke[kk]=ke[Nk]=ke[Dk]=!0;ke[uk]=ke[ck]=ke[Tk]=ke[dk]=ke[Ik]=ke[hk]=ke[fk]=ke[pk]=ke[mk]=ke[gk]=ke[yk]=ke[vk]=ke[_k]=ke[wk]=ke[Ek]=!1;function bk(t){return Yi(t)&&DT(t.length)&&!!ke[Qi(t)]}function Ym(t){return function(e){return t(e)}}var bT=typeof nn=="object"&&nn&&!nn.nodeType&&nn,ha=bT&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,Ok=ha&&ha.exports===bT,Wh=Ok&&ET.process,Ys=function(){try{var t=ha&&ha.require&&ha.require("util").types;return t||Wh&&Wh.binding&&Wh.binding("util")}catch{}}(),Yv=Ys&&Ys.isTypedArray,Lk=Yv?Ym(Yv):bk,Mk=Object.prototype,Vk=Mk.hasOwnProperty;function OT(t,e){var n=gl(t),r=!n&&tk(t),i=!n&&!r&&NT(t),s=!n&&!r&&!i&&Lk(t),o=n||r||i||s,a=o?XP(t.length,String):[],l=a.length;for(var u in t)(e||Vk.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ak(u,l)))&&a.push(u);return a}var jk=Object.prototype;function Xm(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||jk;return t===n}var Fk=IT(Object.keys,Object),$k=Object.prototype,Uk=$k.hasOwnProperty;function Bk(t){if(!Xm(t))return Fk(t);var e=[];for(var n in Object(t))Uk.call(t,n)&&n!="constructor"&&e.push(n);return e}function LT(t){return t!=null&&DT(t.length)&&!RT(t)}function Jm(t){return LT(t)?OT(t):Bk(t)}function zk(t,e){return t&&id(e,Jm(e),t)}function Wk(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Hk=Object.prototype,qk=Hk.hasOwnProperty;function Kk(t){if(!ml(t))return Wk(t);var e=Xm(t),n=[];for(var r in t)r=="constructor"&&(e||!qk.call(t,r))||n.push(r);return n}function Zm(t){return LT(t)?OT(t,!0):Kk(t)}function Gk(t,e){return t&&id(e,Zm(e),t)}var MT=typeof nn=="object"&&nn&&!nn.nodeType&&nn,Xv=MT&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,Qk=Xv&&Xv.exports===MT,Jv=Qk?Zn.Buffer:void 0,Zv=Jv?Jv.allocUnsafe:void 0;function Yk(t,e){if(e)return t.slice();var n=t.length,r=Zv?Zv(n):new t.constructor(n);return t.copy(r),r}function VT(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Xk(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function jT(){return[]}var Jk=Object.prototype,Zk=Jk.propertyIsEnumerable,e_=Object.getOwnPropertySymbols,eg=e_?function(t){return t==null?[]:(t=Object(t),Xk(e_(t),function(e){return Zk.call(t,e)}))}:jT;function eN(t,e){return id(t,eg(t),e)}function FT(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var tN=Object.getOwnPropertySymbols,$T=tN?function(t){for(var e=[];t;)FT(e,eg(t)),t=Qm(t);return e}:jT;function nN(t,e){return id(t,$T(t),e)}function UT(t,e,n){var r=e(t);return gl(t)?r:FT(r,n(t))}function rN(t){return UT(t,Jm,eg)}function iN(t){return UT(t,Zm,$T)}var hp=Ji(Zn,"DataView"),fp=Ji(Zn,"Promise"),pp=Ji(Zn,"Set"),mp=Ji(Zn,"WeakMap"),t_="[object Map]",sN="[object Object]",n_="[object Promise]",r_="[object Set]",i_="[object WeakMap]",s_="[object DataView]",oN=Xi(hp),aN=Xi(Fa),lN=Xi(fp),uN=Xi(pp),cN=Xi(mp),yi=Qi;(hp&&yi(new hp(new ArrayBuffer(1)))!=s_||Fa&&yi(new Fa)!=t_||fp&&yi(fp.resolve())!=n_||pp&&yi(new pp)!=r_||mp&&yi(new mp)!=i_)&&(yi=function(t){var e=Qi(t),n=e==sN?t.constructor:void 0,r=n?Xi(n):"";if(r)switch(r){case oN:return s_;case aN:return t_;case lN:return n_;case uN:return r_;case cN:return i_}return e});const tg=yi;var dN=Object.prototype,hN=dN.hasOwnProperty;function fN(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&hN.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var o_=Zn.Uint8Array;function ng(t){var e=new t.constructor(t.byteLength);return new o_(e).set(new o_(t)),e}function pN(t,e){var n=e?ng(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var mN=/\w*$/;function gN(t){var e=new t.constructor(t.source,mN.exec(t));return e.lastIndex=t.lastIndex,e}var a_=Xr?Xr.prototype:void 0,l_=a_?a_.valueOf:void 0;function yN(t){return l_?Object(l_.call(t)):{}}function vN(t,e){var n=e?ng(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var _N="[object Boolean]",wN="[object Date]",EN="[object Map]",TN="[object Number]",IN="[object RegExp]",SN="[object Set]",xN="[object String]",RN="[object Symbol]",AN="[object ArrayBuffer]",CN="[object DataView]",PN="[object Float32Array]",kN="[object Float64Array]",NN="[object Int8Array]",DN="[object Int16Array]",bN="[object Int32Array]",ON="[object Uint8Array]",LN="[object Uint8ClampedArray]",MN="[object Uint16Array]",VN="[object Uint32Array]";function jN(t,e,n){var r=t.constructor;switch(e){case AN:return ng(t);case _N:case wN:return new r(+t);case CN:return pN(t,n);case PN:case kN:case NN:case DN:case bN:case ON:case LN:case MN:case VN:return vN(t,n);case EN:return new r;case TN:case xN:return new r(t);case IN:return gN(t);case SN:return new r;case RN:return yN(t)}}var u_=Object.create,FN=function(){function t(){}return function(e){if(!ml(e))return{};if(u_)return u_(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function $N(t){return typeof t.constructor=="function"&&!Xm(t)?FN(Qm(t)):{}}var UN="[object Map]";function BN(t){return Yi(t)&&tg(t)==UN}var c_=Ys&&Ys.isMap,zN=c_?Ym(c_):BN,WN="[object Set]";function HN(t){return Yi(t)&&tg(t)==WN}var d_=Ys&&Ys.isSet,qN=d_?Ym(d_):HN,KN=1,GN=2,QN=4,BT="[object Arguments]",YN="[object Array]",XN="[object Boolean]",JN="[object Date]",ZN="[object Error]",zT="[object Function]",eD="[object GeneratorFunction]",tD="[object Map]",nD="[object Number]",WT="[object Object]",rD="[object RegExp]",iD="[object Set]",sD="[object String]",oD="[object Symbol]",aD="[object WeakMap]",lD="[object ArrayBuffer]",uD="[object DataView]",cD="[object Float32Array]",dD="[object Float64Array]",hD="[object Int8Array]",fD="[object Int16Array]",pD="[object Int32Array]",mD="[object Uint8Array]",gD="[object Uint8ClampedArray]",yD="[object Uint16Array]",vD="[object Uint32Array]",Re={};Re[BT]=Re[YN]=Re[lD]=Re[uD]=Re[XN]=Re[JN]=Re[cD]=Re[dD]=Re[hD]=Re[fD]=Re[pD]=Re[tD]=Re[nD]=Re[WT]=Re[rD]=Re[iD]=Re[sD]=Re[oD]=Re[mD]=Re[gD]=Re[yD]=Re[vD]=!0;Re[ZN]=Re[zT]=Re[aD]=!1;function Lu(t,e,n,r,i,s){var o,a=e&KN,l=e&GN,u=e&QN;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!ml(t))return t;var c=gl(t);if(c){if(o=fN(t),!a)return VT(t,o)}else{var d=tg(t),h=d==zT||d==eD;if(NT(t))return Yk(t,a);if(d==WT||d==BT||h&&!i){if(o=l||h?{}:$N(t),!a)return l?nN(t,Gk(o,t)):eN(t,zk(o,t))}else{if(!Re[d])return i?t:{};o=jN(t,d,a)}}s||(s=new fo);var g=s.get(t);if(g)return g;s.set(t,o),qN(t)?t.forEach(function(E){o.add(Lu(E,e,n,E,t,s))}):zN(t)&&t.forEach(function(E,f){o.set(f,Lu(E,e,n,f,t,s))});var w=u?l?iN:rN:l?Zm:Jm,_=c?void 0:w(t);return GP(_||t,function(E,f){_&&(f=E,E=t[f]),CT(o,f,Lu(E,e,n,f,t,s))}),o}var _D=4;function h_(t){return Lu(t,_D)}function HT(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var wD="[object Symbol]";function rg(t){return typeof t=="symbol"||Yi(t)&&Qi(t)==wD}var ED="Expected a function";function ig(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ED);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(ig.Cache||si),n}ig.Cache=si;var TD=500;function ID(t){var e=ig(t,function(r){return n.size===TD&&n.clear(),r}),n=e.cache;return e}var SD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xD=/\\(\\)?/g,RD=ID(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(SD,function(n,r,i,s){e.push(i?s.replace(xD,"$1"):r||n)}),e});const AD=RD;var CD=1/0;function PD(t){if(typeof t=="string"||rg(t))return t;var e=t+"";return e=="0"&&1/t==-CD?"-0":e}var kD=1/0,f_=Xr?Xr.prototype:void 0,p_=f_?f_.toString:void 0;function qT(t){if(typeof t=="string")return t;if(gl(t))return HT(t,qT)+"";if(rg(t))return p_?p_.call(t):"";var e=t+"";return e=="0"&&1/t==-kD?"-0":e}function ND(t){return t==null?"":qT(t)}function KT(t){return gl(t)?HT(t,PD):rg(t)?[t]:VT(AD(ND(t)))}var GT={exports:{}},Te={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mt=typeof Symbol=="function"&&Symbol.for,sg=mt?Symbol.for("react.element"):60103,og=mt?Symbol.for("react.portal"):60106,sd=mt?Symbol.for("react.fragment"):60107,od=mt?Symbol.for("react.strict_mode"):60108,ad=mt?Symbol.for("react.profiler"):60114,ld=mt?Symbol.for("react.provider"):60109,ud=mt?Symbol.for("react.context"):60110,ag=mt?Symbol.for("react.async_mode"):60111,cd=mt?Symbol.for("react.concurrent_mode"):60111,dd=mt?Symbol.for("react.forward_ref"):60112,hd=mt?Symbol.for("react.suspense"):60113,DD=mt?Symbol.for("react.suspense_list"):60120,fd=mt?Symbol.for("react.memo"):60115,pd=mt?Symbol.for("react.lazy"):60116,bD=mt?Symbol.for("react.block"):60121,OD=mt?Symbol.for("react.fundamental"):60117,LD=mt?Symbol.for("react.responder"):60118,MD=mt?Symbol.for("react.scope"):60119;function cn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sg:switch(t=t.type,t){case ag:case cd:case sd:case ad:case od:case hd:return t;default:switch(t=t&&t.$$typeof,t){case ud:case dd:case pd:case fd:case ld:return t;default:return e}}case og:return e}}}function QT(t){return cn(t)===cd}Te.AsyncMode=ag;Te.ConcurrentMode=cd;Te.ContextConsumer=ud;Te.ContextProvider=ld;Te.Element=sg;Te.ForwardRef=dd;Te.Fragment=sd;Te.Lazy=pd;Te.Memo=fd;Te.Portal=og;Te.Profiler=ad;Te.StrictMode=od;Te.Suspense=hd;Te.isAsyncMode=function(t){return QT(t)||cn(t)===ag};Te.isConcurrentMode=QT;Te.isContextConsumer=function(t){return cn(t)===ud};Te.isContextProvider=function(t){return cn(t)===ld};Te.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sg};Te.isForwardRef=function(t){return cn(t)===dd};Te.isFragment=function(t){return cn(t)===sd};Te.isLazy=function(t){return cn(t)===pd};Te.isMemo=function(t){return cn(t)===fd};Te.isPortal=function(t){return cn(t)===og};Te.isProfiler=function(t){return cn(t)===ad};Te.isStrictMode=function(t){return cn(t)===od};Te.isSuspense=function(t){return cn(t)===hd};Te.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sd||t===cd||t===ad||t===od||t===hd||t===DD||typeof t=="object"&&t!==null&&(t.$$typeof===pd||t.$$typeof===fd||t.$$typeof===ld||t.$$typeof===ud||t.$$typeof===dd||t.$$typeof===OD||t.$$typeof===LD||t.$$typeof===MD||t.$$typeof===bD)};Te.typeOf=cn;GT.exports=Te;var VD=GT.exports,YT=VD,jD={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},FD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},XT={};XT[YT.ForwardRef]=jD;XT[YT.Memo]=FD;function ut(){return ut=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ut.apply(this,arguments)}function JT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var md=I.createContext(void 0);md.displayName="FormikContext";md.Provider;md.Consumer;function $D(){var t=I.useContext(md);return t}var Tn=function(e){return typeof e=="function"},gd=function(e){return e!==null&&typeof e=="object"},UD=function(e){return String(Math.floor(Number(e)))===e},Hh=function(e){return Object.prototype.toString.call(e)==="[object String]"},qh=function(e){return gd(e)&&Tn(e.then)};function Jt(t,e,n,r){r===void 0&&(r=0);for(var i=KT(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Di(t,e,n){for(var r=h_(t),i=r,s=0,o=KT(e);s<o.length-1;s++){var a=o[s],l=Jt(t,o.slice(0,s+1));if(l&&(gd(l)||Array.isArray(l)))i=i[a]=h_(l);else{var u=o[s+1];i=i[a]=UD(u)&&Number(u)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function ZT(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];gd(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},ZT(a,e,n,r[o])):r[o]=e}return r}function BD(t,e){switch(e.type){case"SET_VALUES":return ut({},t,{values:e.payload});case"SET_TOUCHED":return ut({},t,{touched:e.payload});case"SET_ERRORS":return gi(t.errors,e.payload)?t:ut({},t,{errors:e.payload});case"SET_STATUS":return ut({},t,{status:e.payload});case"SET_ISSUBMITTING":return ut({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return ut({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return ut({},t,{values:Di(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return ut({},t,{touched:Di(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return ut({},t,{errors:Di(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return ut({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return ut({},t,{touched:ZT(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return ut({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return ut({},t,{isSubmitting:!1});default:return t}}var fi={},hu={};function lg(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,c=t.onSubmit,d=JT(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=ut({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},d),g=I.useRef(h.initialValues),w=I.useRef(h.initialErrors||fi),_=I.useRef(h.initialTouched||hu),E=I.useRef(h.initialStatus),f=I.useRef(!1),p=I.useRef({});I.useEffect(function(){return f.current=!0,function(){f.current=!1}},[]);var v=I.useState(0),A=v[1],D=I.useRef({values:h.initialValues,errors:h.initialErrors||fi,touched:h.initialTouched||hu,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),y=D.current,R=I.useCallback(function(x){var F=D.current;D.current=BD(F,x),F!==D.current&&A(function(U){return U+1})},[]),b=I.useCallback(function(x,F){return new Promise(function(U,H){var re=h.validate(x,F);re==null?U(fi):qh(re)?re.then(function(fe){U(fe||fi)},function(fe){H(fe)}):U(re)})},[h.validate]),$=I.useCallback(function(x,F){var U=h.validationSchema,H=Tn(U)?U(F):U,re=F&&H.validateAt?H.validateAt(F,x):WD(x,H);return new Promise(function(fe,Ge){re.then(function(){fe(fi)},function(ot){ot.name==="ValidationError"?fe(zD(ot)):Ge(ot)})})},[h.validationSchema]),W=I.useCallback(function(x,F){return new Promise(function(U){return U(p.current[x].validate(F))})},[]),ce=I.useCallback(function(x){var F=Object.keys(p.current).filter(function(H){return Tn(p.current[H].validate)}),U=F.length>0?F.map(function(H){return W(H,Jt(x,H))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(U).then(function(H){return H.reduce(function(re,fe,Ge){return fe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||fe&&(re=Di(re,F[Ge],fe)),re},{})})},[W]),We=I.useCallback(function(x){return Promise.all([ce(x),h.validationSchema?$(x):{},h.validate?b(x):{}]).then(function(F){var U=F[0],H=F[1],re=F[2],fe=cp.all([U,H,re],{arrayMerge:HD});return fe})},[h.validate,h.validationSchema,ce,b,$]),ge=hn(function(x){return x===void 0&&(x=y.values),R({type:"SET_ISVALIDATING",payload:!0}),We(x).then(function(F){return f.current&&(R({type:"SET_ISVALIDATING",payload:!1}),R({type:"SET_ERRORS",payload:F})),F})});I.useEffect(function(){o&&f.current===!0&&gi(g.current,h.initialValues)&&ge(g.current)},[o,ge]);var rt=I.useCallback(function(x){var F=x&&x.values?x.values:g.current,U=x&&x.errors?x.errors:w.current?w.current:h.initialErrors||{},H=x&&x.touched?x.touched:_.current?_.current:h.initialTouched||{},re=x&&x.status?x.status:E.current?E.current:h.initialStatus;g.current=F,w.current=U,_.current=H,E.current=re;var fe=function(){R({type:"RESET_FORM",payload:{isSubmitting:!!x&&!!x.isSubmitting,errors:U,touched:H,status:re,values:F,isValidating:!!x&&!!x.isValidating,submitCount:x&&x.submitCount&&typeof x.submitCount=="number"?x.submitCount:0}})};if(h.onReset){var Ge=h.onReset(y.values,xo);qh(Ge)?Ge.then(fe):fe()}else fe()},[h.initialErrors,h.initialStatus,h.initialTouched,h.onReset]);I.useEffect(function(){f.current===!0&&!gi(g.current,h.initialValues)&&u&&(g.current=h.initialValues,rt(),o&&ge(g.current))},[u,h.initialValues,rt,o,ge]),I.useEffect(function(){u&&f.current===!0&&!gi(w.current,h.initialErrors)&&(w.current=h.initialErrors||fi,R({type:"SET_ERRORS",payload:h.initialErrors||fi}))},[u,h.initialErrors]),I.useEffect(function(){u&&f.current===!0&&!gi(_.current,h.initialTouched)&&(_.current=h.initialTouched||hu,R({type:"SET_TOUCHED",payload:h.initialTouched||hu}))},[u,h.initialTouched]),I.useEffect(function(){u&&f.current===!0&&!gi(E.current,h.initialStatus)&&(E.current=h.initialStatus,R({type:"SET_STATUS",payload:h.initialStatus}))},[u,h.initialStatus,h.initialTouched]);var er=hn(function(x){if(p.current[x]&&Tn(p.current[x].validate)){var F=Jt(y.values,x),U=p.current[x].validate(F);return qh(U)?(R({type:"SET_ISVALIDATING",payload:!0}),U.then(function(H){return H}).then(function(H){R({type:"SET_FIELD_ERROR",payload:{field:x,value:H}}),R({type:"SET_ISVALIDATING",payload:!1})})):(R({type:"SET_FIELD_ERROR",payload:{field:x,value:U}}),Promise.resolve(U))}else if(h.validationSchema)return R({type:"SET_ISVALIDATING",payload:!0}),$(y.values,x).then(function(H){return H}).then(function(H){R({type:"SET_FIELD_ERROR",payload:{field:x,value:Jt(H,x)}}),R({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Ln=I.useCallback(function(x,F){var U=F.validate;p.current[x]={validate:U}},[]),Se=I.useCallback(function(x){delete p.current[x]},[]),V=hn(function(x,F){R({type:"SET_TOUCHED",payload:x});var U=F===void 0?i:F;return U?ge(y.values):Promise.resolve()}),G=I.useCallback(function(x){R({type:"SET_ERRORS",payload:x})},[]),Y=hn(function(x,F){var U=Tn(x)?x(y.values):x;R({type:"SET_VALUES",payload:U});var H=F===void 0?n:F;return H?ge(U):Promise.resolve()}),oe=I.useCallback(function(x,F){R({type:"SET_FIELD_ERROR",payload:{field:x,value:F}})},[]),ye=hn(function(x,F,U){R({type:"SET_FIELD_VALUE",payload:{field:x,value:F}});var H=U===void 0?n:U;return H?ge(Di(y.values,x,F)):Promise.resolve()}),Yt=I.useCallback(function(x,F){var U=F,H=x,re;if(!Hh(x)){x.persist&&x.persist();var fe=x.target?x.target:x.currentTarget,Ge=fe.type,ot=fe.name,ss=fe.id,os=fe.value,ql=fe.checked,Cy=fe.outerHTML,Ao=fe.options,as=fe.multiple;U=F||ot||ss,H=/number|range/.test(Ge)?(re=parseFloat(os),isNaN(re)?"":re):/checkbox/.test(Ge)?KD(Jt(y.values,U),ql,os):Ao&&as?qD(Ao):os}U&&ye(U,H)},[ye,y.values]),He=hn(function(x){if(Hh(x))return function(F){return Yt(F,x)};Yt(x)}),it=hn(function(x,F,U){F===void 0&&(F=!0),R({type:"SET_FIELD_TOUCHED",payload:{field:x,value:F}});var H=U===void 0?i:U;return H?ge(y.values):Promise.resolve()}),st=I.useCallback(function(x,F){x.persist&&x.persist();var U=x.target,H=U.name,re=U.id,fe=U.outerHTML,Ge=F||H||re;it(Ge,!0)},[it]),dn=hn(function(x){if(Hh(x))return function(F){return st(F,x)};st(x)}),zl=I.useCallback(function(x){Tn(x)?R({type:"SET_FORMIK_STATE",payload:x}):R({type:"SET_FORMIK_STATE",payload:function(){return x}})},[]),Wl=I.useCallback(function(x){R({type:"SET_STATUS",payload:x})},[]),Hl=I.useCallback(function(x){R({type:"SET_ISSUBMITTING",payload:x})},[]),yt=hn(function(){return R({type:"SUBMIT_ATTEMPT"}),ge().then(function(x){var F=x instanceof Error,U=!F&&Object.keys(x).length===0;if(U){var H;try{if(H=lh(),H===void 0)return}catch(re){throw re}return Promise.resolve(H).then(function(re){return f.current&&R({type:"SUBMIT_SUCCESS"}),re}).catch(function(re){if(f.current)throw R({type:"SUBMIT_FAILURE"}),re})}else if(f.current&&(R({type:"SUBMIT_FAILURE"}),F))throw x})}),ci=hn(function(x){x&&x.preventDefault&&Tn(x.preventDefault)&&x.preventDefault(),x&&x.stopPropagation&&Tn(x.stopPropagation)&&x.stopPropagation(),yt().catch(function(F){console.warn("Warning: An unhandled error was caught from submitForm()",F)})}),xo={resetForm:rt,validateForm:ge,validateField:er,setErrors:G,setFieldError:oe,setFieldTouched:it,setFieldValue:ye,setStatus:Wl,setSubmitting:Hl,setTouched:V,setValues:Y,setFormikState:zl,submitForm:yt},lh=hn(function(){return c(y.values,xo)}),tr=hn(function(x){x&&x.preventDefault&&Tn(x.preventDefault)&&x.preventDefault(),x&&x.stopPropagation&&Tn(x.stopPropagation)&&x.stopPropagation(),rt()}),uh=I.useCallback(function(x){return{value:Jt(y.values,x),error:Jt(y.errors,x),touched:!!Jt(y.touched,x),initialValue:Jt(g.current,x),initialTouched:!!Jt(_.current,x),initialError:Jt(w.current,x)}},[y.errors,y.touched,y.values]),ch=I.useCallback(function(x){return{setValue:function(U,H){return ye(x,U,H)},setTouched:function(U,H){return it(x,U,H)},setError:function(U){return oe(x,U)}}},[ye,it,oe]),dh=I.useCallback(function(x){var F=gd(x),U=F?x.name:x,H=Jt(y.values,U),re={name:U,value:H,onChange:He,onBlur:dn};if(F){var fe=x.type,Ge=x.value,ot=x.as,ss=x.multiple;fe==="checkbox"?Ge===void 0?re.checked=!!H:(re.checked=!!(Array.isArray(H)&&~H.indexOf(Ge)),re.value=Ge):fe==="radio"?(re.checked=H===Ge,re.value=Ge):ot==="select"&&ss&&(re.value=re.value||[],re.multiple=!0)}return re},[dn,He,y.values]),Ro=I.useMemo(function(){return!gi(g.current,y.values)},[g.current,y.values]),hh=I.useMemo(function(){return typeof a<"u"?Ro?y.errors&&Object.keys(y.errors).length===0:a!==!1&&Tn(a)?a(h):a:y.errors&&Object.keys(y.errors).length===0},[a,Ro,y.errors,h]),di=ut({},y,{initialValues:g.current,initialErrors:w.current,initialTouched:_.current,initialStatus:E.current,handleBlur:dn,handleChange:He,handleReset:tr,handleSubmit:ci,resetForm:rt,setErrors:G,setFormikState:zl,setFieldTouched:it,setFieldValue:ye,setFieldError:oe,setStatus:Wl,setSubmitting:Hl,setTouched:V,setValues:Y,submitForm:yt,validateForm:ge,validateField:er,isValid:hh,dirty:Ro,unregisterField:Se,registerField:Ln,getFieldProps:dh,getFieldMeta:uh,getFieldHelpers:ch,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return di}function zD(t){var e={};if(t.inner){if(t.inner.length===0)return Di(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Jt(e,o.path)||(e=Di(e,o.path,o.message))}}return e}function WD(t,e,n,r){n===void 0&&(n=!1);var i=gp(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function gp(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||Bv(i)?gp(i):i!==""?i:void 0}):Bv(t[r])?e[r]=gp(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function HD(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?cp(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=cp(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function qD(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function KD(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var GD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?I.useLayoutEffect:I.useEffect;function hn(t){var e=I.useRef(t);return GD(function(){e.current=t}),I.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var QD=I.forwardRef(function(t,e){var n=t.action,r=JT(t,["action"]),i=n??"#",s=$D(),o=s.handleReset,a=s.handleSubmit;return I.createElement("form",ut({onSubmit:a,ref:e,onReset:o,action:i},r))});QD.displayName="Form";/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ue(){return Ue=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ue.apply(this,arguments)}var qe;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qe||(qe={}));const m_="popstate";function YD(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ua("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yl(i)}return JD(e,n,null,t)}function ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XD(){return Math.random().toString(36).substr(2,8)}function g_(t,e){return{usr:t.state,key:t.key,idx:e}}function Ua(t,e,n,r){return n===void 0&&(n=null),Ue({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_r(e):e,{state:n,key:e&&e.key||r||XD()})}function yl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _r(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function JD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=qe.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ue({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=qe.Pop;let E=c(),f=E==null?null:E-u;u=E,l&&l({action:a,location:_.location,delta:f})}function h(E,f){a=qe.Push;let p=Ua(_.location,E,f);n&&n(p,E),u=c()+1;let v=g_(p,u),A=_.createHref(p);try{o.pushState(v,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(A)}s&&l&&l({action:a,location:_.location,delta:1})}function g(E,f){a=qe.Replace;let p=Ua(_.location,E,f);n&&n(p,E),u=c();let v=g_(p,u),A=_.createHref(p);o.replaceState(v,"",A),s&&l&&l({action:a,location:_.location,delta:0})}function w(E){let f=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof E=="string"?E:yl(E);return p=p.replace(/ $/,"%20"),ae(f,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,f)}let _={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(m_,d),l=E,()=>{i.removeEventListener(m_,d),l=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let f=w(E);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:h,replace:g,go(E){return o.go(E)}};return _}var Fe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fe||(Fe={}));const ZD=new Set(["lazy","caseSensitive","path","id","index","children"]);function eb(t){return t.index===!0}function yp(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(ae(i.index!==!0||!i.children,"Cannot specify children on an index route"),ae(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),eb(i)){let l=Ue({},i,e(i),{id:a});return r[a]=l,l}else{let l=Ue({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=yp(i.children,e,o,r)),l}})}function Cs(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?_r(e):e,i=vl(r.pathname||"/",n);if(i==null)return null;let s=e1(t);nb(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=pb(i);o=db(s[a],l)}return o}function tb(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function e1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ae(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Wr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ae(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),e1(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:ub(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of t1(s.path))i(s,o,l)}),e}function t1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=t1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rb=/^:[\w-]+$/,ib=3,sb=2,ob=1,ab=10,lb=-2,y_=t=>t==="*";function ub(t,e){let n=t.split("/"),r=n.length;return n.some(y_)&&(r+=lb),e&&(r+=sb),n.filter(i=>!y_(i)).reduce((i,s)=>i+(rb.test(s)?ib:s===""?ob:ab),r)}function cb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function db(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=hb({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Wr([i,c.pathname]),pathnameBase:yb(Wr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Wr([i,c.pathnameBase]))}return s}function hb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:g}=c;if(h==="*"){let _=a[d]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const w=a[d];return g&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function fb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Xs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_r(t):t;return{pathname:n?n.startsWith("/")?n:gb(n,e):e,search:vb(r),hash:_b(i)}}function gb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Kh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function r1(t,e){let n=n1(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function i1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=_r(t):(i=Ue({},t),ae(!i.pathname||!i.pathname.includes("?"),Kh("?","pathname","search",i)),ae(!i.pathname||!i.pathname.includes("#"),Kh("#","pathname","hash",i)),ae(!i.search||!i.search.includes("#"),Kh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=mb(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Wr=t=>t.join("/").replace(/\/\/+/g,"/"),yb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_b=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ug{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function s1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const o1=["post","put","patch","delete"],wb=new Set(o1),Eb=["get",...o1],Tb=new Set(Eb),Ib=new Set([301,302,303,307,308]),Sb=new Set([307,308]),Gh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},jo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},a1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rb=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),l1="remix-router-transitions";function Ab(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ae(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let T=t.detectErrorBoundary;i=S=>({hasErrorBoundary:T(S)})}else i=Rb;let s={},o=yp(t.routes,i,void 0,s),a,l=t.basename||"/",u=Ue({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,d=new Set,h=null,g=null,w=null,_=t.hydrationData!=null,E=Cs(o,t.history.location,l),f=null;if(E==null){let T=fn(404,{pathname:t.history.location.pathname}),{matches:S,route:C}=x_(o);E=S,f={[C.id]:T}}let p,v=E.some(T=>T.route.lazy),A=E.some(T=>T.route.loader);if(v)p=!1;else if(!A)p=!0;else if(u.v7_partialHydration){let T=t.hydrationData?t.hydrationData.loaderData:null,S=t.hydrationData?t.hydrationData.errors:null,C=O=>O.route.loader?O.route.loader.hydrate===!0?!1:T&&T[O.route.id]!==void 0||S&&S[O.route.id]!==void 0:!0;if(S){let O=E.findIndex(z=>S[z.route.id]!==void 0);p=E.slice(0,O+1).every(C)}else p=E.every(C)}else p=t.hydrationData!=null;let D,y={historyAction:t.history.action,location:t.history.location,matches:E,initialized:p,navigation:Gh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||f,fetchers:new Map,blockers:new Map},R=qe.Pop,b=!1,$,W=!1,ce=new Map,We=null,ge=!1,rt=!1,er=[],Ln=[],Se=new Map,V=0,G=-1,Y=new Map,oe=new Set,ye=new Map,Yt=new Map,He=new Set,it=new Map,st=new Map,dn=!1;function zl(){if(c=t.history.listen(T=>{let{action:S,location:C,delta:O}=T;if(dn){dn=!1;return}Xs(st.size===0||O!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let z=Py({currentLocation:y.location,nextLocation:C,historyAction:S});if(z&&O!=null){dn=!0,t.history.go(O*-1),as(z,{state:"blocked",location:C,proceed(){as(z,{state:"proceeding",proceed:void 0,reset:void 0,location:C}),t.history.go(O)},reset(){let se=new Map(y.blockers);se.set(z,jo),yt({blockers:se})}});return}return tr(S,C)}),n){jb(e,ce);let T=()=>Fb(e,ce);e.addEventListener("pagehide",T),We=()=>e.removeEventListener("pagehide",T)}return y.initialized||tr(qe.Pop,y.location,{initialHydration:!0}),D}function Wl(){c&&c(),We&&We(),d.clear(),$&&$.abort(),y.fetchers.forEach((T,S)=>fe(S)),y.blockers.forEach((T,S)=>Ao(S))}function Hl(T){return d.add(T),()=>d.delete(T)}function yt(T,S){S===void 0&&(S={}),y=Ue({},y,T);let C=[],O=[];u.v7_fetcherPersist&&y.fetchers.forEach((z,se)=>{z.state==="idle"&&(He.has(se)?O.push(se):C.push(se))}),[...d].forEach(z=>z(y,{deletedFetchers:O,unstable_viewTransitionOpts:S.viewTransitionOpts,unstable_flushSync:S.flushSync===!0})),u.v7_fetcherPersist&&(C.forEach(z=>y.fetchers.delete(z)),O.forEach(z=>fe(z)))}function ci(T,S,C){var O,z;let{flushSync:se}=C===void 0?{}:C,X=y.actionData!=null&&y.navigation.formMethod!=null&&xn(y.navigation.formMethod)&&y.navigation.state==="loading"&&((O=T.state)==null?void 0:O._isRedirect)!==!0,Q;S.actionData?Object.keys(S.actionData).length>0?Q=S.actionData:Q=null:X?Q=y.actionData:Q=null;let K=S.loaderData?S_(y.loaderData,S.loaderData,S.matches||[],S.errors):y.loaderData,de=y.blockers;de.size>0&&(de=new Map(de),de.forEach((xe,vt)=>de.set(vt,jo)));let at=b===!0||y.navigation.formMethod!=null&&xn(y.navigation.formMethod)&&((z=T.state)==null?void 0:z._isRedirect)!==!0;a&&(o=a,a=void 0),ge||R===qe.Pop||(R===qe.Push?t.history.push(T,T.state):R===qe.Replace&&t.history.replace(T,T.state));let ie;if(R===qe.Pop){let xe=ce.get(y.location.pathname);xe&&xe.has(T.pathname)?ie={currentLocation:y.location,nextLocation:T}:ce.has(T.pathname)&&(ie={currentLocation:T,nextLocation:y.location})}else if(W){let xe=ce.get(y.location.pathname);xe?xe.add(T.pathname):(xe=new Set([T.pathname]),ce.set(y.location.pathname,xe)),ie={currentLocation:y.location,nextLocation:T}}yt(Ue({},S,{actionData:Q,loaderData:K,historyAction:R,location:T,initialized:!0,navigation:Gh,revalidation:"idle",restoreScrollPosition:Ny(T,S.matches||y.matches),preventScrollReset:at,blockers:de}),{viewTransitionOpts:ie,flushSync:se===!0}),R=qe.Pop,b=!1,W=!1,ge=!1,rt=!1,er=[],Ln=[]}async function xo(T,S){if(typeof T=="number"){t.history.go(T);return}let C=vp(y.location,y.matches,l,u.v7_prependBasename,T,u.v7_relativeSplatPath,S==null?void 0:S.fromRouteId,S==null?void 0:S.relative),{path:O,submission:z,error:se}=v_(u.v7_normalizeFormMethod,!1,C,S),X=y.location,Q=Ua(y.location,O,S&&S.state);Q=Ue({},Q,t.history.encodeLocation(Q));let K=S&&S.replace!=null?S.replace:void 0,de=qe.Push;K===!0?de=qe.Replace:K===!1||z!=null&&xn(z.formMethod)&&z.formAction===y.location.pathname+y.location.search&&(de=qe.Replace);let at=S&&"preventScrollReset"in S?S.preventScrollReset===!0:void 0,ie=(S&&S.unstable_flushSync)===!0,xe=Py({currentLocation:X,nextLocation:Q,historyAction:de});if(xe){as(xe,{state:"blocked",location:Q,proceed(){as(xe,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),xo(T,S)},reset(){let vt=new Map(y.blockers);vt.set(xe,jo),yt({blockers:vt})}});return}return await tr(de,Q,{submission:z,pendingError:se,preventScrollReset:at,replace:S&&S.replace,enableViewTransition:S&&S.unstable_viewTransition,flushSync:ie})}function lh(){if(F(),yt({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){tr(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}tr(R||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function tr(T,S,C){$&&$.abort(),$=null,R=T,ge=(C&&C.startUninterruptedRevalidation)===!0,Zx(y.location,y.matches),b=(C&&C.preventScrollReset)===!0,W=(C&&C.enableViewTransition)===!0;let O=a||o,z=C&&C.overrideNavigation,se=Cs(O,S,l),X=(C&&C.flushSync)===!0;if(!se){let vt=fn(404,{pathname:S.pathname}),{matches:Xt,route:lt}=x_(O);fh(),ci(S,{matches:Xt,loaderData:{},errors:{[lt.id]:vt}},{flushSync:X});return}if(y.initialized&&!rt&&Db(y.location,S)&&!(C&&C.submission&&xn(C.submission.formMethod))){ci(S,{matches:se},{flushSync:X});return}$=new AbortController;let Q=$o(t.history,S,$.signal,C&&C.submission),K,de;if(C&&C.pendingError)de={[fa(se).route.id]:C.pendingError};else if(C&&C.submission&&xn(C.submission.formMethod)){let vt=await uh(Q,S,C.submission,se,{replace:C.replace,flushSync:X});if(vt.shortCircuited)return;K=vt.pendingActionData,de=vt.pendingActionError,z=Qh(S,C.submission),X=!1,Q=new Request(Q.url,{signal:Q.signal})}let{shortCircuited:at,loaderData:ie,errors:xe}=await ch(Q,S,se,z,C&&C.submission,C&&C.fetcherSubmission,C&&C.replace,C&&C.initialHydration===!0,X,K,de);at||($=null,ci(S,Ue({matches:se},K?{actionData:K}:{},{loaderData:ie,errors:xe})))}async function uh(T,S,C,O,z){z===void 0&&(z={}),F();let se=Mb(S,C);yt({navigation:se},{flushSync:z.flushSync===!0});let X,Q=wp(O,S);if(!Q.route.action&&!Q.route.lazy)X={type:Fe.error,error:fn(405,{method:T.method,pathname:S.pathname,routeId:Q.route.id})};else if(X=await Fo("action",T,Q,O,s,i,l,u.v7_relativeSplatPath),T.signal.aborted)return{shortCircuited:!0};if(xi(X)){let K;return z&&z.replace!=null?K=z.replace:K=X.location===y.location.pathname+y.location.search,await di(y,X,{submission:C,replace:K}),{shortCircuited:!0}}if(Ps(X)){let K=fa(O,Q.route.id);return(z&&z.replace)!==!0&&(R=qe.Push),{pendingActionData:{},pendingActionError:{[K.route.id]:X.error}}}if(Si(X))throw fn(400,{type:"defer-action"});return{pendingActionData:{[Q.route.id]:X.data}}}async function ch(T,S,C,O,z,se,X,Q,K,de,at){let ie=O||Qh(S,z),xe=z||se||C_(ie),vt=a||o,[Xt,lt]=__(t.history,y,C,xe,S,u.v7_partialHydration&&Q===!0,rt,er,Ln,He,ye,oe,vt,l,de,at);if(fh(ve=>!(C&&C.some(Ie=>Ie.route.id===ve))||Xt&&Xt.some(Ie=>Ie.route.id===ve)),G=++V,Xt.length===0&&lt.length===0){let ve=os();return ci(S,Ue({matches:C,loaderData:{},errors:at||null},de?{actionData:de}:{},ve?{fetchers:new Map(y.fetchers)}:{}),{flushSync:K}),{shortCircuited:!0}}if(!ge&&(!u.v7_partialHydration||!Q)){lt.forEach(Ie=>{let Bt=y.fetchers.get(Ie.key),Gl=Uo(void 0,Bt?Bt.data:void 0);y.fetchers.set(Ie.key,Gl)});let ve=de||y.actionData;yt(Ue({navigation:ie},ve?Object.keys(ve).length===0?{actionData:null}:{actionData:ve}:{},lt.length>0?{fetchers:new Map(y.fetchers)}:{}),{flushSync:K})}lt.forEach(ve=>{Se.has(ve.key)&&ot(ve.key),ve.controller&&Se.set(ve.key,ve.controller)});let ls=()=>lt.forEach(ve=>ot(ve.key));$&&$.signal.addEventListener("abort",ls);let{results:ph,loaderResults:us,fetcherResults:Er}=await x(y.matches,C,Xt,lt,T);if(T.signal.aborted)return{shortCircuited:!0};$&&$.signal.removeEventListener("abort",ls),lt.forEach(ve=>Se.delete(ve.key));let hi=R_(ph);if(hi){if(hi.idx>=Xt.length){let ve=lt[hi.idx-Xt.length].key;oe.add(ve)}return await di(y,hi.result,{replace:X}),{shortCircuited:!0}}let{loaderData:mh,errors:Co}=I_(y,C,Xt,us,at,lt,Er,it);it.forEach((ve,Ie)=>{ve.subscribe(Bt=>{(Bt||ve.done)&&it.delete(Ie)})}),u.v7_partialHydration&&Q&&y.errors&&Object.entries(y.errors).filter(ve=>{let[Ie]=ve;return!Xt.some(Bt=>Bt.route.id===Ie)}).forEach(ve=>{let[Ie,Bt]=ve;Co=Object.assign(Co||{},{[Ie]:Bt})});let gh=os(),cs=ql(G),Kl=gh||cs||lt.length>0;return Ue({loaderData:mh,errors:Co},Kl?{fetchers:new Map(y.fetchers)}:{})}function dh(T,S,C,O){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Se.has(T)&&ot(T);let z=(O&&O.unstable_flushSync)===!0,se=a||o,X=vp(y.location,y.matches,l,u.v7_prependBasename,C,u.v7_relativeSplatPath,S,O==null?void 0:O.relative),Q=Cs(se,X,l);if(!Q){H(T,S,fn(404,{pathname:X}),{flushSync:z});return}let{path:K,submission:de,error:at}=v_(u.v7_normalizeFormMethod,!0,X,O);if(at){H(T,S,at,{flushSync:z});return}let ie=wp(Q,K);if(b=(O&&O.preventScrollReset)===!0,de&&xn(de.formMethod)){Ro(T,S,K,ie,Q,z,de);return}ye.set(T,{routeId:S,path:K}),hh(T,S,K,ie,Q,z,de)}async function Ro(T,S,C,O,z,se,X){if(F(),ye.delete(T),!O.route.action&&!O.route.lazy){let Ie=fn(405,{method:X.formMethod,pathname:C,routeId:S});H(T,S,Ie,{flushSync:se});return}let Q=y.fetchers.get(T);U(T,Vb(X,Q),{flushSync:se});let K=new AbortController,de=$o(t.history,C,K.signal,X);Se.set(T,K);let at=V,ie=await Fo("action",de,O,z,s,i,l,u.v7_relativeSplatPath);if(de.signal.aborted){Se.get(T)===K&&Se.delete(T);return}if(u.v7_fetcherPersist&&He.has(T)){if(xi(ie)||Ps(ie)){U(T,Sr(void 0));return}}else{if(xi(ie))if(Se.delete(T),G>at){U(T,Sr(void 0));return}else return oe.add(T),U(T,Uo(X)),di(y,ie,{fetcherSubmission:X});if(Ps(ie)){H(T,S,ie.error);return}}if(Si(ie))throw fn(400,{type:"defer-action"});let xe=y.navigation.location||y.location,vt=$o(t.history,xe,K.signal),Xt=a||o,lt=y.navigation.state!=="idle"?Cs(Xt,y.navigation.location,l):y.matches;ae(lt,"Didn't find any matches after fetcher action");let ls=++V;Y.set(T,ls);let ph=Uo(X,ie.data);y.fetchers.set(T,ph);let[us,Er]=__(t.history,y,lt,X,xe,!1,rt,er,Ln,He,ye,oe,Xt,l,{[O.route.id]:ie.data},void 0);Er.filter(Ie=>Ie.key!==T).forEach(Ie=>{let Bt=Ie.key,Gl=y.fetchers.get(Bt),tR=Uo(void 0,Gl?Gl.data:void 0);y.fetchers.set(Bt,tR),Se.has(Bt)&&ot(Bt),Ie.controller&&Se.set(Bt,Ie.controller)}),yt({fetchers:new Map(y.fetchers)});let hi=()=>Er.forEach(Ie=>ot(Ie.key));K.signal.addEventListener("abort",hi);let{results:mh,loaderResults:Co,fetcherResults:gh}=await x(y.matches,lt,us,Er,vt);if(K.signal.aborted)return;K.signal.removeEventListener("abort",hi),Y.delete(T),Se.delete(T),Er.forEach(Ie=>Se.delete(Ie.key));let cs=R_(mh);if(cs){if(cs.idx>=us.length){let Ie=Er[cs.idx-us.length].key;oe.add(Ie)}return di(y,cs.result)}let{loaderData:Kl,errors:ve}=I_(y,y.matches,us,Co,void 0,Er,gh,it);if(y.fetchers.has(T)){let Ie=Sr(ie.data);y.fetchers.set(T,Ie)}ql(ls),y.navigation.state==="loading"&&ls>G?(ae(R,"Expected pending action"),$&&$.abort(),ci(y.navigation.location,{matches:lt,loaderData:Kl,errors:ve,fetchers:new Map(y.fetchers)})):(yt({errors:ve,loaderData:S_(y.loaderData,Kl,lt,ve),fetchers:new Map(y.fetchers)}),rt=!1)}async function hh(T,S,C,O,z,se,X){let Q=y.fetchers.get(T);U(T,Uo(X,Q?Q.data:void 0),{flushSync:se});let K=new AbortController,de=$o(t.history,C,K.signal);Se.set(T,K);let at=V,ie=await Fo("loader",de,O,z,s,i,l,u.v7_relativeSplatPath);if(Si(ie)&&(ie=await d1(ie,de.signal,!0)||ie),Se.get(T)===K&&Se.delete(T),!de.signal.aborted){if(He.has(T)){U(T,Sr(void 0));return}if(xi(ie))if(G>at){U(T,Sr(void 0));return}else{oe.add(T),await di(y,ie);return}if(Ps(ie)){H(T,S,ie.error);return}ae(!Si(ie),"Unhandled fetcher deferred data"),U(T,Sr(ie.data))}}async function di(T,S,C){let{submission:O,fetcherSubmission:z,replace:se}=C===void 0?{}:C;S.revalidate&&(rt=!0);let X=Ua(T.location,S.location,{_isRedirect:!0});if(ae(X,"Expected a location on the redirect navigation"),n){let xe=!1;if(S.reloadDocument)xe=!0;else if(a1.test(S.location)){const vt=t.history.createURL(S.location);xe=vt.origin!==e.location.origin||vl(vt.pathname,l)==null}if(xe){se?e.location.replace(S.location):e.location.assign(S.location);return}}$=null;let Q=se===!0?qe.Replace:qe.Push,{formMethod:K,formAction:de,formEncType:at}=T.navigation;!O&&!z&&K&&de&&at&&(O=C_(T.navigation));let ie=O||z;if(Sb.has(S.status)&&ie&&xn(ie.formMethod))await tr(Q,X,{submission:Ue({},ie,{formAction:S.location}),preventScrollReset:b});else{let xe=Qh(X,O);await tr(Q,X,{overrideNavigation:xe,fetcherSubmission:z,preventScrollReset:b})}}async function x(T,S,C,O,z){let se=await Promise.all([...C.map(K=>Fo("loader",z,K,S,s,i,l,u.v7_relativeSplatPath)),...O.map(K=>K.matches&&K.match&&K.controller?Fo("loader",$o(t.history,K.path,K.controller.signal),K.match,K.matches,s,i,l,u.v7_relativeSplatPath):{type:Fe.error,error:fn(404,{pathname:K.path})})]),X=se.slice(0,C.length),Q=se.slice(C.length);return await Promise.all([A_(T,C,X,X.map(()=>z.signal),!1,y.loaderData),A_(T,O.map(K=>K.match),Q,O.map(K=>K.controller?K.controller.signal:null),!0)]),{results:se,loaderResults:X,fetcherResults:Q}}function F(){rt=!0,er.push(...fh()),ye.forEach((T,S)=>{Se.has(S)&&(Ln.push(S),ot(S))})}function U(T,S,C){C===void 0&&(C={}),y.fetchers.set(T,S),yt({fetchers:new Map(y.fetchers)},{flushSync:(C&&C.flushSync)===!0})}function H(T,S,C,O){O===void 0&&(O={});let z=fa(y.matches,S);fe(T),yt({errors:{[z.route.id]:C},fetchers:new Map(y.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function re(T){return u.v7_fetcherPersist&&(Yt.set(T,(Yt.get(T)||0)+1),He.has(T)&&He.delete(T)),y.fetchers.get(T)||xb}function fe(T){let S=y.fetchers.get(T);Se.has(T)&&!(S&&S.state==="loading"&&Y.has(T))&&ot(T),ye.delete(T),Y.delete(T),oe.delete(T),He.delete(T),y.fetchers.delete(T)}function Ge(T){if(u.v7_fetcherPersist){let S=(Yt.get(T)||0)-1;S<=0?(Yt.delete(T),He.add(T)):Yt.set(T,S)}else fe(T);yt({fetchers:new Map(y.fetchers)})}function ot(T){let S=Se.get(T);ae(S,"Expected fetch controller: "+T),S.abort(),Se.delete(T)}function ss(T){for(let S of T){let C=re(S),O=Sr(C.data);y.fetchers.set(S,O)}}function os(){let T=[],S=!1;for(let C of oe){let O=y.fetchers.get(C);ae(O,"Expected fetcher: "+C),O.state==="loading"&&(oe.delete(C),T.push(C),S=!0)}return ss(T),S}function ql(T){let S=[];for(let[C,O]of Y)if(O<T){let z=y.fetchers.get(C);ae(z,"Expected fetcher: "+C),z.state==="loading"&&(ot(C),Y.delete(C),S.push(C))}return ss(S),S.length>0}function Cy(T,S){let C=y.blockers.get(T)||jo;return st.get(T)!==S&&st.set(T,S),C}function Ao(T){y.blockers.delete(T),st.delete(T)}function as(T,S){let C=y.blockers.get(T)||jo;ae(C.state==="unblocked"&&S.state==="blocked"||C.state==="blocked"&&S.state==="blocked"||C.state==="blocked"&&S.state==="proceeding"||C.state==="blocked"&&S.state==="unblocked"||C.state==="proceeding"&&S.state==="unblocked","Invalid blocker state transition: "+C.state+" -> "+S.state);let O=new Map(y.blockers);O.set(T,S),yt({blockers:O})}function Py(T){let{currentLocation:S,nextLocation:C,historyAction:O}=T;if(st.size===0)return;st.size>1&&Xs(!1,"A router only supports one blocker at a time");let z=Array.from(st.entries()),[se,X]=z[z.length-1],Q=y.blockers.get(se);if(!(Q&&Q.state==="proceeding")&&X({currentLocation:S,nextLocation:C,historyAction:O}))return se}function fh(T){let S=[];return it.forEach((C,O)=>{(!T||T(O))&&(C.cancel(),S.push(O),it.delete(O))}),S}function Jx(T,S,C){if(h=T,w=S,g=C||null,!_&&y.navigation===Gh){_=!0;let O=Ny(y.location,y.matches);O!=null&&yt({restoreScrollPosition:O})}return()=>{h=null,w=null,g=null}}function ky(T,S){return g&&g(T,S.map(O=>tb(O,y.loaderData)))||T.key}function Zx(T,S){if(h&&w){let C=ky(T,S);h[C]=w()}}function Ny(T,S){if(h){let C=ky(T,S),O=h[C];if(typeof O=="number")return O}return null}function eR(T){s={},a=yp(T,i,void 0,s)}return D={get basename(){return l},get future(){return u},get state(){return y},get routes(){return o},get window(){return e},initialize:zl,subscribe:Hl,enableScrollRestoration:Jx,navigate:xo,fetch:dh,revalidate:lh,createHref:T=>t.history.createHref(T),encodeLocation:T=>t.history.encodeLocation(T),getFetcher:re,deleteFetcher:Ge,dispose:Wl,getBlocker:Cy,deleteBlocker:Ao,_internalFetchControllers:Se,_internalActiveDeferreds:it,_internalSetRoutes:eR},D}function Cb(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function vp(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){u=d;break}}else l=e,u=e[e.length-1];let c=i1(i||".",r1(l,s),vl(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!cg(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Wr([n,c.pathname])),yl(c)}function v_(t,e,n,r){if(!r||!Cb(r))return{path:n};if(r.formMethod&&!Lb(r.formMethod))return{path:n,error:fn(405,{method:r.formMethod})};let i=()=>({path:n,error:fn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=c1(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!xn(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,w)=>{let[_,E]=w;return""+g+_+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!xn(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}ae(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=_p(r.formData),u=r.formData;else if(r.body instanceof FormData)l=_p(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=T_(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=T_(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(xn(c.formMethod))return{path:n,submission:c};let d=_r(n);return e&&d.search&&cg(d.search)&&l.append("index",""),d.search="?"+l,{path:yl(d),submission:c}}function Pb(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function __(t,e,n,r,i,s,o,a,l,u,c,d,h,g,w,_){let E=_?Object.values(_)[0]:w?Object.values(w)[0]:void 0,f=t.createURL(e.location),p=t.createURL(i),v=_?Object.keys(_)[0]:void 0,D=Pb(n,v).filter((R,b)=>{let{route:$}=R;if($.lazy)return!0;if($.loader==null)return!1;if(s)return $.loader.hydrate?!0:e.loaderData[$.id]===void 0&&(!e.errors||e.errors[$.id]===void 0);if(kb(e.loaderData,e.matches[b],R)||a.some(We=>We===R.route.id))return!0;let W=e.matches[b],ce=R;return w_(R,Ue({currentUrl:f,currentParams:W.params,nextUrl:p,nextParams:ce.params},r,{actionResult:E,defaultShouldRevalidate:o||f.pathname+f.search===p.pathname+p.search||f.search!==p.search||u1(W,ce)}))}),y=[];return c.forEach((R,b)=>{if(s||!n.some(ge=>ge.route.id===R.routeId)||u.has(b))return;let $=Cs(h,R.path,g);if(!$){y.push({key:b,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let W=e.fetchers.get(b),ce=wp($,R.path),We=!1;d.has(b)?We=!1:l.includes(b)?We=!0:W&&W.state!=="idle"&&W.data===void 0?We=o:We=w_(ce,Ue({currentUrl:f,currentParams:e.matches[e.matches.length-1].params,nextUrl:p,nextParams:n[n.length-1].params},r,{actionResult:E,defaultShouldRevalidate:o})),We&&y.push({key:b,routeId:R.routeId,path:R.path,matches:$,match:ce,controller:new AbortController})}),[D,y]}function kb(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function u1(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function w_(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function E_(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ae(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Xs(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!ZD.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ue({},e(i),{lazy:void 0}))}async function Fo(t,e,n,r,i,s,o,a,l){l===void 0&&(l={});let u,c,d,h=_=>{let E,f=new Promise((p,v)=>E=v);return d=()=>E(),e.signal.addEventListener("abort",d),Promise.race([_({request:e,params:n.params,context:l.requestContext}),f])};try{let _=n.route[t];if(n.route.lazy)if(_){let E,f=await Promise.all([h(_).catch(p=>{E=p}),E_(n.route,s,i)]);if(E)throw E;c=f[0]}else if(await E_(n.route,s,i),_=n.route[t],_)c=await h(_);else if(t==="action"){let E=new URL(e.url),f=E.pathname+E.search;throw fn(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:Fe.data,data:void 0};else if(_)c=await h(_);else{let E=new URL(e.url),f=E.pathname+E.search;throw fn(404,{pathname:f})}ae(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(_){u=Fe.error,c=_}finally{d&&e.signal.removeEventListener("abort",d)}if(Ob(c)){let _=c.status;if(Ib.has(_)){let f=c.headers.get("Location");if(ae(f,"Redirects returned/thrown from loaders/actions must have a Location header"),!a1.test(f))f=vp(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,f,a);else if(!l.isStaticRequest){let p=new URL(e.url),v=f.startsWith("//")?new URL(p.protocol+f):new URL(f),A=vl(v.pathname,o)!=null;v.origin===p.origin&&A&&(f=v.pathname+v.search+v.hash)}if(l.isStaticRequest)throw c.headers.set("Location",f),c;return{type:Fe.redirect,status:_,location:f,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Fe.error?Fe.error:Fe.data,response:c};let E;try{let f=c.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?c.body==null?E=null:E=await c.json():E=await c.text()}catch(f){return{type:Fe.error,error:f}}return u===Fe.error?{type:u,error:new ug(_,c.statusText,E),headers:c.headers}:{type:Fe.data,data:E,statusCode:c.status,headers:c.headers}}if(u===Fe.error)return{type:u,error:c};if(bb(c)){var g,w;return{type:Fe.deferred,deferredData:c,statusCode:(g=c.init)==null?void 0:g.status,headers:((w=c.init)==null?void 0:w.headers)&&new Headers(c.init.headers)}}return{type:Fe.data,data:c}}function $o(t,e,n,r){let i=t.createURL(c1(e)).toString(),s={signal:n};if(r&&xn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=_p(r.formData):s.body=r.formData}return new Request(i,s)}function _p(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function T_(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Nb(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=e[d].route.id;if(ae(!xi(c),"Cannot handle redirect results in processLoaderData"),Ps(c)){let g=fa(t,h),w=c.error;r&&(w=Object.values(r)[0],r=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=w),s[h]=void 0,l||(l=!0,a=s1(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else Si(c)?(i.set(h,c.deferredData),s[h]=c.deferredData.data):s[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function I_(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=Nb(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:h,controller:g}=s[c];ae(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let w=o[c];if(!(g&&g.signal.aborted))if(Ps(w)){let _=fa(t.matches,h==null?void 0:h.route.id);u&&u[_.route.id]||(u=Ue({},u,{[_.route.id]:w.error})),t.fetchers.delete(d)}else if(xi(w))ae(!1,"Unhandled fetcher revalidation redirect");else if(Si(w))ae(!1,"Unhandled fetcher deferred data");else{let _=Sr(w.data);t.fetchers.set(d,_)}}return{loaderData:l,errors:u}}function S_(t,e,n,r){let i=Ue({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function fa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function x_(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fn(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new ug(t||500,o,new Error(a),!0)}function R_(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(xi(n))return{result:n,idx:e}}}function c1(t){let e=typeof t=="string"?_r(t):t;return yl(Ue({},e,{hash:""}))}function Db(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Si(t){return t.type===Fe.deferred}function Ps(t){return t.type===Fe.error}function xi(t){return(t&&t.type)===Fe.redirect}function bb(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Ob(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Lb(t){return Tb.has(t.toLowerCase())}function xn(t){return wb.has(t.toLowerCase())}async function A_(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!u1(u,l)&&(s&&s[l.route.id])!==void 0;if(Si(a)&&(i||c)){let d=r[o];ae(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await d1(a,d,i).then(h=>{h&&(n[o]=h||n[o])})}}}async function d1(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Fe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Fe.error,error:i}}return{type:Fe.data,data:t.deferredData.data}}}function cg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function wp(t,e){let n=typeof e=="string"?_r(e).search:e.search;if(t[t.length-1].route.index&&cg(n||""))return t[t.length-1];let r=n1(t);return r[r.length-1]}function C_(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Qh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Mb(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Uo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Vb(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Sr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function jb(t,e){try{let n=t.sessionStorage.getItem(l1);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Fb(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(l1,JSON.stringify(n))}catch(r){Xs(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ba.apply(this,arguments)}const yd=I.createContext(null),h1=I.createContext(null),vd=I.createContext(null),_d=I.createContext(null),po=I.createContext({outlet:null,matches:[],isDataRoute:!1}),f1=I.createContext(null);function wd(){return I.useContext(_d)!=null}function p1(){return wd()||ae(!1),I.useContext(_d).location}function m1(t){I.useContext(vd).static||I.useLayoutEffect(t)}function bn(){let{isDataRoute:t}=I.useContext(po);return t?Xb():$b()}function $b(){wd()||ae(!1);let t=I.useContext(yd),{basename:e,future:n,navigator:r}=I.useContext(vd),{matches:i}=I.useContext(po),{pathname:s}=p1(),o=JSON.stringify(r1(i,n.v7_relativeSplatPath)),a=I.useRef(!1);return m1(()=>{a.current=!0}),I.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=i1(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Wr([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function Ub(t,e,n,r){wd()||ae(!1);let{navigator:i}=I.useContext(vd),{matches:s}=I.useContext(po),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=p1(),c;if(e){var d;let E=typeof e=="string"?_r(e):e;l==="/"||(d=E.pathname)!=null&&d.startsWith(l)||ae(!1),c=E}else c=u;let h=c.pathname||"/",g=h;if(l!=="/"){let E=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=Cs(t,{pathname:g}),_=qb(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Wr([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Wr([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&_?I.createElement(_d.Provider,{value:{location:Ba({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:qe.Pop}},_):_}function Bb(){let t=Yb(),e=s1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,null)}const zb=I.createElement(Bb,null);class Wb extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(po.Provider,{value:this.props.routeContext},I.createElement(f1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hb(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(yd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(po.Provider,{value:e},r)}function qb(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||ae(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:g}=n,w=d.route.loader&&h[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let g,w=!1,_=null,E=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,_=d.route.errorElement||zb,l&&(u<0&&h===0?(Jb("route-fallback",!1),w=!0,E=null):u===h&&(w=!0,E=d.route.hydrateFallbackElement||null)));let f=e.concat(o.slice(0,h+1)),p=()=>{let v;return g?v=_:w?v=E:d.route.Component?v=I.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,I.createElement(Hb,{match:d,routeContext:{outlet:c,matches:f,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?I.createElement(Wb,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var g1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(g1||{}),mc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mc||{});function Kb(t){let e=I.useContext(yd);return e||ae(!1),e}function Gb(t){let e=I.useContext(h1);return e||ae(!1),e}function Qb(t){let e=I.useContext(po);return e||ae(!1),e}function y1(t){let e=Qb(),n=e.matches[e.matches.length-1];return n.route.id||ae(!1),n.route.id}function Yb(){var t;let e=I.useContext(f1),n=Gb(mc.UseRouteError),r=y1(mc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Xb(){let{router:t}=Kb(g1.UseNavigateStable),e=y1(mc.UseNavigateStable),n=I.useRef(!1);return m1(()=>{n.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ba({fromRouteId:e},s)))},[t,e])}const P_={};function Jb(t,e,n){!e&&!P_[t]&&(P_[t]=!0)}function Zb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qe.Pop,navigator:s,static:o=!1,future:a}=t;wd()&&ae(!1);let l=e.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:s,static:o,future:Ba({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=_r(r));let{pathname:c="/",search:d="",hash:h="",state:g=null,key:w="default"}=r,_=I.useMemo(()=>{let E=vl(c,l);return E==null?null:{location:{pathname:E,search:d,hash:h,state:g,key:w},navigationType:i}},[l,c,d,h,g,w,i]);return _==null?null:I.createElement(vd.Provider,{value:u},I.createElement(_d.Provider,{children:n,value:_}))}new Promise(()=>{});function eO(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:I.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:I.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:I.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}const tO="6";try{window.__reactRouterVersion=tO}catch{}function nO(t,e){return Ab({basename:e==null?void 0:e.basename,future:gc({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:YD({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||rO(),routes:t,mapRouteProperties:eO,window:e==null?void 0:e.window}).initialize()}function rO(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=gc({},e,{errors:iO(e.errors)})),e}function iO(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new ug(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const sO=I.createContext({isTransitioning:!1}),oO=I.createContext(new Map),aO="startTransition",k_=vR[aO],lO="flushSync",N_=PC[lO];function uO(t){k_?k_(t):t()}function Bo(t){N_?N_(t):t()}let cO=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function dO(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=I.useState(n.state),[o,a]=I.useState(),[l,u]=I.useState({isTransitioning:!1}),[c,d]=I.useState(),[h,g]=I.useState(),[w,_]=I.useState(),E=I.useRef(new Map),{v7_startTransition:f}=r||{},p=I.useCallback(R=>{f?uO(R):R()},[f]),v=I.useCallback((R,b)=>{let{deletedFetchers:$,unstable_flushSync:W,unstable_viewTransitionOpts:ce}=b;$.forEach(ge=>E.current.delete(ge)),R.fetchers.forEach((ge,rt)=>{ge.data!==void 0&&E.current.set(rt,ge.data)});let We=n.window==null||typeof n.window.document.startViewTransition!="function";if(!ce||We){W?Bo(()=>s(R)):p(()=>s(R));return}if(W){Bo(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let ge=n.window.document.startViewTransition(()=>{Bo(()=>s(R))});ge.finished.finally(()=>{Bo(()=>{d(void 0),g(void 0),a(void 0),u({isTransitioning:!1})})}),Bo(()=>g(ge));return}h?(c&&c.resolve(),h.skipTransition(),_({state:R,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(a(R),u({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[n.window,h,c,E,p]);I.useLayoutEffect(()=>n.subscribe(v),[n,v]),I.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new cO)},[l]),I.useEffect(()=>{if(c&&o&&n.window){let R=o,b=c.promise,$=n.window.document.startViewTransition(async()=>{p(()=>s(R)),await b});$.finished.finally(()=>{d(void 0),g(void 0),a(void 0),u({isTransitioning:!1})}),g($)}},[p,o,c,n.window]),I.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,h,i.location,o]),I.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),u({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),_(void 0))},[l.isTransitioning,w]),I.useEffect(()=>{},[]);let A=I.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:R=>n.navigate(R),push:(R,b,$)=>n.navigate(R,{state:b,preventScrollReset:$==null?void 0:$.preventScrollReset}),replace:(R,b,$)=>n.navigate(R,{replace:!0,state:b,preventScrollReset:$==null?void 0:$.preventScrollReset})}),[n]),D=n.basename||"/",y=I.useMemo(()=>({router:n,navigator:A,static:!1,basename:D}),[n,A,D]);return I.createElement(I.Fragment,null,I.createElement(yd.Provider,{value:y},I.createElement(h1.Provider,{value:i},I.createElement(oO.Provider,{value:E.current},I.createElement(sO.Provider,{value:l},I.createElement(Zb,{basename:D,location:i.location,navigationType:i.historyAction,navigator:A,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?I.createElement(hO,{routes:n.routes,future:n.future,state:i}):e))))),null)}function hO(t){let{routes:e,future:n,state:r}=t;return Ub(e,void 0,r,n)}var D_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(D_||(D_={}));var b_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(b_||(b_={}));var O_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(h=64)),r.push(n[c],n[d],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(v1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new pO;const h=s<<2|a>>4;if(r.push(h),u!==64){const g=a<<4&240|u>>2;if(r.push(g),d!==64){const w=u<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class pO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mO=function(t){const e=v1(t);return _1.encodeByteArray(e,!0)},yc=function(t){return mO(t).replace(/\./g,"")},w1=function(t){try{return _1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=()=>gO().__FIREBASE_DEFAULTS__,vO=()=>{if(typeof process>"u"||typeof O_>"u")return;const t=O_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_O=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&w1(t[1]);return e&&JSON.parse(e)},Ed=()=>{try{return yO()||vO()||_O()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},E1=t=>{var e,n;return(n=(e=Ed())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wO=t=>{const e=E1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},T1=()=>{var t;return(t=Ed())===null||t===void 0?void 0:t.config},I1=t=>{var e;return(e=Ed())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yc(JSON.stringify(n)),yc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function SO(){var t;const e=(t=Ed())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AO(){const t=Ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CO(){return!SO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S1(){try{return typeof indexedDB=="object"}catch{return!1}}function PO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="FirebaseError";class wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kO,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_l.prototype.create)}}class _l{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?NO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new wr(i,a,r)}}function NO(t,e){return t.replace(DO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DO=/\{\$([^}]+)}/g;function bO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(L_(s)&&L_(o)){if(!vc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function L_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Xo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OO(t,e){const n=new LO(t,e);return n.subscribe.bind(n)}class LO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yh),i.error===void 0&&(i.error=Yh),i.complete===void 0&&(i.complete=Yh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class Ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FO(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vi){return this.instances.has(e)}getOptions(e=vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vi){return this.component?this.component.multipleInstances?e:vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jO(t){return t===vi?void 0:t}function FO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const UO={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},BO=he.INFO,zO={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},WO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=zO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dg{constructor(e){this.name=e,this._logLevel=BO,this._logHandler=WO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const HO=(t,e)=>e.some(n=>t instanceof n);let M_,V_;function qO(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KO(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x1=new WeakMap,Ep=new WeakMap,R1=new WeakMap,Xh=new WeakMap,hg=new WeakMap;function GO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&x1.set(n,t)}).catch(()=>{}),hg.set(e,t),e}function QO(t){if(Ep.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ep.set(t,e)}let Tp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ep.get(t);if(e==="objectStoreNames")return t.objectStoreNames||R1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YO(t){Tp=t(Tp)}function XO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jh(this),e,...n);return R1.set(r,e.sort?e.sort():[e]),Hr(r)}:KO().includes(t)?function(...e){return t.apply(Jh(this),e),Hr(x1.get(this))}:function(...e){return Hr(t.apply(Jh(this),e))}}function JO(t){return typeof t=="function"?XO(t):(t instanceof IDBTransaction&&QO(t),HO(t,qO())?new Proxy(t,Tp):t)}function Hr(t){if(t instanceof IDBRequest)return GO(t);if(Xh.has(t))return Xh.get(t);const e=JO(t);return e!==t&&(Xh.set(t,e),hg.set(e,t)),e}const Jh=t=>hg.get(t);function ZO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Hr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Hr(o.result),l.oldVersion,l.newVersion,Hr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const e2=["get","getKey","getAll","getAllKeys","count"],t2=["put","add","delete","clear"],Zh=new Map;function j_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zh.get(e))return Zh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=t2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||e2.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Zh.set(e,s),s}YO(t=>({...t,get:(e,n,r)=>j_(e,n)||t.get(e,n,r),has:(e,n)=>!!j_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ip="@firebase/app",F_="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new dg("@firebase/app"),i2="@firebase/app-compat",s2="@firebase/analytics-compat",o2="@firebase/analytics",a2="@firebase/app-check-compat",l2="@firebase/app-check",u2="@firebase/auth",c2="@firebase/auth-compat",d2="@firebase/database",h2="@firebase/database-compat",f2="@firebase/functions",p2="@firebase/functions-compat",m2="@firebase/installations",g2="@firebase/installations-compat",y2="@firebase/messaging",v2="@firebase/messaging-compat",_2="@firebase/performance",w2="@firebase/performance-compat",E2="@firebase/remote-config",T2="@firebase/remote-config-compat",I2="@firebase/storage",S2="@firebase/storage-compat",x2="@firebase/firestore",R2="@firebase/firestore-compat",A2="firebase",C2="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="[DEFAULT]",P2={[Ip]:"fire-core",[i2]:"fire-core-compat",[o2]:"fire-analytics",[s2]:"fire-analytics-compat",[l2]:"fire-app-check",[a2]:"fire-app-check-compat",[u2]:"fire-auth",[c2]:"fire-auth-compat",[d2]:"fire-rtdb",[h2]:"fire-rtdb-compat",[f2]:"fire-fn",[p2]:"fire-fn-compat",[m2]:"fire-iid",[g2]:"fire-iid-compat",[y2]:"fire-fcm",[v2]:"fire-fcm-compat",[_2]:"fire-perf",[w2]:"fire-perf-compat",[E2]:"fire-rc",[T2]:"fire-rc-compat",[I2]:"fire-gcs",[S2]:"fire-gcs-compat",[x2]:"fire-fst",[R2]:"fire-fst-compat","fire-js":"fire-js",[A2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,xp=new Map;function k2(t,e){try{t.container.addComponent(e)}catch(n){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Js(t){const e=t.name;if(xp.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;xp.set(e,t);for(const n of _c.values())k2(n,t);return!0}function fg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qr=new _l("app","Firebase",N2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=C2;function A1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=T1()),!n)throw qr.create("no-options");const s=_c.get(i);if(s){if(vc(n,s.options)&&vc(r,s.config))return s;throw qr.create("duplicate-app",{appName:i})}const o=new $O(i);for(const l of xp.values())o.addComponent(l);const a=new D2(n,r,o);return _c.set(i,a),a}function C1(t=Sp){const e=_c.get(t);if(!e&&t===Sp&&T1())return A1();if(!e)throw qr.create("no-app",{appName:t});return e}function Kr(t,e,n){var r;let i=(r=P2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(a.join(" "));return}Js(new Ui(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="firebase-heartbeat-database",O2=1,za="firebase-heartbeat-store";let ef=null;function P1(){return ef||(ef=ZO(b2,O2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(za)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),ef}async function L2(t){try{const n=(await P1()).transaction(za),r=await n.objectStore(za).get(k1(t));return await n.done,r}catch(e){if(e instanceof wr)Bi.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(n.message)}}}async function $_(t,e){try{const r=(await P1()).transaction(za,"readwrite");await r.objectStore(za).put(e,k1(t)),await r.done}catch(n){if(n instanceof wr)Bi.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bi.warn(r.message)}}}function k1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=1024,V2=30*24*60*60*1e3;class j2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=U_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=V2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U_(),{heartbeatsToSend:r,unsentEntries:i}=F2(this._heartbeatsCache.heartbeats),s=yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function U_(){return new Date().toISOString().substring(0,10)}function F2(t,e=M2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),B_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),B_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S1()?PO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function B_(t){return yc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){Js(new Ui("platform-logger",e=>new n2(e),"PRIVATE")),Js(new Ui("heartbeat",e=>new j2(e),"PRIVATE")),Kr(Ip,F_,t),Kr(Ip,F_,"esm2017"),Kr("fire-js","")}U2("");var B2="firebase",z2="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(B2,z2,"app");function pg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function N1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W2=N1,D1=new _l("auth","Firebase",N1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new dg("@firebase/auth");function H2(t,...e){wc.logLevel<=he.WARN&&wc.warn(`Auth (${mo}): ${t}`,...e)}function Mu(t,...e){wc.logLevel<=he.ERROR&&wc.error(`Auth (${mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,...e){throw mg(t,...e)}function Wn(t,...e){return mg(t,...e)}function q2(t,e,n){const r=Object.assign(Object.assign({},W2()),{[e]:n});return new _l("auth","Firebase",r).create(e,{appName:t.name})}function mg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return D1.create(t,...e)}function J(t,e,...n){if(!t)throw mg(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mu(e),new Error(e)}function pr(t,e){t||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function K2(){return z_()==="http:"||z_()==="https:"}function z_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K2()||xO()||"connection"in navigator)?navigator.onLine:!0}function Q2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=IO()||RO()}get(){return G2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new El(3e4,6e4);function Zi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function oi(t,e,n,r,i={}){return O1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=wl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),b1.fetch()(L1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function O1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Y2),e);try{const i=new Z2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fu(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw q2(t,c,u);kn(t,c)}}catch(i){if(i instanceof wr)throw i;kn(t,"network-request-failed",{message:String(i)})}}async function Td(t,e,n,r,i={}){const s=await oi(t,e,n,r,i);return"mfaPendingCredential"in s&&kn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function L1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?gg(t.config,i):`${t.config.apiScheme}://${i}`}function J2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),X2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wn(t,e,r);return i.customData._tokenResponse=n,i}function W_(t){return t!==void 0&&t.enterprise!==void 0}class eL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return J2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function tL(t,e){return oi(t,"GET","/v2/recaptchaConfig",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t,e){return oi(t,"POST","/v1/accounts:delete",e)}async function rL(t,e){return oi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iL(t,e=!1){const n=ft(t),r=await n.getIdToken(e),i=yg(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pa(tf(i.auth_time)),issuedAtTime:pa(tf(i.iat)),expirationTime:pa(tf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function tf(t){return Number(t)*1e3}function yg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mu("JWT malformed, contained fewer than 3 sections"),null;try{const i=w1(n);return i?JSON.parse(i):(Mu("Failed to decode base64 JWT payload"),null)}catch(i){return Mu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sL(t){const e=yg(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wr&&oL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pa(this.lastLoginAt),this.creationTime=pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Wa(t,rL(n,{idToken:r}));J(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?cL(s.providerUserInfo):[],a=uL(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new M1(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function lL(t){const e=ft(t);await Ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cL(t){return t.map(e=>{var{providerId:n}=e,r=pg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(t,e){const n=await O1(t,{},async()=>{const r=wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=L1(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",b1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hL(t,e){return oi(t,"POST","/v2/accounts:revokeToken",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await dL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ha;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new M1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wa(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iL(this,e)}reload(){return lL(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ec(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Wa(this,nL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,f=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:A,isAnonymous:D,providerData:y,stsTokenManager:R}=n;J(v&&R,e,"internal-error");const b=Ha.fromJSON(this.name,R);J(typeof v=="string",e,"internal-error"),Ir(d,e.name),Ir(h,e.name),J(typeof A=="boolean",e,"internal-error"),J(typeof D=="boolean",e,"internal-error"),Ir(g,e.name),Ir(w,e.name),Ir(_,e.name),Ir(E,e.name),Ir(f,e.name),Ir(p,e.name);const $=new bi({uid:v,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:D,photoURL:w,phoneNumber:g,tenantId:_,stsTokenManager:b,createdAt:f,lastLoginAt:p});return y&&Array.isArray(y)&&($.providerData=y.map(W=>Object.assign({},W))),E&&($._redirectEventId=E),$}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ha;i.updateFromServerResponse(n);const s=new bi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ec(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new Map;function ar(t){pr(t instanceof Function,"Expected a class definition");let e=H_.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}V1.type="NONE";const q_=V1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t,e,n){return`firebase:${t}:${e}:${n}`}class js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new js(ar(q_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ar(q_);const o=Vu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=bi._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new js(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new js(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(j1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B1(e))return"Blackberry";if(z1(e))return"Webos";if(vg(e))return"Safari";if((e.includes("chrome/")||F1(e))&&!e.includes("edge/"))return"Chrome";if(U1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function j1(t=Ze()){return/firefox\//i.test(t)}function vg(t=Ze()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F1(t=Ze()){return/crios\//i.test(t)}function $1(t=Ze()){return/iemobile/i.test(t)}function U1(t=Ze()){return/android/i.test(t)}function B1(t=Ze()){return/blackberry/i.test(t)}function z1(t=Ze()){return/webos/i.test(t)}function Id(t=Ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fL(t=Ze()){var e;return Id(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pL(){return AO()&&document.documentMode===10}function W1(t=Ze()){return Id(t)||U1(t)||z1(t)||B1(t)||/windows phone/i.test(t)||$1(t)}function mL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t,e=[]){let n;switch(t){case"Browser":n=K_(Ze());break;case"Worker":n=`${K_(Ze())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(t,e={}){return oi(t,"GET","/v2/passwordPolicy",Zi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=6;class _L{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:vL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G_(this),this.idTokenSubscription=new G_(this),this.beforeStateQueue=new gL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await js.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ec(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ft(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yL(this),n=new _L(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _l("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await js.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&H2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function go(t){return ft(t)}class G_{constructor(e){this.auth=e,this.observer=null,this.addObserver=OO(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EL(t){Sd=t}function q1(t){return Sd.loadJS(t)}function TL(){return Sd.recaptchaEnterpriseScript}function IL(){return Sd.gapiScript}function SL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const xL="recaptcha-enterprise",RL="NO_RECAPTCHA";class AL{constructor(e){this.type=xL,this.auth=go(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{tL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new eL(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;W_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(RL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&W_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=TL();l.length!==0&&(l+=a),q1(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Q_(t,e,n,r=!1){const i=new AL(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Y_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Q_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Q_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t,e){const n=fg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(vc(s,e??{}))return i;kn(i,"already-initialized")}return n.initialize({options:e})}function PL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kL(t,e,n){const r=go(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=K1(e),{host:o,port:a}=NL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||DL()}function K1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NL(t){const e=K1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:X_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:X_(o)}}}function X_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function DL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function bL(t,e){return oi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t,e){return Td(t,"POST","/v1/accounts:signInWithPassword",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(t,e){return Td(t,"POST","/v1/accounts:signInWithEmailLink",Zi(t,e))}async function ML(t,e){return Td(t,"POST","/v1/accounts:signInWithEmailLink",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends _g{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new qa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y_(e,n,"signInWithPassword",OL);case"emailLink":return LL(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y_(e,r,"signUpPassword",bL);case"emailLink":return ML(e,{idToken:n,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(t,e){return Td(t,"POST","/v1/accounts:signInWithIdp",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="http://localhost";class zi extends _g{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=pg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new zi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fs(e,n)}buildRequest(){const e={requestUri:VL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FL(t){const e=Yo(Xo(t)).link,n=e?Yo(Xo(e)).deep_link_id:null,r=Yo(Xo(t)).deep_link_id;return(r?Yo(Xo(r)).link:null)||r||n||e||t}class wg{constructor(e){var n,r,i,s,o,a;const l=Yo(Xo(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=jL((i=l.mode)!==null&&i!==void 0?i:null);J(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=FL(e);try{return new wg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(e,n){return qa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wg.parseLink(n);return J(r,"argument-error"),qa._fromEmailAndCode(e,r.code,r.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends G1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Tl{constructor(){super("facebook.com")}static credential(e){return zi._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zi._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Tl{constructor(){super("github.com")}static credential(e){return zi._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Tl{constructor(){super("twitter.com")}static credential(e,n){return zi._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await bi._fromIdTokenResponse(e,r,i),o=J_(r);return new Zs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=J_(r);return new Zs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function J_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends wr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tc(e,n,r,i)}}function Q1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Tc._fromErrorAndOperation(t,s,e,r):s})}async function $L(t,e,n=!1){const r=await Wa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Wa(t,Q1(r,i,e,t),n);J(s.idToken,r,"internal-error");const o=yg(s.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),Zs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(t,e,n=!1){const r="signIn",i=await Q1(t,r,e),s=await Zs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function BL(t,e){return Y1(go(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t){const e=go(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function WL(t,e,n){return BL(ft(t),yo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zL(t),r})}function HL(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function qL(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function KL(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function X1(t){return ft(t).signOut()}const Ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(){const t=Ze();return vg(t)||Id(t)}const QL=1e3,YL=10;class Z1 extends J1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=GL()&&mL(),this.fallbackToPolling=W1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);pL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,YL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z1.type="LOCAL";const XL=Z1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends J1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eI.type="SESSION";const tI=eI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await JL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Eg("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function eM(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function tM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rM(){return nI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="firebaseLocalStorageDb",iM=1,Sc="firebaseLocalStorage",iI="fbase_key";class Il{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rd(t,e){return t.transaction([Sc],e?"readwrite":"readonly").objectStore(Sc)}function sM(){const t=indexedDB.deleteDatabase(rI);return new Il(t).toPromise()}function Ap(){const t=indexedDB.open(rI,iM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sc,{keyPath:iI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sc)?e(r):(r.close(),await sM(),e(await Ap()))})})}async function Z_(t,e,n){const r=Rd(t,!0).put({[iI]:e,value:n});return new Il(r).toPromise()}async function oM(t,e){const n=Rd(t,!1).get(e),r=await new Il(n).toPromise();return r===void 0?null:r.value}function e0(t,e){const n=Rd(t,!0).delete(e);return new Il(n).toPromise()}const aM=800,lM=3;class sI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ap(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(rM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tM(),!this.activeServiceWorker)return;this.sender=new ZL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ap();return await Z_(e,Ic,"1"),await e0(e,Ic),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Z_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>e0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Rd(i,!1).getAll();return new Il(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sI.type="LOCAL";const uM=sI;new El(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t,e){return e?ar(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends _g{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dM(t){return Y1(t.auth,new Tg(t),t.bypassAuthState)}function hM(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),UL(n,new Tg(t),t.bypassAuthState)}async function fM(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),$L(n,new Tg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dM;case"linkViaPopup":case"linkViaRedirect":return fM;case"reauthViaPopup":case"reauthViaRedirect":return hM;default:kn(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new El(2e3,1e4);class ks extends oI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pM.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="pendingRedirect",ju=new Map;class gM extends oI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ju.get(this.auth._key());if(!e){try{const r=await yM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ju.set(this.auth._key(),e)}return this.bypassAuthState||ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yM(t,e){const n=wM(e),r=_M(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function vM(t,e){ju.set(t._key(),e)}function _M(t){return ar(t._redirectPersistence)}function wM(t){return Vu(mM,t.config.apiKey,t.name)}async function EM(t,e,n=!1){const r=go(t),i=cM(r,e),o=await new gM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=10*60*1e3;class IM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TM&&this.cachedEventUids.clear(),this.cachedEventUids.has(t0(e))}saveEventToCache(e){this.cachedEventUids.add(t0(e)),this.lastProcessedEventTime=Date.now()}}function t0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e={}){return oi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AM=/^https?/;async function CM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xM(t);for(const n of e)try{if(PM(n))return}catch{}kn(t,"unauthorized-domain")}function PM(t){const e=Rp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!AM.test(n))return!1;if(RM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=new El(3e4,6e4);function n0(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NM(t){return new Promise((e,n)=>{var r,i,s;function o(){n0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n0(),n(Wn(t,"network-request-failed"))},timeout:kM.get()})}if(!((i=(r=Hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Hn().gapi)===null||s===void 0)&&s.load)o();else{const a=SL("iframefcb");return Hn()[a]=()=>{gapi.load?o():n(Wn(t,"network-request-failed"))},q1(`${IL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fu=null,e})}let Fu=null;function DM(t){return Fu=Fu||NM(t),Fu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new El(5e3,15e3),OM="__/auth/iframe",LM="emulator/auth/iframe",MM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jM(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gg(e,LM):`https://${t.config.authDomain}/${OM}`,r={apiKey:e.apiKey,appName:t.name,v:mo},i=VM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wl(r).slice(1)}`}async function FM(t){const e=await DM(t),n=Hn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:jM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Wn(t,"network-request-failed"),a=Hn().setTimeout(()=>{s(o)},bM.get());function l(){Hn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UM=500,BM=600,zM="_blank",WM="http://localhost";class r0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HM(t,e,n,r=UM,i=BM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$M),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ze().toLowerCase();n&&(a=F1(u)?zM:n),j1(u)&&(e=e||WM,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[g,w])=>`${h}${g}=${w},`,"");if(fL(u)&&a!=="_self")return qM(e||"",a),new r0(null);const d=window.open(e||"",a,c);J(d,t,"popup-blocked");try{d.focus()}catch{}return new r0(d)}function qM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="__/auth/handler",GM="emulator/auth/handler",QM=encodeURIComponent("fac");async function i0(t,e,n,r,i,s){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mo,eventId:i};if(e instanceof G1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Tl){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${QM}=${encodeURIComponent(l)}`:"";return`${YM(t)}?${wl(a).slice(1)}${u}`}function YM({config:t}){return t.emulator?gg(t,GM):`https://${t.authDomain}/${KM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="webStorageSupport";class XM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tI,this._completeRedirectFn=EM,this._overrideRedirectResult=vM}async _openPopup(e,n,r,i){var s;pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await i0(e,n,r,Rp(),i);return HM(e,o,Eg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await i0(e,n,r,Rp(),i);return eM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FM(e),r=new IM(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nf,{type:nf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[nf];o!==void 0&&n(!!o),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return W1()||vg()||Id()}}const JM=XM;var s0="@firebase/auth",o0="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tV(t){Js(new Ui("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H1(t)},u=new wL(r,i,s,l);return PL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Js(new Ui("auth-internal",e=>{const n=go(e.getProvider("auth").getImmediate());return(r=>new ZM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(s0,o0,eV(t)),Kr(s0,o0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=5*60,rV=I1("authIdTokenMaxAge")||nV;let a0=null;const iV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rV)return;const i=n==null?void 0:n.token;a0!==i&&(a0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sV(t=C1()){const e=fg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CL(t,{popupRedirectResolver:JM,persistence:[uM,XL,tI]}),r=I1("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=iV(r);qL(n,s,()=>s(n.currentUser)),HL(n,o=>s(o))}const i=E1("auth");return i&&kL(n,`http://${i}`),n}function oV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}EL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Wn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",oV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tV("Browser");var aV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,Ig=Ig||{},ee=aV||self;function Ad(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Sl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function lV(t){return Object.prototype.hasOwnProperty.call(t,rf)&&t[rf]||(t[rf]=++uV)}var rf="closure_uid_"+(1e9*Math.random()>>>0),uV=0;function cV(t,e,n){return t.call.apply(t.bind,arguments)}function dV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function bt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?bt=cV:bt=dV,bt.apply(null,arguments)}function pu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function gt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ai(){this.s=this.s,this.o=this.o}var hV=0;ai.prototype.s=!1;ai.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),hV!=0)&&lV(this)};ai.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Sg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function l0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ad(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ot.prototype.h=function(){this.defaultPrevented=!0};var fV=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ee.addEventListener("test",n,e),ee.removeEventListener("test",n,e)}catch{}return t}();function Ka(t){return/^[\s\xa0]*$/.test(t)}function Cd(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function Fn(t){return Cd().indexOf(t)!=-1}function xg(t){return xg[" "](t),t}xg[" "]=function(){};function pV(t,e){var n=oj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var mV=Fn("Opera"),eo=Fn("Trident")||Fn("MSIE"),uI=Fn("Edge"),Cp=uI||eo,cI=Fn("Gecko")&&!(Cd().toLowerCase().indexOf("webkit")!=-1&&!Fn("Edge"))&&!(Fn("Trident")||Fn("MSIE"))&&!Fn("Edge"),gV=Cd().toLowerCase().indexOf("webkit")!=-1&&!Fn("Edge");function dI(){var t=ee.document;return t?t.documentMode:void 0}var Pp;e:{var sf="",of=function(){var t=Cd();if(cI)return/rv:([^\);]+)(\)|;)/.exec(t);if(uI)return/Edge\/([\d\.]+)/.exec(t);if(eo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(gV)return/WebKit\/(\S+)/.exec(t);if(mV)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(of&&(sf=of?of[1]:""),eo){var af=dI();if(af!=null&&af>parseFloat(sf)){Pp=String(af);break e}}Pp=sf}var kp;if(ee.document&&eo){var u0=dI();kp=u0||parseInt(Pp,10)||void 0}else kp=void 0;var yV=kp;function Ga(t,e){if(Ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cI){e:{try{xg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:vV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ga.$.h.call(this)}}gt(Ga,Ot);var vV={2:"touch",3:"pen",4:"mouse"};Ga.prototype.h=function(){Ga.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xl="closure_listenable_"+(1e6*Math.random()|0),_V=0;function wV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++_V,this.fa=this.ia=!1}function Pd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Rg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function EV(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function hI(t){const e={};for(const n in t)e[n]=t[n];return e}const c0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<c0.length;s++)n=c0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kd(t){this.src=t,this.g={},this.h=0}kd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Dp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new wV(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Np(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=lI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Pd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Dp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Ag="closure_lm_"+(1e6*Math.random()|0),lf={};function pI(t,e,n,r,i){if(r&&r.once)return gI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)pI(t,e[s],n,r,i);return null}return n=kg(n),t&&t[xl]?t.O(e,n,Sl(r)?!!r.capture:!!r,i):mI(t,e,n,!1,r,i)}function mI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Sl(i)?!!i.capture:!!i,a=Pg(t);if(a||(t[Ag]=a=new kd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=TV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fV||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function TV(){function t(n){return e.call(t.src,t.listener,n)}const e=IV;return t}function gI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)gI(t,e[s],n,r,i);return null}return n=kg(n),t&&t[xl]?t.P(e,n,Sl(r)?!!r.capture:!!r,i):mI(t,e,n,!0,r,i)}function yI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)yI(t,e[s],n,r,i);else r=Sl(r)?!!r.capture:!!r,n=kg(n),t&&t[xl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Dp(s,n,r,i),-1<n&&(Pd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Pg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Dp(e,n,r,i)),(n=-1<t?e[t]:null)&&Cg(n))}function Cg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[xl])Np(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Pg(e))?(Np(n,t),n.h==0&&(n.src=null,e[Ag]=null)):Pd(t)}}}function vI(t){return t in lf?lf[t]:lf[t]="on"+t}function IV(t,e){if(t.fa)t=!0;else{e=new Ga(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Cg(t),t=n.call(r,e)}return t}function Pg(t){return t=t[Ag],t instanceof kd?t:null}var uf="__closure_events_fn_"+(1e9*Math.random()>>>0);function kg(t){return typeof t=="function"?t:(t[uf]||(t[uf]=function(e){return t.handleEvent(e)}),t[uf])}function pt(){ai.call(this),this.i=new kd(this),this.S=this,this.J=null}gt(pt,ai);pt.prototype[xl]=!0;pt.prototype.removeEventListener=function(t,e,n,r){yI(this,t,e,n,r)};function St(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ot(e,t);else if(e instanceof Ot)e.target=e.target||t;else{var i=e;e=new Ot(r,t),fI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=mu(o,r,!0,e)&&i}if(o=e.g=t,i=mu(o,r,!0,e)&&i,i=mu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=mu(o,r,!1,e)&&i}pt.prototype.N=function(){if(pt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pd(n[r]);delete t.g[e],t.h--}}this.J=null};pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};pt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function mu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Np(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ng=ee.JSON.stringify;class SV{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function xV(){var t=Dg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class RV{constructor(){this.h=this.g=null}add(e,n){const r=_I.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var _I=new SV(()=>new AV,t=>t.reset());class AV{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function CV(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function PV(t){ee.setTimeout(()=>{throw t},0)}let Qa,Ya=!1,Dg=new RV,wI=()=>{const t=ee.Promise.resolve(void 0);Qa=()=>{t.then(kV)}};var kV=()=>{for(var t;t=xV();){try{t.h.call(t.g)}catch(n){PV(n)}var e=_I;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ya=!1};function Nd(t,e){pt.call(this),this.h=t||1,this.g=e||ee,this.j=bt(this.qb,this),this.l=Date.now()}gt(Nd,pt);M=Nd.prototype;M.ga=!1;M.T=null;M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),St(this,"tick"),this.ga&&(bg(this),this.start()))}};M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function bg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}M.N=function(){Nd.$.N.call(this),bg(this),delete this.g};function Og(t,e,n){if(typeof t=="function")n&&(t=bt(t,n));else if(t&&typeof t.handleEvent=="function")t=bt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function EI(t){t.g=Og(()=>{t.g=null,t.i&&(t.i=!1,EI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class NV extends ai{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:EI(this)}N(){super.N(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xa(t){ai.call(this),this.h=t,this.g={}}gt(Xa,ai);var d0=[];function TI(t,e,n,r){Array.isArray(n)||(n&&(d0[0]=n.toString()),n=d0);for(var i=0;i<n.length;i++){var s=pI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function II(t){Rg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Cg(e)},t),t.g={}}Xa.prototype.N=function(){Xa.$.N.call(this),II(this)};Xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Dd(){this.g=!0}Dd.prototype.Ea=function(){this.g=!1};function DV(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function bV(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ns(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+LV(t,n)+(r?" "+r:"")})}function OV(t,e){t.info(function(){return"TIMEOUT: "+e})}Dd.prototype.info=function(){};function LV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Ng(n)}catch{return e}}var es={},h0=null;function bd(){return h0=h0||new pt}es.Ta="serverreachability";function SI(t){Ot.call(this,es.Ta,t)}gt(SI,Ot);function Ja(t){const e=bd();St(e,new SI(e))}es.STAT_EVENT="statevent";function xI(t,e){Ot.call(this,es.STAT_EVENT,t),this.stat=e}gt(xI,Ot);function jt(t){const e=bd();St(e,new xI(e,t))}es.Ua="timingevent";function RI(t,e){Ot.call(this,es.Ua,t),this.size=e}gt(RI,Ot);function Rl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}var Od={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},AI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Lg(){}Lg.prototype.h=null;function f0(t){return t.h||(t.h=t.i())}function CI(){}var Al={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mg(){Ot.call(this,"d")}gt(Mg,Ot);function Vg(){Ot.call(this,"c")}gt(Vg,Ot);var bp;function Ld(){}gt(Ld,Lg);Ld.prototype.g=function(){return new XMLHttpRequest};Ld.prototype.i=function(){return{}};bp=new Ld;function Cl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Xa(this),this.P=MV,t=Cp?125:void 0,this.V=new Nd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new PI}function PI(){this.i=null,this.g="",this.h=!1}var MV=45e3,kI={},Op={};M=Cl.prototype;M.setTimeout=function(t){this.P=t};function Lp(t,e,n){t.L=1,t.A=Vd(mr(e)),t.u=n,t.S=!0,NI(t,null)}function NI(t,e){t.G=Date.now(),Pl(t),t.B=mr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),FI(n.i,"t",r),t.o=0,n=t.l.J,t.h=new PI,t.g=oS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new NV(bt(t.Pa,t,t.g),t.O)),TI(t.U,t.g,"readystatechange",t.nb),e=t.I?hI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ja(),DV(t.j,t.v,t.B,t.m,t.W,t.u)}M.nb=function(t){t=t.target;const e=this.M;e&&$n(t)==3?e.l():this.Pa(t)};M.Pa=function(t){try{if(t==this.g)e:{const c=$n(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Cp||this.g&&(this.h.h||this.g.ja()||y0(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Ja(3):Ja(2)),Md(this);var n=this.g.da();this.ca=n;t:if(DI(this)){var r=y0(this.g);t="";var i=r.length,s=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),ma(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,bV(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ka(a)){var u=a;break t}}u=null}if(n=u)Ns(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mp(this,n);else{this.i=!1,this.s=3,jt(12),Ri(this),ma(this);break e}}this.S?(bI(this,c,o),Cp&&this.i&&c==3&&(TI(this.U,this.V,"tick",this.mb),this.V.start())):(Ns(this.j,this.m,o,null),Mp(this,o)),c==4&&Ri(this),this.i&&!this.J&&(c==4?nS(this.l,this):(this.i=!1,Pl(this)))}else rj(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),Ri(this),ma(this)}}}catch{}finally{}};function DI(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function bI(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=VV(t,n),i==Op){e==4&&(t.s=4,jt(14),r=!1),Ns(t.j,t.m,null,"[Incomplete Response]");break}else if(i==kI){t.s=4,jt(15),Ns(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ns(t.j,t.m,i,null),Mp(t,i);DI(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,jt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zg(e),e.M=!0,jt(11))):(Ns(t.j,t.m,n,"[Invalid Chunked Response]"),Ri(t),ma(t))}M.mb=function(){if(this.g){var t=$n(this.g),e=this.g.ja();this.o<e.length&&(Md(this),bI(this,t,e),this.i&&t!=4&&Pl(this))}};function VV(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Op:(n=Number(e.substring(n,r)),isNaN(n)?kI:(r+=1,r+n>e.length?Op:(e=e.slice(r,r+n),t.o=r+n,e)))}M.cancel=function(){this.J=!0,Ri(this)};function Pl(t){t.Y=Date.now()+t.P,OI(t,t.P)}function OI(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Rl(bt(t.lb,t),e)}function Md(t){t.C&&(ee.clearTimeout(t.C),t.C=null)}M.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(OV(this.j,this.B),this.L!=2&&(Ja(),jt(17)),Ri(this),this.s=2,ma(this)):OI(this,this.Y-t)};function ma(t){t.l.H==0||t.J||nS(t.l,t)}function Ri(t){Md(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,bg(t.V),II(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Mp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Vp(n.i,t))){if(!t.K&&Vp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ac(n),Ud(n);else break e;Bg(n),jt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Rl(bt(n.ib,n),6e3));if(1>=BI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ai(n,11)}else if((t.K||n.g==t)&&Ac(n),!Ka(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const w=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.i;s.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(jg(s,s.h),s.h=null))}if(r.F){const _=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Ne(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=sS(r,r.J?r.pa:null,r.Y),o.K){zI(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Md(a),Pl(a)),r.g=o}else eS(r);0<n.j.length&&Bd(n)}else u[0]!="stop"&&u[0]!="close"||Ai(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ai(n,7):Ug(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ja(4)}catch{}}function jV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ad(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function FV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ad(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function LI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ad(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=FV(t),r=jV(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var MI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $V(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Oi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Oi){this.h=t.h,xc(this,t.j),this.s=t.s,this.g=t.g,Rc(this,t.m),this.l=t.l;var e=t.i,n=new Za;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),p0(this,n),this.o=t.o}else t&&(e=String(t).match(MI))?(this.h=!1,xc(this,e[1]||"",!0),this.s=Jo(e[2]||""),this.g=Jo(e[3]||"",!0),Rc(this,e[4]),this.l=Jo(e[5]||"",!0),p0(this,e[6]||"",!0),this.o=Jo(e[7]||"")):(this.h=!1,this.i=new Za(null,this.h))}Oi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Zo(e,m0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Zo(e,m0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Zo(n,n.charAt(0)=="/"?zV:BV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Zo(n,HV)),t.join("")};function mr(t){return new Oi(t)}function xc(t,e,n){t.j=n?Jo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Rc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function p0(t,e,n){e instanceof Za?(t.i=e,qV(t.i,t.h)):(n||(e=Zo(e,WV)),t.i=new Za(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function Vd(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Jo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,UV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function UV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var m0=/[#\/\?@]/g,BV=/[#\?:]/g,zV=/[#\?]/g,WV=/[#\?@]/g,HV=/#/g;function Za(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function li(t){t.g||(t.g=new Map,t.h=0,t.i&&$V(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=Za.prototype;M.add=function(t,e){li(this),this.i=null,t=vo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function VI(t,e){li(t),e=vo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function jI(t,e){return li(t),e=vo(t,e),t.g.has(e)}M.forEach=function(t,e){li(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};M.ta=function(){li(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};M.Z=function(t){li(this);let e=[];if(typeof t=="string")jI(this,t)&&(e=e.concat(this.g.get(vo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};M.set=function(t,e){return li(this),this.i=null,t=vo(this,t),jI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function FI(t,e,n){VI(t,e),0<n.length&&(t.i=null,t.g.set(vo(t,e),Sg(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function vo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function qV(t,e){e&&!t.j&&(li(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(VI(this,r),FI(this,i,n))},t)),t.j=e}var KV=class{constructor(t,e){this.g=t,this.map=e}};function $I(t){this.l=t||GV,ee.PerformanceNavigationTiming?(t=ee.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ee.g&&ee.g.Ka&&ee.g.Ka()&&ee.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var GV=10;function UI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function BI(t){return t.h?1:t.g?t.g.size:0}function Vp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function jg(t,e){t.g?t.g.add(e):t.h=e}function zI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$I.prototype.cancel=function(){if(this.i=WI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function WI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Sg(t.i)}var QV=class{stringify(t){return ee.JSON.stringify(t,void 0)}parse(t){return ee.JSON.parse(t,void 0)}};function YV(){this.g=new QV}function XV(t,e,n){const r=n||"";try{LI(t,function(i,s){let o=i;Sl(i)&&(o=Ng(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function JV(t,e){const n=new Dd;if(ee.Image){const r=new Image;r.onload=pu(gu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=pu(gu,n,r,"TestLoadImage: error",!1,e),r.onabort=pu(gu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=pu(gu,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function gu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function jd(t){this.l=t.ec||null,this.j=t.ob||!1}gt(jd,Lg);jd.prototype.g=function(){return new Fd(this.l,this.j)};jd.prototype.i=function(t){return function(){return t}}({});function Fd(t,e){pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Fg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt(Fd,pt);var Fg=0;M=Fd.prototype;M.open=function(t,e){if(this.readyState!=Fg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,el(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ee).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kl(this)),this.readyState=Fg};M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,el(this)),this.g&&(this.readyState=3,el(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function HI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?kl(this):el(this),this.readyState==3&&HI(this)}};M.Za=function(t){this.g&&(this.response=this.responseText=t,kl(this))};M.Ya=function(t){this.g&&(this.response=t,kl(this))};M.ka=function(){this.g&&kl(this)};function kl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,el(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function el(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Fd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var ZV=ee.JSON.parse;function ze(t){pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qI,this.L=this.M=!1}gt(ze,pt);var qI="",ej=/^https?$/i,tj=["POST","PUT"];M=ze.prototype;M.Oa=function(t){this.M=t};M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bp.g(),this.C=this.u?f0(this.u):f0(bp),this.g.onreadystatechange=bt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){g0(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ee.FormData&&t instanceof ee.FormData,!(0<=lI(tj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{QI(this),0<this.B&&((this.L=nj(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bt(this.ua,this)):this.A=Og(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){g0(this,s)}};function nj(t){return eo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}M.ua=function(){typeof Ig<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))};function g0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,KI(t),$d(t)}function KI(t){t.F||(t.F=!0,St(t,"complete"),St(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,St(this,"complete"),St(this,"abort"),$d(this))};M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$d(this,!0)),ze.$.N.call(this)};M.La=function(){this.s||(this.G||this.v||this.l?GI(this):this.kb())};M.kb=function(){GI(this)};function GI(t){if(t.h&&typeof Ig<"u"&&(!t.C[1]||$n(t)!=4||t.da()!=2)){if(t.v&&$n(t)==4)Og(t.La,0,t);else if(St(t,"readystatechange"),$n(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(MI)[1]||null;!i&&ee.self&&ee.self.location&&(i=ee.self.location.protocol.slice(0,-1)),r=!ej.test(i?i.toLowerCase():"")}n=r}if(n)St(t,"complete"),St(t,"success");else{t.m=6;try{var s=2<$n(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",KI(t)}}finally{$d(t)}}}}function $d(t,e){if(t.g){QI(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||St(t,"ready");try{n.onreadystatechange=r}catch{}}}function QI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}M.isActive=function(){return!!this.g};function $n(t){return t.g?t.g.readyState:0}M.da=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}};M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),ZV(e)}};function y0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case qI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function rj(t){const e={};t=(t.g&&2<=$n(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ka(t[r]))continue;var n=CV(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}EV(e,function(r){return r.join(", ")})}M.Ia=function(){return this.m};M.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function YI(t){let e="";return Rg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function $g(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=YI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ne(t,e,n))}function zo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function XI(t){this.Ga=0,this.j=[],this.l=new Dd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zo("baseRetryDelayMs",5e3,t),this.hb=zo("retryDelaySeedMs",1e4,t),this.eb=zo("forwardChannelMaxRetries",2,t),this.xa=zo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $I(t&&t.concurrentRequestLimit),this.Ja=new YV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}M=XI.prototype;M.ra=8;M.H=1;function Ug(t){if(JI(t),t.H==3){var e=t.W++,n=mr(t.I);if(Ne(n,"SID",t.K),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),Nl(t,n),e=new Cl(t,t.l,e),e.L=2,e.A=Vd(mr(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon)try{n=ee.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ee.Image&&(new Image().src=e.A,n=!0),n||(e.g=oS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Pl(e)}iS(t)}function Ud(t){t.g&&(zg(t),t.g.cancel(),t.g=null)}function JI(t){Ud(t),t.u&&(ee.clearTimeout(t.u),t.u=null),Ac(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ee.clearTimeout(t.m),t.m=null)}function Bd(t){if(!UI(t.i)&&!t.m){t.m=!0;var e=t.Na;Qa||wI(),Ya||(Qa(),Ya=!0),Dg.add(e,t),t.C=0}}function ij(t,e){return BI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Rl(bt(t.Na,t,e),rS(t,t.C)),t.C++,!0)}M.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Cl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=hI(s),fI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ZI(this,i,e),n=mr(this.I),Ne(n,"RID",t),Ne(n,"CVER",22),this.F&&Ne(n,"X-HTTP-Session-Id",this.F),Nl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(YI(s)))+"&"+e:this.o&&$g(n,this.o,s)),jg(this.i,i),this.bb&&Ne(n,"TYPE","init"),this.P?(Ne(n,"$req",e),Ne(n,"SID","null"),i.aa=!0,Lp(i,n,null)):Lp(i,n,e),this.H=2}}else this.H==3&&(t?v0(this,t):this.j.length==0||UI(this.i)||v0(this))};function v0(t,e){var n;e?n=e.m:n=t.W++;const r=mr(t.I);Ne(r,"SID",t.K),Ne(r,"RID",n),Ne(r,"AID",t.V),Nl(t,r),t.o&&t.s&&$g(r,t.o,t.s),n=new Cl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ZI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),jg(t.i,n),Lp(n,r,e)}function Nl(t,e){t.na&&Rg(t.na,function(n,r){Ne(e,r,n)}),t.h&&LI({},function(n,r){Ne(e,r,n)})}function ZI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?bt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{XV(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function eS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Qa||wI(),Ya||(Qa(),Ya=!0),Dg.add(e,t),t.A=0}}function Bg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Rl(bt(t.Ma,t),rS(t,t.A)),t.A++,!0)}M.Ma=function(){if(this.u=null,tS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Rl(bt(this.jb,this),t)}};M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jt(10),Ud(this),tS(this))};function zg(t){t.B!=null&&(ee.clearTimeout(t.B),t.B=null)}function tS(t){t.g=new Cl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=mr(t.wa);Ne(e,"RID","rpc"),Ne(e,"SID",t.K),Ne(e,"AID",t.V),Ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ne(e,"TO",t.qa),Ne(e,"TYPE","xmlhttp"),Nl(t,e),t.o&&t.s&&$g(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Vd(mr(e)),n.u=null,n.S=!0,NI(n,t)}M.ib=function(){this.v!=null&&(this.v=null,Ud(this),Bg(this),jt(19))};function Ac(t){t.v!=null&&(ee.clearTimeout(t.v),t.v=null)}function nS(t,e){var n=null;if(t.g==e){Ac(t),zg(t),t.g=null;var r=2}else if(Vp(t.i,e))n=e.F,zI(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=bd(),St(r,new RI(r,n)),Bd(t)}else eS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&ij(t,e)||r==2&&Bg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ai(t,5);break;case 4:Ai(t,10);break;case 3:Ai(t,6);break;default:Ai(t,2)}}}function rS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ai(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=bt(t.pb,t);n||(n=new Oi("//www.google.com/images/cleardot.gif"),ee.location&&ee.location.protocol=="http"||xc(n,"https"),Vd(n)),JV(n.toString(),r)}else jt(2);t.H=0,t.h&&t.h.za(e),iS(t),JI(t)}M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),jt(2)):(this.l.info("Failed to ping google.com"),jt(1))};function iS(t){if(t.H=0,t.ma=[],t.h){const e=WI(t.i);(e.length!=0||t.j.length!=0)&&(l0(t.ma,e),l0(t.ma,t.j),t.i.i.length=0,Sg(t.j),t.j.length=0),t.h.ya()}}function sS(t,e,n){var r=n instanceof Oi?mr(n):new Oi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Rc(r,r.m);else{var i=ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Oi(null);r&&xc(s,r),e&&(s.g=e),i&&Rc(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ne(r,n,e),Ne(r,"VER",t.ra),Nl(t,r),r}function oS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ze(new jd({ob:n})):new ze(t.va),e.Oa(t.J),e}M.isActive=function(){return!!this.h&&this.h.isActive(this)};function aS(){}M=aS.prototype;M.Ba=function(){};M.Aa=function(){};M.za=function(){};M.ya=function(){};M.isActive=function(){return!0};M.Va=function(){};function Cc(){if(eo&&!(10<=Number(yV)))throw Error("Environmental error: no available transport.")}Cc.prototype.g=function(t,e){return new an(t,e)};function an(t,e){pt.call(this),this.g=new XI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ka(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ka(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new _o(this)}gt(an,pt);an.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;jt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=sS(t,null,t.Y),Bd(t)};an.prototype.close=function(){Ug(this.g)};an.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ng(t),t=n);e.j.push(new KV(e.fb++,t)),e.H==3&&Bd(e)};an.prototype.N=function(){this.g.h=null,delete this.j,Ug(this.g),delete this.g,an.$.N.call(this)};function lS(t){Mg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}gt(lS,Mg);function uS(){Vg.call(this),this.status=1}gt(uS,Vg);function _o(t){this.g=t}gt(_o,aS);_o.prototype.Ba=function(){St(this.g,"a")};_o.prototype.Aa=function(t){St(this.g,new lS(t))};_o.prototype.za=function(t){St(this.g,new uS)};_o.prototype.ya=function(){St(this.g,"b")};function sj(){this.blockSize=-1}function Nn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}gt(Nn,sj);Nn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function cf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Nn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)cf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){cf(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){cf(this,r),i=0;break}}this.h=i,this.i+=e};Nn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ee(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var oj={};function Wg(t){return-128<=t&&128>t?pV(t,function(e){return new Ee([e|0],0>e?-1:0)}):new Ee([t|0],0>t?-1:0)}function Un(t){if(isNaN(t)||!isFinite(t))return $s;if(0>t)return Et(Un(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=jp;return new Ee(e,0)}function cS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Et(cS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Un(Math.pow(e,8)),r=$s,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Un(Math.pow(e,s)),r=r.R(s).add(Un(o))):(r=r.R(n),r=r.add(Un(o)))}return r}var jp=4294967296,$s=Wg(0),Fp=Wg(1),_0=Wg(16777216);M=Ee.prototype;M.ea=function(){if(gn(this))return-Et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:jp+r)*e,e*=jp}return t};M.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(lr(this))return"0";if(gn(this))return"-"+Et(this).toString(t);for(var e=Un(Math.pow(t,6)),n=this,r="";;){var i=kc(n,e).g;n=Pc(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,lr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function lr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function gn(t){return t.h==-1}M.X=function(t){return t=Pc(this,t),gn(t)?-1:lr(t)?0:1};function Et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(Fp)}M.abs=function(){return gn(this)?Et(this):this};M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ee(n,n[n.length-1]&-2147483648?-1:0)};function Pc(t,e){return t.add(Et(e))}M.R=function(t){if(lr(this)||lr(t))return $s;if(gn(this))return gn(t)?Et(this).R(Et(t)):Et(Et(this).R(t));if(gn(t))return Et(this.R(Et(t)));if(0>this.X(_0)&&0>t.X(_0))return Un(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,yu(n,2*r+2*i),n[2*r+2*i+1]+=s*l,yu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,yu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,yu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)};function yu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Wo(t,e){this.g=t,this.h=e}function kc(t,e){if(lr(e))throw Error("division by zero");if(lr(t))return new Wo($s,$s);if(gn(t))return e=kc(Et(t),e),new Wo(Et(e.g),Et(e.h));if(gn(e))return e=kc(t,Et(e)),new Wo(Et(e.g),e.h);if(30<t.g.length){if(gn(t)||gn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Fp,r=e;0>=r.X(t);)n=w0(n),r=w0(r);var i=hs(n,1),s=hs(r,1);for(r=hs(r,2),n=hs(n,2);!lr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=hs(r,1),n=hs(n,1)}return e=Pc(t,i.R(e)),new Wo(i,e)}for(i=$s;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Un(n),o=s.R(e);gn(o)||0<o.X(t);)n-=r,s=Un(n),o=s.R(e);lr(s)&&(s=Fp),i=i.add(s),t=Pc(t,o)}return new Wo(i,t)}M.gb=function(t){return kc(this,t).h};M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)};M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)};M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)};function w0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function hs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ee(i,t.h)}Cc.prototype.createWebChannel=Cc.prototype.g;an.prototype.send=an.prototype.u;an.prototype.open=an.prototype.m;an.prototype.close=an.prototype.close;Od.NO_ERROR=0;Od.TIMEOUT=8;Od.HTTP_ERROR=6;AI.COMPLETE="complete";CI.EventType=Al;Al.OPEN="a";Al.CLOSE="b";Al.ERROR="c";Al.MESSAGE="d";pt.prototype.listen=pt.prototype.O;ze.prototype.listenOnce=ze.prototype.P;ze.prototype.getLastError=ze.prototype.Sa;ze.prototype.getLastErrorCode=ze.prototype.Ia;ze.prototype.getStatus=ze.prototype.da;ze.prototype.getResponseJson=ze.prototype.Wa;ze.prototype.getResponseText=ze.prototype.ja;ze.prototype.send=ze.prototype.ha;ze.prototype.setWithCredentials=ze.prototype.Oa;Nn.prototype.digest=Nn.prototype.l;Nn.prototype.reset=Nn.prototype.reset;Nn.prototype.update=Nn.prototype.j;Ee.prototype.add=Ee.prototype.add;Ee.prototype.multiply=Ee.prototype.R;Ee.prototype.modulo=Ee.prototype.gb;Ee.prototype.compare=Ee.prototype.X;Ee.prototype.toNumber=Ee.prototype.ea;Ee.prototype.toString=Ee.prototype.toString;Ee.prototype.getBits=Ee.prototype.D;Ee.fromNumber=Un;Ee.fromString=cS;var aj=function(){return new Cc},lj=function(){return bd()},df=Od,uj=AI,cj=es,E0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vu=CI,dj=ze,hj=Nn,Us=Ee;const T0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new dg("@firebase/firestore");function Ho(){return Wi.logLevel}function L(t,...e){if(Wi.logLevel<=he.DEBUG){const n=e.map(Hg);Wi.debug(`Firestore (${wo}): ${t}`,...n)}}function Xn(t,...e){if(Wi.logLevel<=he.ERROR){const n=e.map(Hg);Wi.error(`Firestore (${wo}): ${t}`,...n)}}function to(t,...e){if(Wi.logLevel<=he.WARN){const n=e.map(Hg);Wi.warn(`Firestore (${wo}): ${t}`,...n)}}function Hg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: `+t;throw Xn(e),new Error(e)}function Ce(t,e){t||Z()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class pj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mj{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new dS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new kt(e)}}class gj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new gj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _j{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new vj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=wj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function no(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new nt(0,0))}static max(){return new te(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return tl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof tl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends tl{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new j(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new De(n)}static emptyPath(){return new De([])}}const Ej=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends tl{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return Ej.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new j(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new j(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new j(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(De.fromString(e))}static fromName(e){return new q(De.fromString(e).popFirst(5))}static empty(){return new q(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new De(e.slice()))}}function Tj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Jr(i,q.empty(),e)}function Ij(t){return new Jr(t.readTime,t.key,-1)}class Jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jr(te.min(),q.empty(),-1)}static max(){return new Jr(te.max(),q.empty(),-1)}}function Sj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==xj)throw t;L("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new k((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):k.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):k.reject(n)}static resolve(e){return new k((n,r)=>{n(e)})}static reject(e){return new k((n,r)=>{r(e)})}static waitFor(e){return new k((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=k.resolve(!1);for(const r of e)n=n.next(i=>i?k.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new k((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new k((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new qn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ga(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Kg(r.target.error);this.V.reject(new ga(e,i))}}static open(e,n,r,i){try{return new qg(n,e.transaction(i,r))}catch(s){throw new ga(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(L("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Cj(n)}}class Ci{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ci.S(Ze())===12.2&&Xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return L("SimpleDb","Removing database:",e),wi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!S1())return!1;if(Ci.C())return!0;const e=Ze(),n=Ci.S(e),r=0<n&&n<10,i=Ci.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(L("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new ga(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new j(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new j(P.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ga(e,o))},i.onupgradeneeded=s=>{L("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{L("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=qg.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),k.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(L("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Aj{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return wi(this.k.delete())}}class ga extends j{constructor(e,n){super(P.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function bl(t){return t.name==="IndexedDbTransactionError"}class Cj{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(L("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(L("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),wi(r)}add(e){return L("SimpleDb","ADD",this.store.name,e,e),wi(this.store.add(e))}get(e){return wi(this.store.get(e)).next(n=>(n===void 0&&(n=null),L("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return L("SimpleDb","DELETE",this.store.name,e),wi(this.store.delete(e))}count(){return L("SimpleDb","COUNT",this.store.name),wi(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new k((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new k((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){L("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new k((r,i)=>{n.onerror=s=>{const o=Kg(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new k((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Aj(a),u=n(a.primaryKey,a.value,l);if(u instanceof k){const c=u.catch(d=>(l.done(),k.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>k.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function wi(t){return new k((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Kg(r.target.error);n(i)}})}let I0=!1;function Kg(t){const e=Ci.S(Ze());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new j("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return I0||(I0=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Gg._e=-1;function zd(t){return t==null}function Nc(t){return t===0&&1/t==-1/0}function Pj(t){return typeof t=="number"&&Number.isInteger(t)&&!Nc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _u(this.root,e,this.comparator,!1)}getReverseIterator(){return new _u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _u(this.root,e,this.comparator,!0)}}class _u{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wt.RED,this.left=i??wt.EMPTY,this.right=s??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new x0(this.data.getIterator())}getIteratorFrom(e){return new x0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class x0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new tn([])}unionWith(e){let n=new xt(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new pS("Invalid base64 string: "+s):s}}(e);return new Mt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const kj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(t){if(Ce(!!t),typeof t=="string"){let e=0;const n=kj.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hi(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yg(t){const e=t.mapValue.fields.__previous_value__;return Qg(e)?Yg(e):e}function nl(t){const e=Zr(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class rl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new rl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qg(t)?4:Dj(t)?9007199254740991:10:Z()}function Jn(t,e){if(t===e)return!0;const n=qi(t);if(n!==qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nl(t).isEqual(nl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Zr(i.timestampValue),a=Zr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Hi(i.bytesValue).isEqual(Hi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ye(i.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ye(i.integerValue)===Ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ye(i.doubleValue),a=Ye(s.doubleValue);return o===a?Nc(o)===Nc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return no(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(S0(o)!==S0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Jn(o[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function il(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function ro(t,e){if(t===e)return 0;const n=qi(t),r=qi(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ye(s.integerValue||s.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return R0(t.timestampValue,e.timestampValue);case 4:return R0(nl(t),nl(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Hi(s),l=Hi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=_e(a[u],l[u]);if(c!==0)return c}return _e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=_e(Ye(s.latitude),Ye(o.latitude));return a!==0?a:_e(Ye(s.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=ro(a[u],l[u]);if(c)return c}return _e(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===wu.mapValue&&o===wu.mapValue)return 0;if(s===wu.mapValue)return 1;if(o===wu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=_e(l[d],c[d]);if(h!==0)return h;const g=ro(a[l[d]],u[c[d]]);if(g!==0)return g}return _e(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Z()}}function R0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Zr(t),r=Zr(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function io(t){return $p(t)}function $p(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=$p(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${$p(n.fields[o])}`;return i+"}"}(t.mapValue):Z()}function A0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Up(t){return!!t&&"integerValue"in t}function Xg(t){return!!t&&"arrayValue"in t}function C0(t){return!!t&&"nullValue"in t}function P0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $u(t){return!!t&&"mapValue"in t}function ya(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ts(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ya(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ya(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Dj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$u(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ya(n)}setAll(e){let n=Tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ya(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());$u(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$u(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ts(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(ya(this.value))}}function mS(t){const e=[];return ts(t.fields,(n,r)=>{const i=new Tt([n]);if($u(r)){const s=mS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dt(e,0,te.min(),te.min(),te.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new Dt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new Dt(e,2,n,te.min(),te.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,te.min(),te.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.position=e,this.inclusive=n}}function k0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=ro(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function N0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n="asc"){this.field=e,this.dir=n}}function bj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{}class Je extends gS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lj(e,n,r):n==="array-contains"?new jj(e,r):n==="in"?new Fj(e,r):n==="not-in"?new $j(e,r):n==="array-contains-any"?new Uj(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mj(e,r):new Vj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ro(n,this.value)):n!==null&&qi(this.value)===qi(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends gS{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Dn(e,n)}matches(e){return yS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function yS(t){return t.op==="and"}function vS(t){return Oj(t)&&yS(t)}function Oj(t){for(const e of t.filters)if(e instanceof Dn)return!1;return!0}function Bp(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+io(t.value);if(vS(t))return t.filters.map(e=>Bp(e)).join(",");{const e=t.filters.map(n=>Bp(n)).join(",");return`${t.op}(${e})`}}function _S(t,e){return t instanceof Je?function(r,i){return i instanceof Je&&r.op===i.op&&r.field.isEqual(i.field)&&Jn(r.value,i.value)}(t,e):t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&_S(o,i.filters[a]),!0):!1}(t,e):void Z()}function wS(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(t):t instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(wS).join(" ,")+"}"}(t):"Filter"}class Lj extends Je{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mj extends Je{constructor(e,n){super(e,"in",n),this.keys=ES("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Vj extends Je{constructor(e,n){super(e,"not-in",n),this.keys=ES("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ES(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class jj extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xg(n)&&il(n.arrayValue,this.value)}}class Fj extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&il(this.value.arrayValue,n)}}class $j extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!il(this.value.arrayValue,n)}}class Uj extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>il(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function D0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Bj(t,e,n,r,i,s,o)}function Jg(t){const e=ne(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>io(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>io(r)).join(",")),e.ce=n}return e.ce}function Zg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_S(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!N0(t.startAt,e.startAt)&&N0(t.endAt,e.endAt)}function zp(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function zj(t,e,n,r,i,s,o,a){return new Eo(t,e,n,r,i,s,o,a)}function ey(t){return new Eo(t)}function b0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TS(t){return t.collectionGroup!==null}function va(t){const e=ne(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xt(Tt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new sl(s,r))}),n.has(Tt.keyField().canonicalString())||e.le.push(new sl(Tt.keyField(),r))}return e.le}function Kn(t){const e=ne(t);return e.he||(e.he=Wj(e,va(t))),e.he}function Wj(t,e){if(t.limitType==="F")return D0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sl(i.field,s)});const n=t.endAt?new Dc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dc(t.startAt.position,t.startAt.inclusive):null;return D0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wp(t,e){const n=t.filters.concat([e]);return new Eo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hp(t,e,n){return new Eo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wd(t,e){return Zg(Kn(t),Kn(e))&&t.limitType===e.limitType}function IS(t){return`${Jg(Kn(t))}|lt:${t.limitType}`}function fs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wS(i)).join(", ")}]`),zd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>io(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>io(i)).join(",")),`Target(${r})`}(Kn(t))}; limitType=${t.limitType})`}function Hd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of va(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=k0(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,va(r),i)||r.endAt&&!function(o,a,l){const u=k0(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,va(r),i))}(t,e)}function Hj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SS(t){return(e,n)=>{let r=!1;for(const i of va(t)){const s=qj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qj(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ro(l,u):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return fS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=new je(q.comparator);function gr(){return Kj}const xS=new je(q.comparator);function ea(...t){let e=xS;for(const n of t)e=e.insert(n.key,n);return e}function RS(t){let e=xS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pi(){return _a()}function AS(){return _a()}function _a(){return new To(t=>t.toString(),(t,e)=>t.isEqual(e))}const Gj=new je(q.comparator),Qj=new xt(q.comparator);function le(...t){let e=Qj;for(const n of t)e=e.add(n);return e}const Yj=new xt(_e);function Xj(){return Yj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function PS(t){return{integerValue:""+t}}function Jj(t,e){return Pj(e)?PS(e):CS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this._=void 0}}function Zj(t,e,n){return t instanceof bc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Qg(s)&&(s=Yg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ol?NS(t,e):t instanceof al?DS(t,e):function(i,s){const o=kS(i,s),a=O0(o)+O0(i.Ie);return Up(o)&&Up(i.Ie)?PS(a):CS(i.serializer,a)}(t,e)}function eF(t,e,n){return t instanceof ol?NS(t,e):t instanceof al?DS(t,e):n}function kS(t,e){return t instanceof Oc?function(r){return Up(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class bc extends qd{}class ol extends qd{constructor(e){super(),this.elements=e}}function NS(t,e){const n=bS(e);for(const r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class al extends qd{constructor(e){super(),this.elements=e}}function DS(t,e){let n=bS(e);for(const r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}class Oc extends qd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function O0(t){return Ye(t.integerValue||t.doubleValue)}function bS(t){return Xg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ol&&i instanceof ol||r instanceof al&&i instanceof al?no(r.elements,i.elements,Jn):r instanceof Oc&&i instanceof Oc?Jn(r.Ie,i.Ie):r instanceof bc&&i instanceof bc}(t.transform,e.transform)}class nF{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kd{}function OS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new MS(t.key,Gn.none()):new Ol(t.key,t.data,Gn.none());{const n=t.data,r=Wt.empty();let i=new xt(Tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ui(t.key,r,new tn(i.toArray()),Gn.none())}}function rF(t,e,n){t instanceof Ol?function(i,s,o){const a=i.value.clone(),l=M0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ui?function(i,s,o){if(!Uu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=M0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(LS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function wa(t,e,n,r){return t instanceof Ol?function(s,o,a,l){if(!Uu(s.precondition,o))return a;const u=s.value.clone(),c=V0(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ui?function(s,o,a,l){if(!Uu(s.precondition,o))return a;const u=V0(s.fieldTransforms,l,o),c=o.data;return c.setAll(LS(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Uu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=kS(r.transform,i||null);s!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,s))}return n||null}function L0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&no(r,i,(s,o)=>tF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ol extends Kd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ui extends Kd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function LS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function M0(t,e,n){const r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,eF(o,a,n[i]))}return r}function V0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Zj(s,o,e))}return r}class MS extends Kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sF extends Kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=OS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,(n,r)=>L0(n,r))&&no(this.baseMutations,e.baseMutations,(n,r)=>L0(n,r))}}class ty{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return Gj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ty(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,pe;function uF(t){switch(t){default:return Z();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function VS(t){if(t===void 0)return Xn("GRPC error has no .code"),P.UNKNOWN;switch(t){case Qe.OK:return P.OK;case Qe.CANCELLED:return P.CANCELLED;case Qe.UNKNOWN:return P.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return P.INTERNAL;case Qe.UNAVAILABLE:return P.UNAVAILABLE;case Qe.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Qe.NOT_FOUND:return P.NOT_FOUND;case Qe.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Qe.ABORTED:return P.ABORTED;case Qe.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Qe.DATA_LOSS:return P.DATA_LOSS;default:return Z()}}(pe=Qe||(Qe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=new Us([4294967295,4294967295],0);function j0(t){const e=cF().encode(t),n=new hj;return n.update(e),new Uint8Array(n.digest())}function F0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Us([n,r],0),new Us([i,s],0)]}class ny{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ta(`Invalid padding: ${n}`);if(r<0)throw new ta(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ta(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ta(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Us.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Us.fromNumber(r)));return i.compare(dF)===1&&(i=new Us([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=j0(e),[r,i]=F0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ny(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=j0(e),[r,i]=F0(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ll.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gd(te.min(),i,new je(_e),gr(),le())}}class Ll{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ll(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class jS{constructor(e,n){this.targetId=e,this.fe=n}}class FS{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $0{constructor(){this.ge=0,this.pe=B0(),this.ye=Mt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=le(),n=le(),r=le();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new Ll(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=B0()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ce(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class hF{constructor(e){this.Be=e,this.ke=new Map,this.qe=gr(),this.Qe=U0(),this.Ke=new je(_e)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(zp(s))if(r===0){const o=new q(s.path);this.We(n,o,Dt.newNoDocument(o,te.min()))}else Ce(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Hi(r).toUint8Array()}catch(l){if(l instanceof pS)return to("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ny(o,i,s)}catch(l){return to(l instanceof ta?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&zp(a.target)){const l=new q(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Dt.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=le();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Gd(e,n,this.Ke,this.qe,r);return this.qe=gr(),this.Qe=U0(),this.Ke=new je(_e),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new $0,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new xt(_e),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new $0),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function U0(){return new je(q.comparator)}function B0(){return new je(q.comparator)}const fF={asc:"ASCENDING",desc:"DESCENDING"},pF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mF={and:"AND",or:"OR"};class gF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qp(t,e){return t.useProto3Json||zd(e)?e:{value:e}}function Lc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $S(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yF(t,e){return Lc(t,e.toTimestamp())}function Qn(t){return Ce(!!t),te.fromTimestamp(function(n){const r=Zr(n);return new nt(r.seconds,r.nanos)}(t))}function ry(t,e){return Kp(t,e).canonicalString()}function Kp(t,e){const n=function(i){return new De(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function US(t){const e=De.fromString(t);return Ce(qS(e)),e}function Gp(t,e){return ry(t.databaseId,e.path)}function hf(t,e){const n=US(e);if(n.get(1)!==t.databaseId.projectId)throw new j(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(zS(n))}function BS(t,e){return ry(t.databaseId,e)}function vF(t){const e=US(t);return e.length===4?De.emptyPath():zS(e)}function Qp(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zS(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function z0(t,e,n){return{name:Gp(t,e),fields:n.value.mapValue.fields}}function _F(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Ce(c===void 0||typeof c=="string"),Mt.fromBase64String(c||"")):(Ce(c===void 0||c instanceof Uint8Array),Mt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?P.UNKNOWN:VS(u.code);return new j(c,u.message||"")}(o);n=new FS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hf(t,r.document.name),s=Qn(r.document.updateTime),o=r.document.createTime?Qn(r.document.createTime):te.min(),a=new Wt({mapValue:{fields:r.document.fields}}),l=Dt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Bu(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hf(t,r.document),s=r.readTime?Qn(r.readTime):te.min(),o=Dt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hf(t,r.document),s=r.removedTargetIds||[];n=new Bu([],s,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new lF(i,s),a=r.targetId;n=new jS(a,o)}}return n}function wF(t,e){let n;if(e instanceof Ol)n={update:z0(t,e.key,e.value)};else if(e instanceof MS)n={delete:Gp(t,e.key)};else if(e instanceof ui)n={update:z0(t,e.key,e.data),updateMask:PF(e.fieldMask)};else{if(!(e instanceof sF))return Z();n={verify:Gp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof bc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ol)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof al)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Oc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:yF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(t,e.precondition)),n}function EF(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Qn(i.updateTime):Qn(s);return o.isEqual(te.min())&&(o=Qn(s)),new nF(o,i.transformResults||[])}(n,e))):[]}function TF(t,e){return{documents:[BS(t,e.path)]}}function IF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BS(t,i);const s=function(u){if(u.length!==0)return HS(Dn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:ps(h.field),direction:RF(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=qp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function SF(t){let e=vF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=WS(d);return h instanceof Dn&&vS(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(w){return new sl(ms(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,zd(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,g=d.values||[];return new Dc(g,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,g=d.values||[];return new Dc(g,h)}(n.endAt)),zj(e,i,o,s,a,"F",l,u)}function xF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ms(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ms(n.unaryFilter.field);return Je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ms(n.unaryFilter.field);return Je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ms(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Je.create(ms(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(r=>WS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function RF(t){return fF[t]}function AF(t){return pF[t]}function CF(t){return mF[t]}function ps(t){return{fieldPath:t.canonicalString()}}function ms(t){return Tt.fromServerFormat(t.fieldPath)}function HS(t){return t instanceof Je?function(n){if(n.op==="=="){if(P0(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NAN"}};if(C0(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(P0(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NOT_NAN"}};if(C0(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ps(n.field),op:AF(n.op),value:n.value}}}(t):t instanceof Dn?function(n){const r=n.getFilters().map(i=>HS(i));return r.length===1?r[0]:{compositeFilter:{op:CF(n.op),filters:r}}}(t):Z()}function PF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,r,i,s=te.min(),o=te.min(),a=Mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.ct=e}}function NF(t){const e=SF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this._n=new bF}addToCollectionParentIndex(e,n){return this._n.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(Jr.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}}class bF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(De.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new so(0)}static Ln(){return new so(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.changes=new To(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&wa(r.mutation,i,tn.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=Pi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ea();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Pi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gr();const o=_a(),a=function(){return _a()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ui)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),wa(c.mutation,u,c.mutation.getFieldMask(),nt.now())):o.set(u.key,tn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new LF(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=_a();let i=new je((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||tn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||le()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=AS();c.forEach(h=>{if(!s.has(h)){const g=OS(n.get(h),r.get(h));g!==null&&d.set(h,g),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return k.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):k.resolve(Pi());let a=-1,l=s;return o.next(u=>k.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?k.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,le())).next(c=>({batchId:a,changes:RS(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=ea();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ea();return this.indexManager.getCollectionParents(e,s).next(a=>k.forEach(a,l=>{const u=function(d,h){return new Eo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Dt.newInvalidDocument(c)))});let a=ea();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&wa(c.mutation,u,tn.empty(),nt.now()),Hd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return k.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qn(i.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:NF(i.bundledQuery),readTime:Qn(i.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this.overlays=new je(q.comparator),this.hr=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pi();return k.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),k.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){const i=Pi(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new je((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Pi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Pi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return k.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new aF(n,r));let s=this.hr.get(n);s===void 0&&(s=le(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.Pr=new xt(ct.Ir),this.Tr=new xt(ct.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new ct(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new q(new De([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new q(new De([])),r=new ct(n,e),i=new ct(n,e+1);let s=le();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return q.comparator(e.key,n.key)||_e(e.pr,n.pr)}static Er(e,n){return _e(e.pr,n.pr)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new xt(ct.Ir)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oF(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(o)}lookupMutationBatch(e,n){return k.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(_e);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),k.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;q.isDocumentKey(s)||(s=s.child(""));const o=new ct(new q(s),0);let a=new xt(_e);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),k.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return k.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new ct(n,0),i=this.wr.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.vr=e,this.docs=function(){return new je(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dt.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gr();const o=n.path,a=new q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Sj(Ij(c),r)<=0||(i.has(c.key)||Hd(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}Fr(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UF(this)}getSize(e){return k.resolve(this.size)}}class UF extends OF{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.persistence=e,this.Mr=new To(n=>Jg(n),Zg),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Or=0,this.Nr=new iy,this.targetCount=0,this.Lr=so.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),k.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new so(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.qn(n),k.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(s).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),k.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,n){this.Br={},this.overlays={},this.kr=new Gg(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new BF(this),this.indexManager=new DF,this.remoteDocumentCache=function(i){return new $F(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new kF(n),this.$r=new VF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new FF(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);const i=new WF(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return k.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class WF extends Rj{constructor(e){super(),this.currentSequenceNumber=e}}class sy{constructor(e){this.persistence=e,this.zr=new iy,this.jr=null}static Hr(e){return new sy(e)}get Jr(){if(this.jr)return this.jr;throw Z()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),k.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Jr,r=>{const i=q.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return k.or([()=>k.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=le(),i=le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new oy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return CO()?8:Ci.v(Ze())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new HF;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ho()<=he.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),k.resolve()):(Ho()<=he.DEBUG&&L("QueryEngine","Query:",fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ho()<=he.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(n))):k.resolve())}ji(e,n){if(b0(n))return k.resolve(null);let r=Kn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hp(n,null,"F"),r=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,Hp(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return b0(n)||i.isEqual(te.min())?k.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?k.resolve(null):(Ho()<=he.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fs(n)),this.es(e,o,n,Tj(i,-1)).next(a=>a))})}Zi(e,n){let r=new xt(SS(e));return n.forEach((i,s)=>{Hd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ho()<=he.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",fs(n)),this.zi.getDocumentsMatchingQuery(e,n,Jr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new je(_e),this.rs=new To(s=>Jg(s),Zg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MF(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function GF(t,e,n,r){return new KF(t,e,n,r)}async function KS(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=le();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function QF(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let g=k.resolve();return h.forEach(w=>{g=g.next(()=>c.getEntry(l,w)).next(_=>{const E=u.docVersions.get(w);Ce(E!==null),_.version.compareTo(E)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=le();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GS(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function YF(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,d)));let g=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Mt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(d,g),function(_,E,f){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size>0}(h,g,c)&&a.push(n.Qr.updateTargetData(s,g))});let l=gr(),u=le();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(XF(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(te.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return k.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function XF(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function JF(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZF(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,k.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Lr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Yp(t,e,n){const r=ne(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!bl(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function W0(t,e,n){const r=ne(t);let i=te.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=ne(l),h=d.rs.get(c);return h!==void 0?k.resolve(d.ns.get(h)):d.Qr.getTargetData(u,c)}(r,o,Kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:le())).next(a=>(e4(r,Hj(e),a),{documents:a,hs:s})))}function e4(t,e,n){let r=t.ss.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class H0{constructor(){this.activeTargetIds=Xj()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t4{constructor(){this.no=new H0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new H0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu=null;function ff(){return Eu===null?Eu=function(){return 268435456+Math.round(2147483648*Math.random())}():Eu++,"0x"+Eu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class s4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=ff(),l=this.bo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(L("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw to("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=r4[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=ff();return new Promise((o,a)=>{const l=new dj;l.setWithCredentials(!0),l.listenOnce(uj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case df.NO_ERROR:const c=l.getResponseJson();L(Pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case df.TIMEOUT:L(Pt,`RPC '${e}' ${s} timed out`),a(new j(P.DEADLINE_EXCEEDED,"Request time out"));break;case df.HTTP_ERROR:const d=l.getStatus();if(L(Pt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h==null?void 0:h.error;if(g&&g.status&&g.message){const w=function(E){const f=E.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(f)>=0?f:P.UNKNOWN}(g.status);a(new j(w,g.message))}else a(new j(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new j(P.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{L(Pt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);L(Pt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=ff(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=aj(),a=lj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");L(Pt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,g=!1;const w=new i4({lo:E=>{g?L(Pt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(L(Pt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),L(Pt,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},ho:()=>d.close()}),_=(E,f,p)=>{E.listen(f,v=>{try{p(v)}catch(A){setTimeout(()=>{throw A},0)}})};return _(d,vu.EventType.OPEN,()=>{g||L(Pt,`RPC '${e}' stream ${i} transport opened.`)}),_(d,vu.EventType.CLOSE,()=>{g||(g=!0,L(Pt,`RPC '${e}' stream ${i} transport closed`),w.Vo())}),_(d,vu.EventType.ERROR,E=>{g||(g=!0,to(Pt,`RPC '${e}' stream ${i} transport errored:`,E),w.Vo(new j(P.UNAVAILABLE,"The operation could not be completed")))}),_(d,vu.EventType.MESSAGE,E=>{var f;if(!g){const p=E.data[0];Ce(!!p);const v=p,A=v.error||((f=v[0])===null||f===void 0?void 0:f.error);if(A){L(Pt,`RPC '${e}' stream ${i} received error:`,A);const D=A.status;let y=function($){const W=Qe[$];if(W!==void 0)return VS(W)}(D),R=A.message;y===void 0&&(y=P.INTERNAL,R="Unknown error status: "+D+" with message "+A.message),g=!0,w.Vo(new j(y,R)),d.close()}else L(Pt,`RPC '${e}' stream ${i} received:`,p),w.mo(p)}}),_(a,cj.STAT_EVENT,E=>{E.stat===E0.PROXY?L(Pt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===E0.NOPROXY&&L(Pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.Ro()},0),w}}function pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t){return new gF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new QS(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new j(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o4 extends YS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=_F(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Qn(o.readTime):te.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Qp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=zp(l)?{documents:TF(s,l)}:{query:IF(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$S(s,o.resumeToken);const u=qp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Lc(s,o.snapshotVersion.toTimestamp());const u=qp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=xF(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Qp(this.serializer),n.removeTarget=e,this.t_(n)}}class a4 extends YS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=EF(e.writeResults,e.commitTime),r=Qn(e.commitTime);return this.listener.T_(r,n)}return Ce(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Qp(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wF(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new j(P.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Kp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(P.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Kp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(P.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class u4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Xn(n),this.g_=!1):L("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{ns(this)&&(L("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ne(l);u.v_.add(4),await Ml(u),u.x_.set("Unknown"),u.v_.delete(4),await Yd(u)}(this))})}),this.x_=new u4(r,i)}}async function Yd(t){if(ns(t))for(const e of t.F_)await e(!0)}async function Ml(t){for(const e of t.F_)await e(!1)}function XS(t,e){const n=ne(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),cy(n)?uy(n):Io(n).Jo()&&ly(n,e))}function ay(t,e){const n=ne(t),r=Io(n);n.C_.delete(e),r.Jo()&&JS(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ns(n)&&n.x_.set("Unknown"))}function ly(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(t).c_(e)}function JS(t,e){t.O_.Oe(e),Io(t).l_(e)}function uy(t){t.O_=new hF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Io(t).start(),t.x_.p_()}function cy(t){return ns(t)&&!Io(t).Ho()&&t.C_.size>0}function ns(t){return ne(t).v_.size===0}function ZS(t){t.O_=void 0}async function d4(t){t.C_.forEach((e,n)=>{ly(t,e)})}async function h4(t,e){ZS(t),cy(t)?(t.x_.S_(e),uy(t)):t.x_.set("Unknown")}async function f4(t,e,n){if(t.x_.set("Online"),e instanceof FS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mc(t,r)}else if(e instanceof Bu?t.O_.$e(e):e instanceof jS?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(te.min()))try{const r=await GS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(Mt.EMPTY_BYTE_STRING,c.snapshotVersion)),JS(s,l);const d=new Lr(c.target,l,u,c.sequenceNumber);ly(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){L("RemoteStore","Failed to raise snapshot:",r),await Mc(t,r)}}async function Mc(t,e,n){if(!bl(e))throw e;t.v_.add(1),await Ml(t),t.x_.set("Offline"),n||(n=()=>GS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{L("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Yd(t)})}function ex(t,e){return e().catch(n=>Mc(t,n,e))}async function Xd(t){const e=ne(t),n=ei(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;p4(e);)try{const i=await JF(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,m4(e,i)}catch(i){await Mc(e,i)}tx(e)&&nx(e)}function p4(t){return ns(t)&&t.D_.length<10}function m4(t,e){t.D_.push(e);const n=ei(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function tx(t){return ns(t)&&!ei(t).Ho()&&t.D_.length>0}function nx(t){ei(t).start()}async function g4(t){ei(t).d_()}async function y4(t){const e=ei(t);for(const n of t.D_)e.I_(n.mutations)}async function v4(t,e,n){const r=t.D_.shift(),i=ty.from(r,e,n);await ex(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xd(t)}async function _4(t,e){e&&ei(t).P_&&await async function(r,i){if(function(o){return uF(o)&&o!==P.ABORTED}(i.code)){const s=r.D_.shift();ei(r).Zo(),await ex(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Xd(r)}}(t,e),tx(t)&&nx(t)}async function K0(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const r=ns(n);n.v_.add(3),await Ml(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Yd(n)}async function w4(t,e){const n=ne(t);e?(n.v_.delete(2),await Yd(n)):e||(n.v_.add(2),await Ml(n),n.x_.set("Unknown"))}function Io(t){return t.N_||(t.N_=function(n,r,i){const s=ne(n);return s.R_(),new o4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:d4.bind(null,t),To:h4.bind(null,t),u_:f4.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),cy(t)?uy(t):t.x_.set("Unknown")):(await t.N_.stop(),ZS(t))})),t.N_}function ei(t){return t.L_||(t.L_=function(n,r,i){const s=ne(n);return s.R_(),new a4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:g4.bind(null,t),To:_4.bind(null,t),E_:y4.bind(null,t),T_:v4.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Xd(t)):(await t.L_.stop(),t.D_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new dy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(t,e){if(Xn("AsyncQueue",`${e}: ${t}`),bl(t))return new j(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=ea(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new Bs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.B_=new je(q.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Z():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class oo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new oo(e,n,Bs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class T4{constructor(){this.queries=new To(e=>IS(e),Wd),this.onlineState="Unknown",this.W_=new Set}}async function rx(t,e){const n=ne(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new E4,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=hy(o,`Initialization of query '${fs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&fy(n)}async function ix(t,e){const n=ne(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function I4(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&fy(n)}function S4(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function fy(t){t.W_.forEach(e=>{e.next()})}var Xp,Q0;(Q0=Xp||(Xp={})).j_="default",Q0.Cache="cache";class sx{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.key=e}}class ax{constructor(e){this.key=e}}class x4{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=le(),this.mutatedKeys=le(),this.ha=SS(e),this.Pa=new Bs(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new G0,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),g=Hd(this.query,d)?d:null,w=!!h&&this.mutatedKeys.has(h.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;h&&g?h.data.isEqual(g.data)?w!==_&&(r.track({type:3,doc:g}),E=!0):this.da(h,g)||(r.track({type:2,doc:g}),E=!0,(l&&this.ha(g,l)>0||u&&this.ha(g,u)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),E=!0):h&&!g&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(g?(o=o.add(g),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((c,d)=>function(g,w){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return _(g)-_(w)}(c.type,d.type)||this.ha(c.doc,d.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,u=l!==this.ca;return this.ca=l,o.length!==0||u?{snapshot:new oo(this.query,e.Pa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new G0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=le(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new ax(r))}),this.la.forEach(r=>{e.has(r)||n.push(new ox(r))}),n}fa(e){this.ua=e.hs,this.la=le();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return oo.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class R4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A4{constructor(e){this.key=e,this.pa=!1}}class C4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new To(a=>IS(a),Wd),this.Sa=new Map,this.ba=new Set,this.Da=new je(q.comparator),this.Ca=new Map,this.va=new iy,this.Fa={},this.Ma=new Map,this.xa=so.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function P4(t,e,n=!0){const r=fx(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await lx(r,e,n,!0),i}async function k4(t,e){const n=fx(t);await lx(n,e,!0,!1)}async function lx(t,e,n,r){const i=await ZF(t.localStore,Kn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await N4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&XS(t.remoteStore,i),a}async function N4(t,e,n,r,i){t.Na=(d,h,g)=>async function(_,E,f,p){let v=E.view.Ta(f);v.Xi&&(v=await W0(_.localStore,E.query,!1).then(({documents:R})=>E.view.Ta(R,v)));const A=p&&p.targetChanges.get(E.targetId),D=p&&p.targetMismatches.get(E.targetId)!=null,y=E.view.applyChanges(v,_.isPrimaryClient,A,D);return X0(_,E.targetId,y.Va),y.snapshot}(t,d,h,g);const s=await W0(t.localStore,e,!0),o=new x4(e,s.hs),a=o.Ta(s.documents),l=Ll.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);X0(t,n,u.Va);const c=new R4(e,n,o);return t.wa.set(e,c),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot}async function D4(t,e,n){const r=ne(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!Wd(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ay(r.remoteStore,i.targetId),Jp(r,i.targetId)}).catch(Dl)):(Jp(r,i.targetId),await Yp(r.localStore,i.targetId,!0))}async function b4(t,e){const n=ne(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ay(n.remoteStore,r.targetId))}async function O4(t,e,n){const r=U4(t);try{const i=await function(o,a){const l=ne(o),u=nt.now(),c=a.reduce((g,w)=>g.add(w.key),le());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=gr(),_=le();return l.os.getEntries(g,c).next(E=>{w=E,w.forEach((f,p)=>{p.isValidDocument()||(_=_.add(f))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(E=>{d=E;const f=[];for(const p of a){const v=iF(p,d.get(p.key).overlayedDocument);v!=null&&f.push(new ui(p.key,v,mS(v.value.mapValue),Gn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,f,a)}).next(E=>{h=E;const f=E.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(g,E.batchId,f)})}).then(()=>({batchId:h.batchId,changes:RS(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Fa[o.currentUser.toKey()];u||(u=new je(_e)),u=u.insert(a,l),o.Fa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Vl(r,i.changes),await Xd(r.remoteStore)}catch(i){const s=hy(i,"Failed to persist write");n.reject(s)}}async function ux(t,e){const n=ne(t);try{const r=await YF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ca.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?Ce(o.pa):i.removedDocuments.size>0&&(Ce(o.pa),o.pa=!1))}),await Vl(n,r,e)}catch(r){await Dl(r)}}function Y0(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,o)=>{const a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Q_)h.G_(a)&&(u=!0)}),u&&fy(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L4(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new je(q.comparator);o=o.insert(s,Dt.newNoDocument(s,te.min()));const a=le().add(s),l=new Gd(te.min(),new Map,new je(_e),o,a);await ux(r,l),r.Da=r.Da.remove(s),r.Ca.delete(e),py(r)}else await Yp(r.localStore,e,!1).then(()=>Jp(r,e,n)).catch(Dl)}async function M4(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await QF(n.localStore,e);dx(n,r,null),cx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vl(n,i)}catch(i){await Dl(i)}}async function V4(t,e,n){const r=ne(t);try{const i=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ce(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);dx(r,e,n),cx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vl(r,i)}catch(i){await Dl(i)}}function cx(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function dx(t,e,n){const r=ne(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Jp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||hx(t,r)})}function hx(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(ay(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),py(t))}function X0(t,e,n){for(const r of n)r instanceof ox?(t.va.addReference(r.key,e),j4(t,r)):r instanceof ax?(L("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||hx(t,r.key)):Z()}function j4(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(L("SyncEngine","New document in limbo: "+n),t.ba.add(r),py(t))}function py(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new q(De.fromString(e)),r=t.xa.next();t.Ca.set(r,new A4(n)),t.Da=t.Da.insert(n,r),XS(t.remoteStore,new Lr(Kn(ey(n.path)),r,"TargetPurposeLimboResolution",Gg._e))}}async function Vl(t,e,n){const r=ne(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=oy.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.ya.u_(i),await async function(l,u){const c=ne(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>k.forEach(u,h=>k.forEach(h.qi,g=>c.persistence.referenceDelegate.addReference(d,h.targetId,g)).next(()=>k.forEach(h.Qi,g=>c.persistence.referenceDelegate.removeReference(d,h.targetId,g)))))}catch(d){if(!bl(d))throw d;L("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const g=c.ns.get(h),w=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(w);c.ns=c.ns.insert(h,_)}}}(r.localStore,s))}async function F4(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());const r=await KS(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(l=>{l.reject(new j(P.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vl(n,r.us)}}function $4(t,e){const n=ne(t),r=n.Ca.get(e);if(r&&r.pa)return le().add(r.key);{let i=le();const s=n.Sa.get(e);if(!s)return i;for(const o of s){const a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function fx(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ux.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L4.bind(null,e),e.ya.u_=I4.bind(null,e.eventManager),e.ya.La=S4.bind(null,e.eventManager),e}function U4(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V4.bind(null,e),e}class J0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Qd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return GF(this.persistence,new qF,e.initialUser,this.serializer)}createPersistence(e){return new zF(sy.Hr,this.serializer)}createSharedClientState(e){return new t4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class B4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Y0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F4.bind(null,this.syncEngine),await w4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T4}()}createDatastore(e){const n=Qd(e.databaseInfo.databaseId),r=function(s){return new s4(s)}(e.databaseInfo);return function(s,o,a,l){return new l4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new c4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Y0(this.syncEngine,n,0),function(){return q0.D()?new q0:new n4}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new C4(i,s,o,a,l,u);return c&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ne(r);L("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Ml(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=hS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{L("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mf(t,e){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Z0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await H4(t);L("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>K0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>K0(e.remoteStore,i)),t._onlineComponents=e}function W4(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function H4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{await mf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!W4(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await mf(t,new J0)}}else L("FirestoreClient","Using default OfflineComponentProvider"),await mf(t,new J0);return t._offlineComponents}async function mx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),await Z0(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),await Z0(t,new B4))),t._onlineComponents}function q4(t){return mx(t).then(e=>e.syncEngine)}async function gx(t){const e=await mx(t),n=e.eventManager;return n.onListen=P4.bind(null,e.syncEngine),n.onUnlisten=D4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=b4.bind(null,e.syncEngine),n}function K4(t,e,n={}){const r=new qn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new px({next:h=>{o.enqueueAndForget(()=>ix(s,d));const g=h.docs.has(a);!g&&h.fromCache?u.reject(new j(P.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&h.fromCache&&l&&l.source==="server"?u.reject(new j(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new sx(ey(a.path),c,{includeMetadataChanges:!0,ta:!0});return rx(s,d)}(await gx(t),t.asyncQueue,e,n,r)),r.promise}function G4(t,e,n={}){const r=new qn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new px({next:h=>{o.enqueueAndForget(()=>ix(s,d)),h.fromCache&&l.source==="server"?u.reject(new j(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new sx(a,c,{includeMetadataChanges:!0,ta:!0});return rx(s,d)}(await gx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t,e,n){if(!n)throw new j(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q4(t,e,n,r){if(e===!0&&r===!0)throw new j(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tw(t){if(!q.isDocumentKey(t))throw new j(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nw(t){if(q.isDocumentKey(t))throw new j(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function ti(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jd(t);throw new j(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new j(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new j(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new j(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fj;switch(r.type){case"firstParty":return new yj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ew.get(n);r&&(L("ComponentProvider","Removing Datastore"),ew.delete(n),r.terminate())}(this),Promise.resolve()}}function Y4(t,e,n,r={}){var i;const s=(t=ti(t,Zd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=kt.MOCK_USER;else{a=TO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new j(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(u)}t._authCredentials=new pj(new dS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class Qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}}class Gr extends rs{constructor(e,n,r){super(e,n,ey(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new q(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function jl(t,e,...n){if(t=ft(t),vx("collection","path",e),t instanceof Zd){const r=De.fromString(e,...n);return nw(r),new Gr(t,null,r)}{if(!(t instanceof Qt||t instanceof Gr))throw new j(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return nw(r),new Gr(t.firestore,null,r)}}function is(t,e,...n){if(t=ft(t),arguments.length===1&&(e=hS.newId()),vx("doc","path",e),t instanceof Zd){const r=De.fromString(e,...n);return tw(r),new Qt(t,null,new q(r))}{if(!(t instanceof Qt||t instanceof Gr))throw new j(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return tw(r),new Qt(t.firestore,t instanceof Gr?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new QS(this,"async_queue_retry"),this.cu=()=>{const n=pf();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=pf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=pf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new qn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!bl(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Xn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=dy.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&Z()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class Fl extends Zd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new X4}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||_x(this),this._firestoreClient.terminate()}}function J4(t,e){const n=typeof t=="object"?t:C1(),r=typeof t=="string"?t:e||"(default)",i=fg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wO("firestore");s&&Y4(i,...s)}return i}function my(t){return t._firestoreClient||_x(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _x(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new Nj(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,yx(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new z4(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ao(Mt.fromBase64String(e))}catch(n){throw new j(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ao(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=/^__.*__$/;class e${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ol(e,this.data,n,this.fieldTransforms)}}class wx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ui(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ex(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class vy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new vy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Vc(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(Ex(this.Vu)&&Z4.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class t${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qd(e)}Cu(e,n,r,i=!1){return new vy({Vu:e,methodName:n,Du:r,path:Tt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _y(t){const e=t._freezeSettings(),n=Qd(t._databaseId);return new t$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function n$(t,e,n,r,i,s={}){const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);wy("Data must be an object, but it was:",o,r);const a=Tx(r,o);let l,u;if(s.merge)l=new tn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=Zp(e,d,n);if(!o.contains(h))throw new j(P.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Sx(c,h)||c.push(h)}l=new tn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new e$(new Wt(a),l,u)}class th extends gy{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof th}}function r$(t,e,n,r){const i=t.Cu(1,e,n);wy("Data must be an object, but it was:",i,r);const s=[],o=Wt.empty();ts(r,(l,u)=>{const c=Ey(e,l,n);u=ft(u);const d=i.yu(c);if(u instanceof th)s.push(c);else{const h=$l(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new tn(s);return new wx(o,a,i.fieldTransforms)}function i$(t,e,n,r,i,s){const o=t.Cu(1,e,n),a=[Zp(e,r,n)],l=[i];if(s.length%2!=0)throw new j(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Zp(e,s[h])),l.push(s[h+1]);const u=[],c=Wt.empty();for(let h=a.length-1;h>=0;--h)if(!Sx(u,a[h])){const g=a[h];let w=l[h];w=ft(w);const _=o.yu(g);if(w instanceof th)u.push(g);else{const E=$l(w,_);E!=null&&(u.push(g),c.set(g,E))}}const d=new tn(u);return new wx(c,d,o.fieldTransforms)}function s$(t,e,n,r=!1){return $l(n,t.Cu(r?4:3,e))}function $l(t,e){if(Ix(t=ft(t)))return wy("Unsupported field value:",e,t),Tx(t,e);if(t instanceof gy)return function(r,i){if(!Ex(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=$l(a,i.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Jj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=nt.fromDate(r);return{timestampValue:Lc(i.serializer,s)}}if(r instanceof nt){const s=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lc(i.serializer,s)}}if(r instanceof yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ao)return{bytesValue:$S(i.serializer,r._byteString)};if(r instanceof Qt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ry(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${Jd(r)}`)}(t,e)}function Tx(t,e){const n={};return fS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(t,(r,i)=>{const s=$l(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Ix(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof yy||t instanceof ao||t instanceof Qt||t instanceof gy)}function wy(t,e,n){if(!Ix(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Jd(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function Zp(t,e,n){if((e=ft(e))instanceof eh)return e._internalPath;if(typeof e=="string")return Ey(t,e);throw Vc("Field path arguments must be of type string or ",t,!1,void 0,n)}const o$=new RegExp("[~\\*/\\[\\]]");function Ey(t,e,n){if(e.search(o$)>=0)throw Vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new eh(...e.split("."))._internalPath}catch{throw Vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new j(P.INVALID_ARGUMENT,a+t+l)}function Sx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a$ extends xx{data(){return super.data()}}function nh(t,e){return typeof e=="string"?Ey(t,e):e instanceof eh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ty{}class Rx extends Ty{}function Ax(t,e,...n){let r=[];e instanceof Ty&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Iy).length,a=s.filter(l=>l instanceof rh).length;if(o>1||o>0&&a>0)throw new j(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rh extends Rx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rh(e,n,r)}_apply(e){const n=this._parse(e);return Cx(e._query,n),new rs(e.firestore,e.converter,Wp(e._query,n))}_parse(e){const n=_y(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new j(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){sw(d,c);const g=[];for(const w of d)g.push(iw(l,s,w));h={arrayValue:{values:g}}}else h=iw(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||sw(d,c),h=s$(a,o,d,c==="in"||c==="not-in");return Je.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function u$(t,e,n){const r=e,i=nh("where",t);return rh._create(i,r,n)}class Iy extends Ty{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Iy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Dn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Cx(o,l),o=Wp(o,l)}(e._query,n),new rs(e.firestore,e.converter,Wp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sy extends Rx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sy(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new j(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new j(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sl(s,o)}(e._query,this._field,this._direction);return new rs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Eo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function c$(t,e="asc"){const n=e,r=nh("orderBy",t);return Sy._create(r,n)}function iw(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new j(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TS(e)&&n.indexOf("/")!==-1)throw new j(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!q.isDocumentKey(r))throw new j(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return A0(t,new q(r))}if(n instanceof Qt)return A0(t,n._key);throw new j(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(n)}.`)}function sw(t,e){if(!Array.isArray(t)||t.length===0)throw new j(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Cx(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new j(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new j(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class d${convertValue(e,n="none"){switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ts(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new yy(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nl(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);Ce(qS(r));const i=new rl(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||Xn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Px extends xx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zu extends Px{data(e={}){return super.data(e)}}class f${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new na(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zu(this._firestore,this._userDataWriter,r.key,r,new na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new zu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new zu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:p$(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function p$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t){t=ti(t,Qt);const e=ti(t.firestore,Fl);return K4(my(e),t._key).then(n=>m$(e,t,n))}class Nx extends d${constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function xy(t){t=ti(t,rs);const e=ti(t.firestore,Fl),n=my(e),r=new Nx(e);return l$(t._query),G4(n,t._query).then(i=>new f$(e,r,t,i))}function ih(t,e,n,...r){t=ti(t,Qt);const i=ti(t.firestore,Fl),s=_y(i);let o;return o=typeof(e=ft(e))=="string"||e instanceof eh?i$(s,"updateDoc",t._key,e,n,r):r$(s,"updateDoc",t._key,e),bx(i,[o.toMutation(t._key,Gn.exists(!0))])}function Dx(t,e){const n=ti(t.firestore,Fl),r=is(t),i=h$(t.converter,e);return bx(n,[n$(_y(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}function bx(t,e){return function(r,i){const s=new qn;return r.asyncQueue.enqueueAndForget(async()=>O4(await q4(r),i,s)),s.promise}(my(t),e)}function m$(t,e,n){const r=n.docs.get(e._key),i=new Nx(t);return new Px(t,i,e._key,r,new na(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){wo=i})(mo),Js(new Ui("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Fl(new mj(r.getProvider("auth-internal")),new _j(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new j(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Kr(T0,"4.5.0",e),Kr(T0,"4.5.0","esm2017")})();const g$={apiKey:"AIzaSyAlBG2AV4CeYHZXbw-xN67nE8764UBGB84",authDomain:"ecs506u-prototype-app-3d600.firebaseapp.com",projectId:"ecs506u-prototype-app-3d600",storageBucket:"ecs506u-prototype-app-3d600.appspot.com",messagingSenderId:"1090334193424",appId:"1:1090334193424:web:b4f97f45f8771d7c145795",measurementId:"G-VJ3J94RF0Q"},Ox=A1(g$),ll=sV(Ox),On=J4(Ox);var Lx={},sh={};Object.defineProperty(sh,"__esModule",{value:!0});sh.createAnimation=void 0;var y$=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r};sh.createAnimation=y$;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.cssValue=lo.parseLengthAndUnit=void 0;var v$={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Mx(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return v$[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}lo.parseLengthAndUnit=Mx;function _$(t){var e=Mx(t);return"".concat(e.value).concat(e.unit)}lo.cssValue=_$;var jc=Yn&&Yn.__assign||function(){return jc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},jc.apply(this,arguments)},w$=Yn&&Yn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),E$=Yn&&Yn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),T$=Yn&&Yn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&w$(e,t,n);return E$(e,t),e},I$=Yn&&Yn.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(Lx,"__esModule",{value:!0});var Tu=T$(I),S$=sh,gf=lo,x$=(0,S$.createAnimation)("SyncLoader",`33% {transform: translateY(10px)}
  66% {transform: translateY(-10px)}
  100% {transform: translateY(0)}`,"sync");function R$(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,c=u===void 0?15:u,d=t.margin,h=d===void 0?2:d,g=I$(t,["loading","color","speedMultiplier","cssOverride","size","margin"]),w=jc({display:"inherit"},l),_=function(E){return{backgroundColor:i,width:(0,gf.cssValue)(c),height:(0,gf.cssValue)(c),margin:(0,gf.cssValue)(h),borderRadius:"100%",display:"inline-block",animation:"".concat(x$," ").concat(.6/o,"s ").concat(E*.07,"s infinite ease-in-out"),animationFillMode:"both"}};return n?Tu.createElement("span",jc({style:w},g),Tu.createElement("span",{style:_(1)}),Tu.createElement("span",{style:_(2)}),Tu.createElement("span",{style:_(3)})):null}var A$=Lx.default=R$;const ul=()=>m.jsx("main",{className:"flex items-center justify-center h-screen",children:m.jsx(A$,{color:"#F8F8FF",loading:!0,size:10,"aria-label":"Loading Spinner","data-testid":"loader"})}),C$=t=>{const e={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"):e.email="Email Address Required",t.password||(e.password="Password Required"),e},P$=()=>{const t=bn(),[e,n]=I.useState(null),[r,i]=I.useState(!1),s=lg({initialValues:{email:"",password:""},validate:C$,onSubmit:async(a,{resetForm:l})=>{try{i(!0),await WL(ll,a.email,a.password),l(),t("/dashboard",{replace:!0})}catch(u){console.log(u.message),n("Invalid Email or Password")}finally{i(!1)}}}),o=async()=>{try{await X1(ll)}catch(a){console.log(a.message)}};return m.jsxs("form",{onSubmit:s.handleSubmit,className:"flex flex-col gap-8 w-full md:w-[750px] p-10 bg-white rounded-[32px]",children:[m.jsx("h1",{className:"font-Roboto text-xl md:text-3xl text-matteBlack text-center",children:"Login to your Dashboard"}),e&&m.jsxs("span",{className:"w-full m-1 flex items-center gap-1 font-OpenSans text-dangerRed text-md md:text-lg",children:[m.jsx("i",{className:"bx bx-error-circle"}),e]}),m.jsx("input",{id:"email",name:"email",type:"email",placeholder:"Enter your Email Address",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.email,className:"w-full h-12 px-4 py-2 font-Poppins bg-lightBG text-matteBlack text-md md:text-lg rounded-xl"}),s.touched.email&&s.errors.email&&m.jsxs("span",{className:"w-full m-1 flex items-center gap-1 font-OpenSans text-dangerRed text-md md:text-lg",children:[m.jsx("i",{className:"bx bx-error-circle"}),s.errors.email]}),m.jsx("input",{id:"pwd",name:"password",type:"password",placeholder:"Enter Password",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.password,className:"w-full h-12 px-4 py-2 font-Poppins bg-lightBG text-matteBlack text-md md:text-lg rounded-xl"}),s.touched.password&&s.errors.password&&m.jsxs("span",{className:"w-full m-1 flex items-center gap-1 font-OpenSans text-dangerRed text-md md:text-lg",children:[m.jsx("i",{className:"bx bx-error-circle"}),s.errors.password]}),m.jsx("button",{type:"submit",disabled:r,className:" w-full h-12 border-2 border-royalPurple m-2 rounded-full font-Nunito text-lg md:text-xl text-matteBlack hover:text-white hover:bg-royalPurple transition-colors duration-300",children:r?m.jsx(ul,{}):m.jsxs("span",{className:"flex items-center gap-2 text-center justify-center",children:["Login",m.jsx("i",{className:"bx bx-log-in"})]})}),m.jsx("button",{onClick:o,type:"button",className:"w-full h-12 border-2 border-royalPurple m-2 rounded-full font-Nunito text-lg md:text-xl text-matteBlack hover:text-white hover:bg-royalPurple transition-colors duration-300",children:m.jsxs("span",{className:"flex items-center gap-2 text-center justify-center",children:["Logout",m.jsx("i",{className:"bx bx-log-in"})]})})]})},k$=()=>m.jsx("div",{className:"flex items-center justify-center h-screen px-4 py-8",children:m.jsxs("main",{className:"w-full flex flex-col items-center gap-10",children:[m.jsx("h1",{className:"font-Nunito text-3xl md:text-4xl lg:text-5xl text-royalPurple",children:"QMUL Feedback & Issues Hub"}),m.jsx(P$,{})]})});var Vx={exports:{}},N$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",D$=N$,b$=D$;function jx(){}function Fx(){}Fx.resetWarningCache=jx;var O$=function(){function t(r,i,s,o,a,l){if(l!==b$){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Fx,resetWarningCache:jx};return n.PropTypes=n,n};Vx.exports=O$();var L$=Vx.exports;const Be=Fc(L$),$x=I.createContext(),Ux=({children:t})=>{const[e,n]=I.useState(null),[r,i]=I.useState(!0);return I.useEffect(()=>ll.onAuthStateChanged(o=>{n(o),i(!1)}),[]),m.jsx($x.Provider,{value:{currentUser:e},children:!r&&t})};Ux.propTypes={children:Be.node.isRequired};const Bx=I.createContext(),So=()=>I.useContext(Bx),zx=({children:t})=>{const[e,n]=I.useState(null);return I.useEffect(()=>{const r=KL(ll,i=>{n(i)});return()=>r()},[]),m.jsx(Bx.Provider,{value:e,children:t})};zx.propTypes={children:Be.node.isRequired};const Wx=I.createContext(),Ul=()=>I.useContext(Wx),Hx=({children:t})=>{const[e,n]=I.useState(null),r=So();return I.useEffect(()=>{(async()=>{if(r&&r.uid){const s=is(On,"users",r.uid);try{const o=await kx(s);if(o){const a=o.data();n(a.role)}else console.log("User document does not exist")}catch(o){console.error("Error getting user document:",o)}}})()},[r]),m.jsx(Wx.Provider,{value:e,children:t})};Hx.propTypes={children:Be.node.isRequired};const _i=({children:t})=>{const{currentUser:e}=I.useContext($x),n=Ul(),r=bn(),[i,s]=I.useState(!0),[o,a]=I.useState(!1);return I.useEffect(()=>{if(!e)r("/",{replace:!0});else{if(n==="student"){const l=["/dashboard","/myECs","/claimEC","/reportIssue"],u=window.location.pathname;l.includes(u)?a(!0):r("/unauthorized",{replace:!0})}else if(n==="service_admin"){const l=["/dashboard","/reportIssue","/trackIssues","/handleIssues","/handleServiceIssues"],u=window.location.pathname;l.includes(u)?a(!0):r("/unauthorized",{replace:!0})}else if(n==="ec_admin"){const l=["/dashboard","/trackStudentECs","/handleECs","/reportIssue","/trackIssues"],u=window.location.pathname;l.includes(u)?a(!0):r("/unauthorized",{replace:!0})}else if(n==="staff"){const l=["/dashboard","/trackStudentECs","/reportIssue","/trackIssues"],u=window.location.pathname;l.includes(u)?a(!0):r("/unauthorized",{replace:!0})}else a(!1);s(!1)}},[e,r,n]),i?m.jsx(ul,{}):o?t:null};_i.propTypes={children:Be.node.isRequired};const qx=I.createContext(),oh=()=>I.useContext(qx),Kx=({children:t})=>{const[e,n]=I.useState(null),r=So();return I.useEffect(()=>{(async()=>{if(r&&r.uid){const s=is(On,"users",r.uid);try{const o=await kx(s);if(o.exists()){const a=o.data();n(a.name)}else console.log("User document does not exist")}catch(o){console.error("Error getting user document:",o)}}})()},[r]),m.jsx(qx.Provider,{value:e,children:t})};Kx.propTypes={children:Be.node.isRequired};function Gx(){const t=new Date,e=["January","February","March","April","May","June","July","August","September","October","November","December"];return`${t.getDate()} ${e[t.getMonth()]} ${t.getFullYear()}`}const M$=async(t,{resetForm:e,setError:n,setLoading:r,navigate:i})=>{try{const s=t.reportedBy||"Anonymous",o={issueType:t.issueType,issueLocation:t.issueLocation,issueMachine:t.issueMachine,issueDescription:t.issueDescription,reportedBy:s,issueStatus:!0,reportedOn:Gx()};await Dx(jl(On,"tickets"),o),e(),n(null),r(!1),window.alert("Issue Reported Successfully."),i("/dashboard")}catch(s){window.alert("There was an error while reporting the issue, please try again."),console.log("Error inserting into database: "+s.message),r(!1)}},V$=t=>{const e={};return t.issueType||(e.issueType="Please select the type of issue."),t.issueLocation||(e.issueLocation="Please enter the location of the issue."),t.issueDescription||(e.issueDescription="Please describe the issue."),e},j$=()=>{const t=bn(),[e,n]=I.useState(null),[r,i]=I.useState(!1),s=So(),o=lg({initialValues:{issueType:"",issueLocation:"",issueMachine:"",issueDescription:"",resportedBy:s.uid},validate:V$,onSubmit:(a,{resetForm:l})=>M$(a,{resetForm:l,setError:n,setLoading:i,navigate:t})});return m.jsx("div",{className:"flex items-center justify-center h-screen p-4",children:m.jsx("main",{className:"w-full md:w-auto",children:m.jsxs("form",{onSubmit:o.handleSubmit,className:"flex flex-col gap-8 w-full md:w-[750px] p-10 bg-white rounded-[32px]",children:[m.jsx("h1",{className:"font-Roboto text-xl md:text-3xl text-matteBlack text-center",children:"Report a Service Issue"}),e&&m.jsxs("span",{className:"w-full m-1 flex items-center gap-1 font-OpenSans text-dangerRed text-md md:text-lg",children:[m.jsx("i",{className:"bx bx-error-circle"}),e]}),m.jsxs("span",{children:[m.jsx("label",{htmlFor:"guidance",className:"w-full h-12 px-4 py-2 font-Poppins text-matteBlack text-md md:text-lg rounded-xl",children:"Issue Type:"}),m.jsxs("select",{id:"issueType",name:"issueType",value:o.values.issueType,onChange:o.handleChange,onBlur:o.handleBlur,className:"font-Poppins text-matteBlack text-md md:text-lg rounded-xl",children:[m.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Select Issue Type"}),m.jsx("option",{value:"EE",children:"EE"}),m.jsx("option",{value:"ITL",children:"ITL"}),m.jsx("option",{value:"ITS",children:"ITS"})]})]}),m.jsx("input",{id:"issueLocation",name:"issueLocation",type:"issueLocation",placeholder:"Enter the location of the issue (e.g TB - G202)",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.issueLocation,className:"w-full h-12 px-4 py-2 font-Poppins bg-lightBG text-matteBlack text-md md:text-lg rounded-xl"}),o.touched.issueLocation&&o.errors.issueLocation&&m.jsxs("span",{className:"w-full m-1 flex items-center gap-1 font-OpenSans text-dangerRed text-md md:text-lg",children:[m.jsx("i",{className:"bx bx-error-circle"}),o.errors.issueType]}),m.jsx("input",{id:"issueMachine",name:"issueMachine",type:"issueMachine",placeholder:"Enter ID of the issue machine (optional)",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.issueMachine,className:"w-full h-12 px-4 py-2 font-Poppins bg-lightBG text-matteBlack text-md md:text-lg rounded-xl"}),o.touched.issueMachine&&o.errors.issueMachine&&m.jsxs("span",{className:"w-full m-1 flex items-center gap-1 font-OpenSans text-dangerRed text-md md:text-lg",children:[m.jsx("i",{className:"bx bx-error-circle"}),o.errors.issueMachine]}),m.jsx("input",{id:"issueDescription",name:"issueDescription",type:"issueDescription",placeholder:"Enter a brief description of the issue.",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.issueDescription,className:"w-full h-12 px-4 py-2 font-Poppins bg-lightBG text-matteBlack text-md md:text-lg rounded-xl"}),o.touched.issueDescription&&o.errors.issueDescription&&m.jsxs("span",{className:"w-full m-1 flex items-center gap-1 font-OpenSans text-dangerRed text-md md:text-lg",children:[m.jsx("i",{className:"bx bx-error-circle"}),o.errors.issueDescription]}),m.jsx("button",{type:"submit",disabled:r,className:" w-full h-12 border-2 border-royalPurple m-2 rounded-full font-Nunito text-lg md:text-xl text-matteBlack hover:text-white hover:bg-royalPurple transition-colors duration-300",children:r?m.jsx(ul,{}):m.jsx("span",{className:"flex items-center gap-2 text-center justify-center",children:"Report Issue"})}),m.jsx("button",{onClick:()=>t("/dashboard"),type:"submit",disabled:r,className:" w-full h-12 border-2 border-royalPurple m-2 rounded-full font-Nunito text-lg md:text-xl text-matteBlack hover:text-white hover:bg-royalPurple transition-colors duration-300",children:r?m.jsx(ul,{}):m.jsx("span",{className:"flex items-center gap-2 text-center justify-center",children:"Go to Dashboard"})})]})})})},F$=async(t,{resetForm:e,setError:n,setLoading:r,navigate:i})=>{try{r(!0),await Dx(jl(On,"ecClaims"),{studentID:t.sid,userID:t.uid,guidance:t.guidance,claimType:t.claimType,claimReason:t.claimReason,assessments:t.assessments,status:!1,date:Gx()}),e(),n(null),r(!1),i("/dashboard")}catch(s){console.error(s),n("An error occurred. Please try again."),r(!1)}},$$=t=>{const e={};return t.guidance||(e.guidance="Please select whether you sought guidance"),t.sid||(e.sid="Please enter your Student ID."),t.claimType||(e.claimType="Please select a claim type"),t.claimReason||(e.claimReason="Please enter a reason for the claim"),t.assessments||(e.assessments="Please enter the assessments."),e},U$=()=>{const[t,e]=I.useState(null),[n,r]=I.useState(!1),i=bn(),s=So().uid,o=lg({initialValues:{guidance:"",sid:"",uid:s,claimType:"",claimReason:"",assessments:""},validate:$$,onSubmit:(a,{resetForm:l})=>F$(a,{resetForm:l,setError:e,setLoading:r,navigate:i})});return m.jsx("main",{className:"flex items-center justify-center h-max p-8",children:m.jsxs("form",{onSubmit:o.handleSubmit,className:"flex flex-col gap-8 w-full md:w-[750px] p-10 bg-white rounded-[32px]",children:[m.jsx("h1",{className:"font-Roboto text-xl md:text-3xl text-matteBlack text-center",children:"Claim EC"}),n&&m.jsx(ul,{}),t&&m.jsxs("span",{className:"w-full m-1 flex items-center gap-1 font-OpenSans text-dangerRed text-md md:text-lg",children:[m.jsx("i",{className:"bx bx-error-circle"}),t]}),m.jsxs("span",{className:"flex flex-col items-start gap-2",children:[m.jsx("label",{htmlFor:"guidance",className:"w-full h-12 px-4 py-2 font-Poppins  text-matteBlack text-md md:text-lg rounded-xl",children:"Did you seek guidance before applying for an EC?"}),m.jsxs("div",{children:[m.jsx("input",{id:"guidance-yes",name:"guidance",type:"radio",onChange:o.handleChange,value:"yes",checked:o.values.guidance==="yes",className:"mr-1"}),m.jsx("label",{htmlFor:"guidance-yes",className:"w-full h-12 px-4 py-2 font-Poppins  text-matteBlack text-md md:text-lg rounded-xl",children:"Yes"})]}),m.jsxs("div",{children:[m.jsx("input",{id:"guidance-no",name:"guidance",type:"radio",onChange:o.handleChange,value:"no",checked:o.values.guidance==="no",className:"mr-1"}),m.jsx("label",{htmlFor:"guidance-no",className:"w-full h-12 px-4 py-2 font-Poppins  text-matteBlack text-md md:text-lg rounded-xl",children:"No"})]}),o.touched.guidance&&o.errors.guidance?m.jsx("div",{className:"w-full m-1 flex items-center gap-1 font-OpenSans text-dangerRed text-md md:text-lg",children:o.errors.guidance}):null]}),m.jsx("label",{htmlFor:"claimType",className:"w-full h-12 px-4 py-2 font-Poppins  text-matteBlack text-md md:text-lg rounded-xl",children:"Enter your Student ID Number"}),m.jsx("input",{id:"sid",name:"sid",type:"text",placeholder:"Separate each with a comma",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.sid,className:"w-full h-12 px-4 py-2 font-Poppins bg-lightBG text-matteBlack text-md md:text-lg rounded-xl"}),o.touched.sid&&o.errors.sid&&m.jsxs("span",{className:"w-full m-1 flex items-center gap-1 font-OpenSans text-dangerRed text-md md:text-lg",children:[m.jsx("i",{className:"bx bx-error-circle"}),o.errors.sid]}),m.jsxs("span",{className:"flex flex-col items-start gap-2",children:[m.jsx("label",{htmlFor:"claimType",className:"w-full h-12 px-4 py-2 font-Poppins  text-matteBlack text-md md:text-lg rounded-xl",children:"Select the type of EC"}),m.jsxs("div",{children:[m.jsx("input",{id:"claimType-standard",name:"claimType",type:"radio",onChange:o.handleChange,onBlur:o.handleBlur,value:"standard",checked:o.values.claimType==="standard",className:"mr-1"}),m.jsx("label",{htmlFor:"claimType-standard",className:"w-full h-12 px-4 py-2 font-Poppins  text-matteBlack text-md md:text-lg rounded-xl",children:"Standard"})]}),m.jsxs("div",{children:[m.jsx("input",{id:"claimType-selfCertified",name:"claimType",type:"radio",onChange:o.handleChange,onBlur:o.handleBlur,value:"self-certified",checked:o.values.claimType==="self-certified",className:"mr-1"}),m.jsx("label",{htmlFor:"claimType-selfCertified",className:"w-full h-12 px-4 py-2 font-Poppins  text-matteBlack text-md md:text-lg rounded-xl",children:"Self-Certified"})]}),o.touched.claimType&&o.errors.claimType?m.jsx("div",{className:"w-full m-1 flex items-center gap-1 font-OpenSans text-dangerRed text-md md:text-lg",children:o.errors.claimType}):null]}),m.jsx("label",{htmlFor:"claimType",className:"w-full h-12 px-4 py-2 font-Poppins  text-matteBlack text-md md:text-lg rounded-xl",children:"Which assessments are you claiming for?"}),m.jsx("input",{id:"assessments",name:"assessments",type:"text",placeholder:"Separate each with a comma",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.assessments,className:"w-full h-12 px-4 py-2 font-Poppins bg-lightBG text-matteBlack text-md md:text-lg rounded-xl"}),o.touched.assessments&&o.errors.assessments&&m.jsxs("span",{className:"w-full m-1 flex items-center gap-1 font-OpenSans text-dangerRed text-md md:text-lg",children:[m.jsx("i",{className:"bx bx-error-circle"}),o.errors.assessments]}),m.jsx("label",{htmlFor:"claimType",className:"w-full h-12 px-4 py-2 font-Poppins  text-matteBlack text-md md:text-lg rounded-xl",children:"Please explain the reason for claiming an EC"}),m.jsx("input",{id:"claimReason",name:"claimReason",type:"text",placeholder:"Max 150 words",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.claimReason,className:"w-full h-12 px-4 py-2 font-Poppins bg-lightBG text-matteBlack text-md md:text-lg rounded-xl"}),o.touched.claimReason&&o.errors.claimReason&&m.jsxs("span",{className:"w-full m-1 flex items-center gap-1 font-OpenSans text-dangerRed text-md md:text-lg",children:[m.jsx("i",{className:"bx bx-error-circle"}),o.errors.claimReason]}),m.jsx("p",{className:"w-full h-12 px-4 py-2 font-Poppins  text-matteBlack text-md md:text-lg rounded-xl",children:"By submitting this claim, you hereby declare that all the information provided is true to the best of my knowledge."}),m.jsx("button",{type:"submit",className:"w-full h-12 border-2 border-royalPurple m-2 rounded-full font-Nunito text-lg md:text-xl text-matteBlack hover:text-white hover:bg-royalPurple transition-colors duration-300",children:"Submit EC Claim"}),m.jsx("button",{onClick:()=>i("/dashboard"),className:"w-full h-12 border-2 border-royalPurple m-2 rounded-full font-Nunito text-lg md:text-xl text-matteBlack hover:text-white hover:bg-royalPurple transition-colors duration-300",children:"Go to Dashboard"})]})})},B$=async()=>{try{return(await xy(jl(On,"ecClaims"))).docs.map(e=>({...e.data(),id:e.id}))}catch(t){return console.log("Error fetching ECs:",t.message),[]}},Bl=()=>m.jsx("div",{children:m.jsx("main",{className:"text-center text-lg sm:text-xl md:text-2xl",children:" 2024 QMUL Feedback & Issues Hub"})}),z$=async t=>{if(confirm("Are you sure you want to reject this EC claim?")){const n={status:!1},r=is(On,"ecClaims",t);await ih(r,n),console.log("EC claim rejected successfully."),window.location.reload()}else console.log("EC claim rejection canceled.")},W$=async t=>{if(confirm("Are you sure you want to approve this EC claim?")){const n={status:!0},r=is(On,"ecClaims",t);await ih(r,n),console.log("EC claim approved successfully."),window.location.reload()}else console.log("EC claim approval canceled.")},Ry=t=>{let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e&=e}return e=Math.abs(e),e%=1e5,e},Qx=({id:t,sid:e,assessments:n,status:r,reason:i,type:s,date:o})=>{const[a,l]=I.useState(!1),u=r==null;return m.jsxs("span",{className:"w-full rounded-xl py-4 px-6 hover:cursor-pointer ",children:[m.jsxs("div",{className:"w-full border-2 rounded-xl py-4 px-6 grid grid-cols-4 place-items-start items-center mt-2",onClick:()=>l(!a),children:[m.jsx("p",{className:"text-md md:text-lg lg:text-xl",children:Ry(t)}),m.jsx("p",{className:"text-md md:text-lg lg:text-xl",children:e}),m.jsx("p",{className:"text-md md:text-lg lg:text-xl",children:n}),r===!0?m.jsx("span",{className:"px-4 py-2 border rounded-full w-full text-coolWhite text-center bg-successGreen text-md md:text-lg lg:text-xl",children:"Approved"}):r===!1?m.jsx("span",{className:"px-4 py-2 border rounded-full w-full text-coolWhite text-center bg-dangerRed text-md md:text-lg lg:text-xl",children:"Rejected"}):m.jsx("span",{className:"px-4 py-2 border rounded-full w-full text-matteBlack text-center bg-warningYellow text-md md:text-lg lg:text-xl",children:"Under Review"})]},t),a&&m.jsxs("div",{className:"w-full py-4 px-6 flex justify-between items-center place-items-start my-2",children:[m.jsxs("p",{className:"font-Poppins text-md sm:text-lg md:text-xl",children:["Reason: ",i]}),m.jsxs("p",{className:"font-Poppins text-md sm:text-lg md:text-xl",children:["Claim Type: ",s]}),m.jsxs("p",{className:"font-Poppins text-md sm:text-lg md:text-xl",children:["Date of Claim: ",o]}),u?m.jsxs("div",{className:"flex flex-col items-center gap-3",children:[m.jsx("button",{className:"w-full p-2 mx-2 rounded-full bg-sail hover:bg-dangerRed transition-colors duration-300 text-matteBlack hover:text-coolWhite",onClick:()=>z$(t),children:"Reject EC"}),m.jsx("button",{className:"w-full p-2 mx-2 rounded-full bg-sail hover:bg-successGreen transition-colors duration-300 text-matteBlack hover:text-coolWhite",onClick:()=>W$(t),children:"Approve EC"})]}):m.jsx("p",{className:"font-Poppins text-md sm:text-lg md:text-xl text-infoTeal",children:"Reviewed"})]})]})};Qx.propTypes={id:Be.string.isRequired,sid:Be.string.isRequired,assessments:Be.string.isRequired,status:Be.oneOfType([Be.bool,Be.oneOf([void 0,null])]).isRequired,reason:Be.string.isRequired,type:Be.string.isRequired,date:Be.string.isRequired};const H$=()=>{const[t,e]=I.useState([]),n=So(),r=oh(),i=bn();return I.useEffect(()=>{(async()=>{try{const o=await B$(n.uid);e(o)}catch(o){console.error("Error fetching ECs:",o)}})()},[n.uid]),m.jsx("div",{className:"flex items-center justify-center h-max py-8 px-4",children:m.jsxs("main",{className:"w-full",children:[m.jsxs("h1",{className:"font-Montserrat text-matteBlack text-2xl sm:text-3xl md:text-4xl lg:text-5xl my-4 text-center",children:["Hi ",r,", here are all the current ECs"]}),m.jsx("h1",{className:"font-Poppins text-matteBlack text-md sm:text-lg md:text-xl lg:text-2xl my-8 text-center",children:"Select an EC to view more details or to either approve or reject the claim."}),m.jsxs("div",{className:"w-full rounded-xl py-4 px-6 grid grid-cols-4 place-items-start items-center my-5 bg-gray-700 text-coolWhite text-center",children:[m.jsx("p",{className:"font-OpenSans text-xl sm:text-2xl md:text-3xl lg:text-4xl text-center",children:"ID"}),m.jsx("p",{className:"font-OpenSans text-xl sm:text-2xl md:text-3xl lg:text-4xl text-center",children:"Student ID"}),m.jsx("p",{className:"font-OpenSans text-xl sm:text-2xl md:text-3xl lg:text-4xl text-center",children:"Assessment(s)"}),m.jsx("span",{className:"px-4 py-2 w-max font-OpenSans text-xl sm:text-2xl md:text-3xl lg:text-4xl text-center",children:"Status"})]}),t.map((s,o)=>m.jsx(Qx,{id:s.id,sid:s.studentID,assessments:s.assessments,status:s.status,reason:s.claimReason,type:s.claimType,date:s.date},o)),m.jsx("button",{onClick:()=>i("/dashboard"),className:"w-full h-12 border-2 border-royalPurple my-8 rounded-full font-Nunito text-lg md:text-xl text-matteBlack hover:text-white hover:bg-royalPurple transition-colors duration-300",children:"Return to Dashboard"}),m.jsx(Bl,{})]})})},q$=[{linkName:"Claim EC",linkPath:"/claimEC"},{linkName:"Track My EC",linkPath:"/myECs"},{linkName:"Report Service Issue",linkPath:"/reportIssue"}],K$=[{linkName:"Report Service Issue",linkPath:"/reportIssue"},{linkName:"Handle Service Issue",linkPath:"/handleServiceIssues"}],G$=[{linkName:"Track/Handle ECs",linkPath:"/trackStudentECs"},{linkName:"Report Service Issue",linkPath:"/reportIssue"}],Q$=[{linkName:"Track Student ECs",linkPath:"/trackStudentECs"},{linkName:"Report Service Issue",linkPath:"/reportIssue"}],ah=async()=>{try{await X1(ll)}catch(t){console.log(t.message)}},Y$=()=>{const t=bn(),e=n=>{t(n)};return m.jsxs("div",{className:"bg-white w-full md:w-64 h-full fixed md:top-7rem md:right-0 md:z-50 flex flex-col gap-1 items-center py-8 px-4",children:[q$.map((n,r)=>m.jsx("button",{className:"w-full h-12 my-2 p-1 rounded-xl text-matteBlack text-lg md:text-xl hover:bg-linkWater transition-colors duration-200",onClick:()=>e(n.linkPath),children:n.linkName},r)),m.jsx("button",{className:"w-full h-12 my-2 p-1 rounded-xl text-matteBlack text-lg md:text-xl bg-linkWater hover:bg-sail transition-colors duration-200",onClick:ah,children:"Logout"})]})},X$=()=>{const t=Ul(),e=bn(),n=r=>{e(r)};return m.jsxs("div",{className:"bg-white w-full md:w-64 h-full fixed md:top-7rem md:right-0 md:z-50 flex flex-col gap-1 items-center py-8 px-4",children:[m.jsx("p",{className:"uppercase text-sm text-infoTeal my-5",children:t})," ",Q$.map((r,i)=>m.jsx("button",{className:"w-full h-12 my-2 p-1 rounded-xl text-matteBlack text-lg md:text-xl hover:bg-linkWater transition-colors duration-200",onClick:()=>n(r.linkPath),children:r.linkName},i)),m.jsx("button",{className:"w-full h-12 my-2 p-1 rounded-xl text-matteBlack text-lg md:text-xl bg-linkWater hover:bg-sail transition-colors duration-200",onClick:ah,children:"Logout"})]})},J$=()=>{const t=bn(),e=n=>{t(n)};return m.jsxs("div",{className:"bg-white w-full md:w-64 h-full fixed md:top-7rem md:right-0 md:z-50 flex flex-col gap-1 items-center py-8 px-4",children:[K$.map((n,r)=>m.jsx("button",{className:"w-full h-12 my-2 p-1 rounded-xl text-matteBlack text-lg md:text-xl hover:bg-linkWater transition-colors duration-200",onClick:()=>e(n.linkPath),children:n.linkName},r)),m.jsx("button",{className:"w-full h-12 my-2 p-1 rounded-xl text-matteBlack text-lg md:text-xl bg-linkWater hover:bg-sail transition-colors duration-200",onClick:ah,children:"Logout"})]})},Z$=()=>{const t=bn(),e=n=>{t(n)};return m.jsxs("div",{className:"bg-white w-full md:w-64 h-full fixed md:top-7rem md:right-0 md:z-50 flex flex-col gap-1 items-center py-8 px-4",children:[G$.map((n,r)=>m.jsx("button",{className:"w-full h-12 my-2 p-1 rounded-xl text-matteBlack text-lg md:text-xl hover:bg-linkWater transition-colors duration-200",onClick:()=>e(n.linkPath),children:n.linkName},r)),m.jsx("button",{className:"w-full h-12 my-2 p-1 rounded-xl text-matteBlack text-lg md:text-xl bg-linkWater hover:bg-sail transition-colors duration-200",onClick:ah,children:"Logout"})]})},Yx=()=>{const[t,e]=I.useState(!1),n=oh(),r=Ul();console.log("User Role",r);const i=()=>{e(!t)};return m.jsxs("div",{children:[m.jsxs("header",{className:"bg-royalPurple w-full p-8 flex flex-col md:flex-row gap-4 items-center justify-between relative z-10",children:[m.jsx("p",{className:"font-Montserrat text-xl sm:text-2xl md:text-3xl lg:text-4xl text-coolWhite",children:"QMUL Feedback & Issues Hub"}),m.jsxs("nav",{className:"",children:[m.jsxs("button",{className:"text-3xl md:text-4xl mx-5",children:[m.jsx("i",{className:"bx bx-home-alt text-coolWhite"})," "]}),m.jsx("button",{className:"text-3xl md:text-4xl mx-5",children:m.jsx("i",{className:"bx bx-bell text-coolWhite"})}),m.jsx("button",{className:"text-3xl md:text-4xl mx-5",onClick:i,children:t?m.jsx("i",{className:"bx bx-x text-coolWhite"}):m.jsx("i",{className:"bx bx-menu text-coolWhite"})})]})]}),m.jsxs("div",{className:"flex",children:[m.jsxs("h1",{className:"font-Roboto text-xl sm:text-2xl md:text-3xl lg:text-4xl text-matteBlack text-center m-8",children:["Welcome Back ",n]}),t&&r==="student"&&m.jsx(Y$,{}),t&&r==="staff"&&m.jsx(X$,{}),t&&r==="service_admin"&&m.jsx(J$,{}),t&&r==="ec_admin"&&m.jsx(Z$,{})]})]})},eU=async()=>{try{const t=Ax(jl(On,"tickets"),c$("reportedOn","desc"));return(await xy(t)).docs.map(n=>({...n.data(),id:n.id}))}catch(t){return console.log("Error fetching tickets: "+t.message),[]}},tU=async t=>{if(confirm("Are you sure this issue has been resolved?")){const n={issueStatus:!1},r=is(On,"tickets",t);await ih(r,n),window.location.reload()}else console.log("Ticket could not be updated")},nU=async t=>{if(confirm("Are you sure this issue has not been resolved?")){const n={issueStatus:!0},r=is(On,"tickets",t);await ih(r,n),window.location.reload()}else console.log("Ticket could not be updated")},Xx=({ticketID:t,ticketType:e,issueLocation:n,ticketSubject:r,ticketStatus:i,ticketDate:s})=>{const[o,a]=I.useState(!1),l=i===!1,u=Ul();return m.jsxs("div",{className:"bg-gray-100 rounded-b-lg p-2 border-b-2  hover:cursor-pointer",onClick:()=>a(!o),children:[m.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-6 place-items-center gap-3 md:gap-6 my-3",children:[m.jsx("p",{className:"font-Roboto",children:Ry(t)}),m.jsx("p",{className:"font-Roboto",children:e}),m.jsx("p",{className:"font-Roboto",children:n}),m.jsx("p",{className:"hidden md:block font-Roboto",children:s}),m.jsx("p",{className:"hidden md:block font-Roboto text-center",children:r}),i===!0?m.jsx("span",{className:"px-4 py-2 border rounded-full w-full text-center bg-dangerRed text-coolWhite",children:"Ongoing"}):i===!1?m.jsx("span",{className:"px-4 py-2 border rounded-full w-full text-center bg-successGreen text-coolWhite",children:"Closed"}):m.jsx("span",{className:"px-4 py-2 border rounded-full w-full text-center bg-warningYellow text-matteBlack ",children:"Under Review"})]}),o&&m.jsxs("span",{children:[m.jsxs("div",{className:"flex flex-col items-center gap-2 my-4 md:hidden",children:[m.jsxs("p",{className:"md:hidden block font-Roboto",children:["Reported on: ",s]}),m.jsxs("p",{className:"md:hidden block font-Roboto",children:["Issue: ",r]})]}),u==="service_admin"&&m.jsx("div",{className:"flex flex-col items-center gap-3",children:l?m.jsx("p",{className:"font-Roboto text-md sm:text-lg md:text-xl text-infoTeal",children:"Reviewed"}):m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"w-full p-2 mx-2 rounded-full bg-sail hover:bg-successGreen transition-colors duration-300 text-matteBlack hover:text-coolWhite",onClick:()=>tU(t),children:"Close Ticket"}),m.jsx("button",{className:"w-full p-2 mx-2 rounded-full bg-sail hover:bg-dangerRed transition-colors duration-300 text-matteBlack hover:text-coolWhite",onClick:()=>nU(t),children:"Issue Still Exists"})]})})]})]})};Xx.propTypes={ticketID:Be.string.isRequired,ticketType:Be.string.isRequired,issueLocation:Be.string.isRequired,ticketSubject:Be.string.isRequired,ticketStatus:Be.oneOfType([Be.bool,Be.oneOf([void 0,null])]).isRequired,ticketDate:Be.string.isRequired};const Ay=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(!0),[i,s]=I.useState(null);return I.useEffect(()=>{(async()=>{try{const a=await eU();e(a),r(!1)}catch(a){s(a),r(!1)}})()},[]),n?m.jsx("p",{children:"Loading..."}):i?m.jsxs("p",{children:["Error: ",i.message]}):m.jsx("div",{children:m.jsxs("main",{children:[m.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-6 place-items-center bg-gray-200 rounded-t-lg p-2",children:[m.jsx("p",{className:"",children:"Ticket ID"}),m.jsx("p",{className:"",children:"Ticket Type"}),m.jsx("p",{className:"hidden md:block",children:"Issue Location"}),m.jsx("p",{className:"",children:"Reported Date"}),m.jsx("p",{className:"hidden md:block",children:"Subject"}),m.jsx("p",{className:"",children:"Ticket Status"})]}),t.map((o,a)=>m.jsx(Xx,{ticketID:o.id,ticketSubject:o.issueDescription,ticketStatus:o.issueStatus,ticketDate:o.reportedOn,ticketType:o.issueType,issueLocation:o.issueLocation},a))]})})},rU=()=>m.jsx("div",{className:"flex items-center justify-center h-max",children:m.jsxs("div",{className:"w-full flex flex-col justify-between",children:[m.jsx(Yx,{}),m.jsxs("main",{className:"p-8 w-full h-full",children:[m.jsx("h1",{className:"font-OpenSans text-matteBlack text-xl sm:text2xl md:text-3xl lg:text-4xl my-4",children:"Current Issues"}),m.jsx(Ay,{})]}),m.jsx(Bl,{})]})}),iU=async t=>{try{const e=Ax(jl(On,"ecClaims"),u$("userID","==",t));return(await xy(e)).docs.map(r=>({...r.data(),id:r.id}))}catch(e){return console.log("Error fetching ECs:",e.message),[]}},sU=()=>{const[t,e]=I.useState([]),n=oh(),r=So().uid,i=bn();return I.useEffect(()=>{(async()=>{try{const o=await iU(r);e(o)}catch(o){console.error("Error fetching ECs:",o)}})()},[r]),m.jsx("div",{className:"flex items-center justify-center h-max py-8 px-48",children:m.jsxs("main",{className:"w-full",children:[m.jsxs("h1",{className:"font-Montserrat text-matteBlack text-2xl sm:text-3xl md:text-4xl lg:text-5xl my-8 text-center",children:["Hi ",n,", here are your ECs"]}),m.jsxs("div",{className:"w-full rounded-xl py-4 px-6 grid grid-cols-3 place-items-start items-center my-10 bg-gray-700 text-coolWhite text-center",children:[m.jsx("p",{className:"font-OpenSans text-xl sm:text-2xl md:text-3xl lg:text-4xl text-center",children:"ID"}),m.jsx("p",{className:"font-OpenSans text-xl sm:text-2xl md:text-3xl lg:text-4xl text-center",children:"Assessment(s)"}),m.jsx("span",{className:"px-4 py-2 w-max font-OpenSans text-xl sm:text-2xl md:text-3xl lg:text-4xl text-center",children:"Status"})]}),t.map(s=>m.jsxs("div",{className:"w-full border-2 rounded-xl py-4 px-6 grid grid-cols-3 place-items-start items-center my-10",children:[m.jsx("p",{children:Ry(s.id)}),m.jsx("p",{children:s.assessments}),s.status===!0?m.jsx("span",{className:"px-4 py-2 border rounded-full w-full text-center bg-successGreen",children:"Approved"}):m.jsx("span",{className:"px-4 py-2 border rounded-full w-full text-center bg-dangerRed",children:"Under Review"})]},s.id)),m.jsx("button",{onClick:()=>i("/dashboard"),className:"w-full h-12 border-2 border-royalPurple my-8 rounded-full font-Nunito text-lg md:text-xl text-matteBlack hover:text-white hover:bg-royalPurple transition-colors duration-300",children:"Return to Dashboard"}),m.jsx(Bl,{})]})})},oU=()=>{const t=Ul();return console.log(t),m.jsx("div",{className:"flex items-center justify-center h-max",children:m.jsxs("main",{className:"w-full flex flex-col gap-5",children:[m.jsx(Yx,{}),m.jsx("div",{children:m.jsx(Ay,{})}),m.jsx(Bl,{})]})})},aU=()=>{const t=bn(),e=oh();return m.jsx("div",{className:"flex items-center justify-center h-max py-8 px-4",children:m.jsxs("main",{children:[m.jsxs("h1",{className:"font-Montserrat text-matteBlack text-2xl sm:text-3xl md:text-4xl lg:text-5xl my-4 text-center",children:["Hi ",e,", here are all the current Service Issues"]}),m.jsx("h1",{className:"font-Poppins text-matteBlack text-md sm:text-lg md:text-xl lg:text-2xl my-8 text-center",children:"Select a ticket to either close or keep the ticket open."}),m.jsx(Ay,{}),m.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full h-12 border-2 border-royalPurple my-8 rounded-full font-Nunito text-lg md:text-xl text-matteBlack hover:text-white hover:bg-royalPurple transition-colors duration-300",children:"Return to Dashboard"}),m.jsx(Bl,{})]})})},lU=nO([{path:"/dashboard",element:m.jsx(_i,{children:m.jsx(rU,{})})},{path:"/claimEC",element:m.jsx(_i,{children:m.jsx(U$,{})})},{path:"/myECs",element:m.jsx(_i,{children:m.jsx(sU,{})})},{path:"/trackStudentECs",element:m.jsx(_i,{children:m.jsx(H$,{})})},{path:"/handleServiceIssues",element:m.jsx(_i,{children:m.jsx(aU,{})})},{path:"/reportIssue",element:m.jsx(_i,{children:m.jsx(j$,{})})},{path:"/",element:m.jsx(k$,{})},{path:"/testing",element:m.jsx(oU,{})}]);yf.createRoot(document.getElementById("root")).render(m.jsx(gw.StrictMode,{children:m.jsx(Ux,{children:m.jsx(zx,{children:m.jsx(Hx,{children:m.jsx(Kx,{children:m.jsx(dO,{router:lU})})})})})}))});export default uU();
